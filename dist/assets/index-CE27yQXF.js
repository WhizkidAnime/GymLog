function m0(l,a){for(var r=0;r<a.length;r++){const s=a[r];if(typeof s!="string"&&!Array.isArray(s)){for(const u in s)if(u!=="default"&&!(u in l)){const c=Object.getOwnPropertyDescriptor(s,u);c&&Object.defineProperty(l,u,c.get?c:{enumerable:!0,get:()=>s[u]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(u){if(u.ep)return;u.ep=!0;const c=r(u);fetch(u.href,c)}})();function Ac(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function qg(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var a=l.default;if(typeof a=="function"){var r=function s(){return this instanceof s?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};r.prototype=a.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(l).forEach(function(s){var u=Object.getOwnPropertyDescriptor(l,s);Object.defineProperty(r,s,u.get?u:{enumerable:!0,get:function(){return l[s]}})}),r}var Qu={exports:{}},zr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function g0(){if(Vm)return zr;Vm=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(s,u,c){var d=null;if(c!==void 0&&(d=""+c),u.key!==void 0&&(d=""+u.key),"key"in u){c={};for(var h in u)h!=="key"&&(c[h]=u[h])}else c=u;return u=c.ref,{$$typeof:l,type:s,key:d,ref:u!==void 0?u:null,props:c}}return zr.Fragment=a,zr.jsx=r,zr.jsxs=r,zr}var Gm;function v0(){return Gm||(Gm=1,Qu.exports=g0()),Qu.exports}var _=v0(),Ju={exports:{}},Mr={},Xu={exports:{}},Iu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym;function y0(){return Ym||(Ym=1,(function(l){function a(B,X){var ie=B.length;B.push(X);e:for(;0<ie;){var Ee=ie-1>>>1,we=B[Ee];if(0<u(we,X))B[Ee]=X,B[ie]=we,ie=Ee;else break e}}function r(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var X=B[0],ie=B.pop();if(ie!==X){B[0]=ie;e:for(var Ee=0,we=B.length,x=we>>>1;Ee<x;){var V=2*(Ee+1)-1,I=B[V],F=V+1,oe=B[F];if(0>u(I,ie))F<we&&0>u(oe,I)?(B[Ee]=oe,B[F]=ie,Ee=F):(B[Ee]=I,B[V]=ie,Ee=V);else if(F<we&&0>u(oe,ie))B[Ee]=oe,B[F]=ie,Ee=F;else break e}}return X}function u(B,X){var ie=B.sortIndex-X.sortIndex;return ie!==0?ie:B.id-X.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;l.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();l.unstable_now=function(){return d.now()-h}}var v=[],g=[],p=1,b=null,S=3,T=!1,M=!1,k=!1,j=!1,Y=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function Q(B){for(var X=r(g);X!==null;){if(X.callback===null)s(g);else if(X.startTime<=B)s(g),X.sortIndex=X.expirationTime,a(v,X);else break;X=r(g)}}function K(B){if(k=!1,Q(B),!M)if(r(v)!==null)M=!0,H||(H=!0,Ge());else{var X=r(g);X!==null&&rt(K,X.startTime-B)}}var H=!1,D=-1,Z=5,ne=-1;function he(){return j?!0:!(l.unstable_now()-ne<Z)}function Le(){if(j=!1,H){var B=l.unstable_now();ne=B;var X=!0;try{e:{M=!1,k&&(k=!1,L(D),D=-1),T=!0;var ie=S;try{t:{for(Q(B),b=r(v);b!==null&&!(b.expirationTime>B&&he());){var Ee=b.callback;if(typeof Ee=="function"){b.callback=null,S=b.priorityLevel;var we=Ee(b.expirationTime<=B);if(B=l.unstable_now(),typeof we=="function"){b.callback=we,Q(B),X=!0;break t}b===r(v)&&s(v),Q(B)}else s(v);b=r(v)}if(b!==null)X=!0;else{var x=r(g);x!==null&&rt(K,x.startTime-B),X=!1}}break e}finally{b=null,S=ie,T=!1}X=void 0}}finally{X?Ge():H=!1}}}var Ge;if(typeof z=="function")Ge=function(){z(Le)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,pt=vt.port2;vt.port1.onmessage=Le,Ge=function(){pt.postMessage(null)}}else Ge=function(){Y(Le,0)};function rt(B,X){D=Y(function(){B(l.unstable_now())},X)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(B){B.callback=null},l.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<B?Math.floor(1e3/B):5},l.unstable_getCurrentPriorityLevel=function(){return S},l.unstable_next=function(B){switch(S){case 1:case 2:case 3:var X=3;break;default:X=S}var ie=S;S=X;try{return B()}finally{S=ie}},l.unstable_requestPaint=function(){j=!0},l.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ie=S;S=B;try{return X()}finally{S=ie}},l.unstable_scheduleCallback=function(B,X,ie){var Ee=l.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Ee+ie:Ee):ie=Ee,B){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ie+we,B={id:p++,callback:X,priorityLevel:B,startTime:ie,expirationTime:we,sortIndex:-1},ie>Ee?(B.sortIndex=ie,a(g,B),r(v)===null&&B===r(g)&&(k?(L(D),D=-1):k=!0,rt(K,ie-Ee))):(B.sortIndex=we,a(v,B),M||T||(M=!0,H||(H=!0,Ge()))),B},l.unstable_shouldYield=he,l.unstable_wrapCallback=function(B){var X=S;return function(){var ie=S;S=X;try{return B.apply(this,arguments)}finally{S=ie}}}})(Iu)),Iu}var Km;function p0(){return Km||(Km=1,Xu.exports=y0()),Xu.exports}var Zu={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm;function b0(){if(Qm)return ue;Qm=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function T(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,j={};function Y(x,V,I){this.props=x,this.context=V,this.refs=j,this.updater=I||M}Y.prototype.isReactComponent={},Y.prototype.setState=function(x,V){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,V,"setState")},Y.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function L(){}L.prototype=Y.prototype;function z(x,V,I){this.props=x,this.context=V,this.refs=j,this.updater=I||M}var Q=z.prototype=new L;Q.constructor=z,k(Q,Y.prototype),Q.isPureReactComponent=!0;var K=Array.isArray;function H(){}var D={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function ne(x,V,I){var F=I.ref;return{$$typeof:l,type:x,key:V,ref:F!==void 0?F:null,props:I}}function he(x,V){return ne(x.type,V,x.props)}function Le(x){return typeof x=="object"&&x!==null&&x.$$typeof===l}function Ge(x){var V={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(I){return V[I]})}var vt=/\/+/g;function pt(x,V){return typeof x=="object"&&x!==null&&x.key!=null?Ge(""+x.key):V.toString(36)}function rt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(H,H):(x.status="pending",x.then(function(V){x.status==="pending"&&(x.status="fulfilled",x.value=V)},function(V){x.status==="pending"&&(x.status="rejected",x.reason=V)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function B(x,V,I,F,oe){var me=typeof x;(me==="undefined"||me==="boolean")&&(x=null);var xe=!1;if(x===null)xe=!0;else switch(me){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(x.$$typeof){case l:case a:xe=!0;break;case p:return xe=x._init,B(xe(x._payload),V,I,F,oe)}}if(xe)return oe=oe(x),xe=F===""?"."+pt(x,0):F,K(oe)?(I="",xe!=null&&(I=xe.replace(vt,"$&/")+"/"),B(oe,V,I,"",function(ha){return ha})):oe!=null&&(Le(oe)&&(oe=he(oe,I+(oe.key==null||x&&x.key===oe.key?"":(""+oe.key).replace(vt,"$&/")+"/")+xe)),V.push(oe)),1;xe=0;var ot=F===""?".":F+":";if(K(x))for(var He=0;He<x.length;He++)F=x[He],me=ot+pt(F,He),xe+=B(F,V,I,me,oe);else if(He=T(x),typeof He=="function")for(x=He.call(x),He=0;!(F=x.next()).done;)F=F.value,me=ot+pt(F,He++),xe+=B(F,V,I,me,oe);else if(me==="object"){if(typeof x.then=="function")return B(rt(x),V,I,F,oe);throw V=String(x),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return xe}function X(x,V,I){if(x==null)return x;var F=[],oe=0;return B(x,F,"","",function(me){return V.call(I,me,oe++)}),F}function ie(x){if(x._status===-1){var V=x._result;V=V(),V.then(function(I){(x._status===0||x._status===-1)&&(x._status=1,x._result=I)},function(I){(x._status===0||x._status===-1)&&(x._status=2,x._result=I)}),x._status===-1&&(x._status=0,x._result=V)}if(x._status===1)return x._result.default;throw x._result}var Ee=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},we={map:X,forEach:function(x,V,I){X(x,function(){V.apply(this,arguments)},I)},count:function(x){var V=0;return X(x,function(){V++}),V},toArray:function(x){return X(x,function(V){return V})||[]},only:function(x){if(!Le(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return ue.Activity=b,ue.Children=we,ue.Component=Y,ue.Fragment=r,ue.Profiler=u,ue.PureComponent=z,ue.StrictMode=s,ue.Suspense=v,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,ue.__COMPILER_RUNTIME={__proto__:null,c:function(x){return D.H.useMemoCache(x)}},ue.cache=function(x){return function(){return x.apply(null,arguments)}},ue.cacheSignal=function(){return null},ue.cloneElement=function(x,V,I){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var F=k({},x.props),oe=x.key;if(V!=null)for(me in V.key!==void 0&&(oe=""+V.key),V)!Z.call(V,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&V.ref===void 0||(F[me]=V[me]);var me=arguments.length-2;if(me===1)F.children=I;else if(1<me){for(var xe=Array(me),ot=0;ot<me;ot++)xe[ot]=arguments[ot+2];F.children=xe}return ne(x.type,oe,F)},ue.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},ue.createElement=function(x,V,I){var F,oe={},me=null;if(V!=null)for(F in V.key!==void 0&&(me=""+V.key),V)Z.call(V,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(oe[F]=V[F]);var xe=arguments.length-2;if(xe===1)oe.children=I;else if(1<xe){for(var ot=Array(xe),He=0;He<xe;He++)ot[He]=arguments[He+2];oe.children=ot}if(x&&x.defaultProps)for(F in xe=x.defaultProps,xe)oe[F]===void 0&&(oe[F]=xe[F]);return ne(x,me,oe)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(x){return{$$typeof:h,render:x}},ue.isValidElement=Le,ue.lazy=function(x){return{$$typeof:p,_payload:{_status:-1,_result:x},_init:ie}},ue.memo=function(x,V){return{$$typeof:g,type:x,compare:V===void 0?null:V}},ue.startTransition=function(x){var V=D.T,I={};D.T=I;try{var F=x(),oe=D.S;oe!==null&&oe(I,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(H,Ee)}catch(me){Ee(me)}finally{V!==null&&I.types!==null&&(V.types=I.types),D.T=V}},ue.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},ue.use=function(x){return D.H.use(x)},ue.useActionState=function(x,V,I){return D.H.useActionState(x,V,I)},ue.useCallback=function(x,V){return D.H.useCallback(x,V)},ue.useContext=function(x){return D.H.useContext(x)},ue.useDebugValue=function(){},ue.useDeferredValue=function(x,V){return D.H.useDeferredValue(x,V)},ue.useEffect=function(x,V){return D.H.useEffect(x,V)},ue.useEffectEvent=function(x){return D.H.useEffectEvent(x)},ue.useId=function(){return D.H.useId()},ue.useImperativeHandle=function(x,V,I){return D.H.useImperativeHandle(x,V,I)},ue.useInsertionEffect=function(x,V){return D.H.useInsertionEffect(x,V)},ue.useLayoutEffect=function(x,V){return D.H.useLayoutEffect(x,V)},ue.useMemo=function(x,V){return D.H.useMemo(x,V)},ue.useOptimistic=function(x,V){return D.H.useOptimistic(x,V)},ue.useReducer=function(x,V,I){return D.H.useReducer(x,V,I)},ue.useRef=function(x){return D.H.useRef(x)},ue.useState=function(x){return D.H.useState(x)},ue.useSyncExternalStore=function(x,V,I){return D.H.useSyncExternalStore(x,V,I)},ue.useTransition=function(){return D.H.useTransition()},ue.version="19.2.0",ue}var Jm;function Cc(){return Jm||(Jm=1,Zu.exports=b0()),Zu.exports}var Pu={exports:{}},mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm;function _0(){if(Xm)return mt;Xm=1;var l=Cc();function a(v){var g="https://react.dev/errors/"+v;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+v+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(v,g,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:v,containerInfo:g,implementation:p}}var d=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(v,g){if(v==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mt.createPortal=function(v,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return c(v,g,null,p)},mt.flushSync=function(v){var g=d.T,p=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=g,s.p=p,s.d.f()}},mt.preconnect=function(v,g){typeof v=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(v,g))},mt.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},mt.preinit=function(v,g){if(typeof v=="string"&&g&&typeof g.as=="string"){var p=g.as,b=h(p,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?s.d.S(v,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:T}):p==="script"&&s.d.X(v,{crossOrigin:b,integrity:S,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mt.preinitModule=function(v,g){if(typeof v=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=h(g.as,g.crossOrigin);s.d.M(v,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(v)},mt.preload=function(v,g){if(typeof v=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,b=h(p,g.crossOrigin);s.d.L(v,p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mt.preloadModule=function(v,g){if(typeof v=="string")if(g){var p=h(g.as,g.crossOrigin);s.d.m(v,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(v)},mt.requestFormReset=function(v){s.d.r(v)},mt.unstable_batchedUpdates=function(v,g){return v(g)},mt.useFormState=function(v,g,p){return d.H.useFormState(v,g,p)},mt.useFormStatus=function(){return d.H.useHostTransitionStatus()},mt.version="19.2.0",mt}var Im;function Hg(){if(Im)return Pu.exports;Im=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Pu.exports=_0(),Pu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm;function w0(){if(Zm)return Mr;Zm=1;var l=p0(),a=Cc(),r=Hg();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(s(188))}function g(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var f=o.alternate;if(f===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===f.child){for(f=o.child;f;){if(f===n)return v(o),e;if(f===i)return v(o),t;f=f.sibling}throw Error(s(188))}if(n.return!==i.return)n=o,i=f;else{for(var m=!1,y=o.child;y;){if(y===n){m=!0,n=o,i=f;break}if(y===i){m=!0,i=o,n=f;break}y=y.sibling}if(!m){for(y=f.child;y;){if(y===n){m=!0,n=f,i=o;break}if(y===i){m=!0,i=f,n=o;break}y=y.sibling}if(!m)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),z=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),Le=Symbol.iterator;function Ge(e){return e===null||typeof e!="object"?null:(e=Le&&e[Le]||e["@@iterator"],typeof e=="function"?e:null)}var vt=Symbol.for("react.client.reference");function pt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===vt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case Y:return"Profiler";case j:return"StrictMode";case K:return"Suspense";case H:return"SuspenseList";case ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case z:return e.displayName||"Context";case L:return(e._context.displayName||"Context")+".Consumer";case Q:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return t=e.displayName||null,t!==null?t:pt(e.type)||"Memo";case Z:t=e._payload,e=e._init;try{return pt(e(t))}catch{}}return null}var rt=Array.isArray,B=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},Ee=[],we=-1;function x(e){return{current:e}}function V(e){0>we||(e.current=Ee[we],Ee[we]=null,we--)}function I(e,t){we++,Ee[we]=e.current,e.current=t}var F=x(null),oe=x(null),me=x(null),xe=x(null);function ot(e,t){switch(I(me,t),I(oe,e),I(F,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?fm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=fm(t),e=dm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(F),I(F,e)}function He(){V(F),V(oe),V(me)}function ha(e){e.memoizedState!==null&&I(xe,e);var t=F.current,n=dm(t,e.type);t!==n&&(I(oe,e),I(F,n))}function Va(e){oe.current===e&&(V(F),V(oe)),xe.current===e&&(V(xe),Nr._currentValue=ie)}var Vi,Ir;function dn(e){if(Vi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vi=t&&t[1]||"",Ir=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vi+e+Ir}var Ga=!1;function J(e,t){if(!e||Ga)return"";Ga=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(U){var N=U}Reflect.construct(e,[],G)}else{try{G.call()}catch(U){N=U}e.call(G.prototype)}}else{try{throw Error()}catch(U){N=U}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(U){if(U&&N&&typeof U.stack=="string")return[U.stack,N.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=i.DetermineComponentFrameRoot(),m=f[0],y=f[1];if(m&&y){var w=m.split(`
`),C=y.split(`
`);for(o=i=0;i<w.length&&!w[i].includes("DetermineComponentFrameRoot");)i++;for(;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;if(i===w.length||o===C.length)for(i=w.length-1,o=C.length-1;1<=i&&0<=o&&w[i]!==C[o];)o--;for(;1<=i&&0<=o;i--,o--)if(w[i]!==C[o]){if(i!==1||o!==1)do if(i--,o--,0>o||w[i]!==C[o]){var q=`
`+w[i].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=i&&0<=o);break}}}finally{Ga=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?dn(n):""}function P(e,t){switch(e.tag){case 26:case 27:case 5:return dn(e.type);case 16:return dn("Lazy");case 13:return e.child!==t&&t!==null?dn("Suspense Fallback"):dn("Suspense");case 19:return dn("SuspenseList");case 0:case 15:return J(e.type,!1);case 11:return J(e.type.render,!1);case 1:return J(e.type,!0);case 31:return dn("Activity");default:return""}}function Se(e){try{var t="",n=null;do t+=P(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var ze=Object.prototype.hasOwnProperty,Qe=l.unstable_scheduleCallback,bt=l.unstable_cancelCallback,_t=l.unstable_shouldYield,nt=l.unstable_requestPaint,ge=l.unstable_now,Je=l.unstable_getCurrentPriorityLevel,wt=l.unstable_ImmediatePriority,Vt=l.unstable_UserBlockingPriority,$e=l.unstable_NormalPriority,ma=l.unstable_LowPriority,Zr=l.unstable_IdlePriority,Zv=l.log,Pv=l.unstable_setDisableYieldValue,Gi=null,Ct=null;function Un(e){if(typeof Zv=="function"&&Pv(e),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(Gi,e)}catch{}}var Rt=Math.clz32?Math.clz32:ey,Wv=Math.log,Fv=Math.LN2;function ey(e){return e>>>=0,e===0?32:31-(Wv(e)/Fv|0)|0}var Pr=256,Wr=262144,Fr=4194304;function ga(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function es(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var o=0,f=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var y=i&134217727;return y!==0?(i=y&~f,i!==0?o=ga(i):(m&=y,m!==0?o=ga(m):n||(n=y&~e,n!==0&&(o=ga(n))))):(y=i&~f,y!==0?o=ga(y):m!==0?o=ga(m):n||(n=i&~e,n!==0&&(o=ga(n)))),o===0?0:t!==0&&t!==o&&(t&f)===0&&(f=o&-o,n=t&-t,f>=n||f===32&&(n&4194048)!==0)?t:o}function Yi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ty(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kc(){var e=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),e}function Dl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ki(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ny(e,t,n,i,o,f){var m=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var y=e.entanglements,w=e.expirationTimes,C=e.hiddenUpdates;for(n=m&~n;0<n;){var q=31-Rt(n),G=1<<q;y[q]=0,w[q]=-1;var N=C[q];if(N!==null)for(C[q]=null,q=0;q<N.length;q++){var U=N[q];U!==null&&(U.lane&=-536870913)}n&=~G}i!==0&&Qc(e,i,0),f!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=f&~(m&~t))}function Qc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Rt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function Jc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Rt(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}function Xc(e,t){var n=t&-t;return n=(n&42)!==0?1:Ul(n),(n&(e.suspendedLanes|t))!==0?0:n}function Ul(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function zl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ic(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:zm(e.type))}function Zc(e,t){var n=X.p;try{return X.p=e,t()}finally{X.p=n}}var zn=Math.random().toString(36).slice(2),ut="__reactFiber$"+zn,St="__reactProps$"+zn,Ya="__reactContainer$"+zn,Ml="__reactEvents$"+zn,ay="__reactListeners$"+zn,iy="__reactHandles$"+zn,Pc="__reactResources$"+zn,Qi="__reactMarker$"+zn;function Bl(e){delete e[ut],delete e[St],delete e[Ml],delete e[ay],delete e[iy]}function Ka(e){var t=e[ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ya]||n[ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=bm(e);e!==null;){if(n=e[ut])return n;e=bm(e)}return t}e=n,n=e.parentNode}return null}function Qa(e){if(e=e[ut]||e[Ya]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ji(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Ja(e){var t=e[Pc];return t||(t=e[Pc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function st(e){e[Qi]=!0}var Wc=new Set,Fc={};function va(e,t){Xa(e,t),Xa(e+"Capture",t)}function Xa(e,t){for(Fc[e]=t,e=0;e<t.length;e++)Wc.add(t[e])}var ry=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ef={},tf={};function sy(e){return ze.call(tf,e)?!0:ze.call(ef,e)?!1:ry.test(e)?tf[e]=!0:(ef[e]=!0,!1)}function ts(e,t,n){if(sy(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ns(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function hn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function nf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ly(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){n=""+m,f.call(this,m)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(m){n=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ll(e){if(!e._valueTracker){var t=nf(e)?"checked":"value";e._valueTracker=ly(e,t,""+e[t])}}function af(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=nf(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function as(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var oy=/[\n"\\]/g;function Yt(e){return e.replace(oy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ql(e,t,n,i,o,f,m,y){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gt(t)):e.value!==""+Gt(t)&&(e.value=""+Gt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Hl(e,m,Gt(t)):n!=null?Hl(e,m,Gt(n)):i!=null&&e.removeAttribute("value"),o==null&&f!=null&&(e.defaultChecked=!!f),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Gt(y):e.removeAttribute("name")}function rf(e,t,n,i,o,f,m,y){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||n!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){Ll(e);return}n=n!=null?""+Gt(n):"",t=t!=null?""+Gt(t):n,y||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=y?e.checked:!!i,e.defaultChecked=!!i,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Ll(e)}function Hl(e,t,n){t==="number"&&as(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ia(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Gt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function sf(e,t,n){if(t!=null&&(t=""+Gt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Gt(n):""}function lf(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(s(92));if(rt(i)){if(1<i.length)throw Error(s(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Gt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Ll(e)}function Za(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var uy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function of(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||uy.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function uf(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&n[o]!==i&&of(e,o,i)}else for(var f in t)t.hasOwnProperty(f)&&of(e,f,t[f])}function $l(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function is(e){return fy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function mn(){}var Vl=null;function Gl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pa=null,Wa=null;function cf(e){var t=Qa(e);if(t&&(e=t.stateNode)){var n=e[St]||null;e:switch(e=t.stateNode,t.type){case"input":if(ql(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=i[St]||null;if(!o)throw Error(s(90));ql(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&af(i)}break e;case"textarea":sf(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ia(e,!!n.multiple,t,!1)}}}var Yl=!1;function ff(e,t,n){if(Yl)return e(t,n);Yl=!0;try{var i=e(t);return i}finally{if(Yl=!1,(Pa!==null||Wa!==null)&&(Ks(),Pa&&(t=Pa,e=Wa,Wa=Pa=null,cf(t),e)))for(t=0;t<e.length;t++)cf(e[t])}}function Xi(e,t){var n=e.stateNode;if(n===null)return null;var i=n[St]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kl=!1;if(gn)try{var Ii={};Object.defineProperty(Ii,"passive",{get:function(){Kl=!0}}),window.addEventListener("test",Ii,Ii),window.removeEventListener("test",Ii,Ii)}catch{Kl=!1}var Mn=null,Ql=null,rs=null;function df(){if(rs)return rs;var e,t=Ql,n=t.length,i,o="value"in Mn?Mn.value:Mn.textContent,f=o.length;for(e=0;e<n&&t[e]===o[e];e++);var m=n-e;for(i=1;i<=m&&t[n-i]===o[f-i];i++);return rs=o.slice(e,1<i?1-i:void 0)}function ss(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ls(){return!0}function hf(){return!1}function Et(e){function t(n,i,o,f,m){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(n=e[y],this[y]=n?n(f):f[y]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ls:hf,this.isPropagationStopped=hf,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),t}var ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},os=Et(ya),Zi=b({},ya,{view:0,detail:0}),dy=Et(Zi),Jl,Xl,Pi,us=b({},Zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pi&&(Pi&&e.type==="mousemove"?(Jl=e.screenX-Pi.screenX,Xl=e.screenY-Pi.screenY):Xl=Jl=0,Pi=e),Jl)},movementY:function(e){return"movementY"in e?e.movementY:Xl}}),mf=Et(us),hy=b({},us,{dataTransfer:0}),my=Et(hy),gy=b({},Zi,{relatedTarget:0}),Il=Et(gy),vy=b({},ya,{animationName:0,elapsedTime:0,pseudoElement:0}),yy=Et(vy),py=b({},ya,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),by=Et(py),_y=b({},ya,{data:0}),gf=Et(_y),wy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ey={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ey[e])?!!t[e]:!1}function Zl(){return xy}var Ty=b({},Zi,{key:function(e){if(e.key){var t=wy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ss(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zl,charCode:function(e){return e.type==="keypress"?ss(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ss(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Oy=Et(Ty),jy=b({},us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vf=Et(jy),Ay=b({},Zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zl}),Cy=Et(Ay),Ry=b({},ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ny=Et(Ry),ky=b({},us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dy=Et(ky),Uy=b({},ya,{newState:0,oldState:0}),zy=Et(Uy),My=[9,13,27,32],Pl=gn&&"CompositionEvent"in window,Wi=null;gn&&"documentMode"in document&&(Wi=document.documentMode);var By=gn&&"TextEvent"in window&&!Wi,yf=gn&&(!Pl||Wi&&8<Wi&&11>=Wi),pf=" ",bf=!1;function _f(e,t){switch(e){case"keyup":return My.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fa=!1;function Ly(e,t){switch(e){case"compositionend":return wf(t);case"keypress":return t.which!==32?null:(bf=!0,pf);case"textInput":return e=t.data,e===pf&&bf?null:e;default:return null}}function qy(e,t){if(Fa)return e==="compositionend"||!Pl&&_f(e,t)?(e=df(),rs=Ql=Mn=null,Fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yf&&t.locale!=="ko"?null:t.data;default:return null}}var Hy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hy[e.type]:t==="textarea"}function Ef(e,t,n,i){Pa?Wa?Wa.push(i):Wa=[i]:Pa=i,t=Ws(t,"onChange"),0<t.length&&(n=new os("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Fi=null,er=null;function $y(e){rm(e,0)}function cs(e){var t=Ji(e);if(af(t))return e}function xf(e,t){if(e==="change")return t}var Tf=!1;if(gn){var Wl;if(gn){var Fl="oninput"in document;if(!Fl){var Of=document.createElement("div");Of.setAttribute("oninput","return;"),Fl=typeof Of.oninput=="function"}Wl=Fl}else Wl=!1;Tf=Wl&&(!document.documentMode||9<document.documentMode)}function jf(){Fi&&(Fi.detachEvent("onpropertychange",Af),er=Fi=null)}function Af(e){if(e.propertyName==="value"&&cs(er)){var t=[];Ef(t,er,e,Gl(e)),ff($y,t)}}function Vy(e,t,n){e==="focusin"?(jf(),Fi=t,er=n,Fi.attachEvent("onpropertychange",Af)):e==="focusout"&&jf()}function Gy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cs(er)}function Yy(e,t){if(e==="click")return cs(t)}function Ky(e,t){if(e==="input"||e==="change")return cs(t)}function Qy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:Qy;function tr(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!ze.call(t,o)||!Nt(e[o],t[o]))return!1}return!0}function Cf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rf(e,t){var n=Cf(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Cf(n)}}function Nf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=as(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=as(e.document)}return t}function eo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Jy=gn&&"documentMode"in document&&11>=document.documentMode,ei=null,to=null,nr=null,no=!1;function Df(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;no||ei==null||ei!==as(i)||(i=ei,"selectionStart"in i&&eo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),nr&&tr(nr,i)||(nr=i,i=Ws(to,"onSelect"),0<i.length&&(t=new os("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ei)))}function pa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ti={animationend:pa("Animation","AnimationEnd"),animationiteration:pa("Animation","AnimationIteration"),animationstart:pa("Animation","AnimationStart"),transitionrun:pa("Transition","TransitionRun"),transitionstart:pa("Transition","TransitionStart"),transitioncancel:pa("Transition","TransitionCancel"),transitionend:pa("Transition","TransitionEnd")},ao={},Uf={};gn&&(Uf=document.createElement("div").style,"AnimationEvent"in window||(delete ti.animationend.animation,delete ti.animationiteration.animation,delete ti.animationstart.animation),"TransitionEvent"in window||delete ti.transitionend.transition);function ba(e){if(ao[e])return ao[e];if(!ti[e])return e;var t=ti[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Uf)return ao[e]=t[n];return e}var zf=ba("animationend"),Mf=ba("animationiteration"),Bf=ba("animationstart"),Xy=ba("transitionrun"),Iy=ba("transitionstart"),Zy=ba("transitioncancel"),Lf=ba("transitionend"),qf=new Map,io="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");io.push("scrollEnd");function Ft(e,t){qf.set(e,t),va(t,[e])}var fs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Kt=[],ni=0,ro=0;function ds(){for(var e=ni,t=ro=ni=0;t<e;){var n=Kt[t];Kt[t++]=null;var i=Kt[t];Kt[t++]=null;var o=Kt[t];Kt[t++]=null;var f=Kt[t];if(Kt[t++]=null,i!==null&&o!==null){var m=i.pending;m===null?o.next=o:(o.next=m.next,m.next=o),i.pending=o}f!==0&&Hf(n,o,f)}}function hs(e,t,n,i){Kt[ni++]=e,Kt[ni++]=t,Kt[ni++]=n,Kt[ni++]=i,ro|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function so(e,t,n,i){return hs(e,t,n,i),ms(e)}function _a(e,t){return hs(e,null,null,t),ms(e)}function Hf(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var o=!1,f=e.return;f!==null;)f.childLanes|=n,i=f.alternate,i!==null&&(i.childLanes|=n),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(o=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,o&&t!==null&&(o=31-Rt(n),e=f.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=n|536870912),f):null}function ms(e){if(50<xr)throw xr=0,vu=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ai={};function Py(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,n,i){return new Py(e,t,n,i)}function lo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vn(e,t){var n=e.alternate;return n===null?(n=kt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function $f(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function gs(e,t,n,i,o,f){var m=0;if(i=e,typeof e=="function")lo(e)&&(m=1);else if(typeof e=="string")m=n0(e,n,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ne:return e=kt(31,n,t,o),e.elementType=ne,e.lanes=f,e;case k:return wa(n.children,o,f,t);case j:m=8,o|=24;break;case Y:return e=kt(12,n,t,o|2),e.elementType=Y,e.lanes=f,e;case K:return e=kt(13,n,t,o),e.elementType=K,e.lanes=f,e;case H:return e=kt(19,n,t,o),e.elementType=H,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:m=10;break e;case L:m=9;break e;case Q:m=11;break e;case D:m=14;break e;case Z:m=16,i=null;break e}m=29,n=Error(s(130,e===null?"null":typeof e,"")),i=null}return t=kt(m,n,t,o),t.elementType=e,t.type=i,t.lanes=f,t}function wa(e,t,n,i){return e=kt(7,e,i,t),e.lanes=n,e}function oo(e,t,n){return e=kt(6,e,null,t),e.lanes=n,e}function Vf(e){var t=kt(18,null,null,0);return t.stateNode=e,t}function uo(e,t,n){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gf=new WeakMap;function Qt(e,t){if(typeof e=="object"&&e!==null){var n=Gf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Se(t)},Gf.set(e,t),t)}return{value:e,source:t,stack:Se(t)}}var ii=[],ri=0,vs=null,ar=0,Jt=[],Xt=0,Bn=null,sn=1,ln="";function yn(e,t){ii[ri++]=ar,ii[ri++]=vs,vs=e,ar=t}function Yf(e,t,n){Jt[Xt++]=sn,Jt[Xt++]=ln,Jt[Xt++]=Bn,Bn=e;var i=sn;e=ln;var o=32-Rt(i)-1;i&=~(1<<o),n+=1;var f=32-Rt(t)+o;if(30<f){var m=o-o%5;f=(i&(1<<m)-1).toString(32),i>>=m,o-=m,sn=1<<32-Rt(t)+o|n<<o|i,ln=f+e}else sn=1<<f|n<<o|i,ln=e}function co(e){e.return!==null&&(yn(e,1),Yf(e,1,0))}function fo(e){for(;e===vs;)vs=ii[--ri],ii[ri]=null,ar=ii[--ri],ii[ri]=null;for(;e===Bn;)Bn=Jt[--Xt],Jt[Xt]=null,ln=Jt[--Xt],Jt[Xt]=null,sn=Jt[--Xt],Jt[Xt]=null}function Kf(e,t){Jt[Xt++]=sn,Jt[Xt++]=ln,Jt[Xt++]=Bn,sn=t.id,ln=t.overflow,Bn=e}var ct=null,Me=null,_e=!1,Ln=null,It=!1,ho=Error(s(519));function qn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ir(Qt(t,e)),ho}function Qf(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[ut]=e,t[St]=i,n){case"dialog":ye("cancel",t),ye("close",t);break;case"iframe":case"object":case"embed":ye("load",t);break;case"video":case"audio":for(n=0;n<Or.length;n++)ye(Or[n],t);break;case"source":ye("error",t);break;case"img":case"image":case"link":ye("error",t),ye("load",t);break;case"details":ye("toggle",t);break;case"input":ye("invalid",t),rf(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":ye("invalid",t);break;case"textarea":ye("invalid",t),lf(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||um(t.textContent,n)?(i.popover!=null&&(ye("beforetoggle",t),ye("toggle",t)),i.onScroll!=null&&ye("scroll",t),i.onScrollEnd!=null&&ye("scrollend",t),i.onClick!=null&&(t.onclick=mn),t=!0):t=!1,t||qn(e,!0)}function Jf(e){for(ct=e.return;ct;)switch(ct.tag){case 5:case 31:case 13:It=!1;return;case 27:case 3:It=!0;return;default:ct=ct.return}}function si(e){if(e!==ct)return!1;if(!_e)return Jf(e),_e=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Nu(e.type,e.memoizedProps)),n=!n),n&&Me&&qn(e),Jf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Me=pm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Me=pm(e)}else t===27?(t=Me,Fn(e.type)?(e=Mu,Mu=null,Me=e):Me=t):Me=ct?Pt(e.stateNode.nextSibling):null;return!0}function Sa(){Me=ct=null,_e=!1}function mo(){var e=Ln;return e!==null&&(jt===null?jt=e:jt.push.apply(jt,e),Ln=null),e}function ir(e){Ln===null?Ln=[e]:Ln.push(e)}var go=x(null),Ea=null,pn=null;function Hn(e,t,n){I(go,t._currentValue),t._currentValue=n}function bn(e){e._currentValue=go.current,V(go)}function vo(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function yo(e,t,n,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var f=o.dependencies;if(f!==null){var m=o.child;f=f.firstContext;e:for(;f!==null;){var y=f;f=o;for(var w=0;w<t.length;w++)if(y.context===t[w]){f.lanes|=n,y=f.alternate,y!==null&&(y.lanes|=n),vo(f.return,n,e),i||(m=null);break e}f=y.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(s(341));m.lanes|=n,f=m.alternate,f!==null&&(f.lanes|=n),vo(m,n,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function li(e,t,n,i){e=null;for(var o=t,f=!1;o!==null;){if(!f){if((o.flags&524288)!==0)f=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(s(387));if(m=m.memoizedProps,m!==null){var y=o.type;Nt(o.pendingProps.value,m.value)||(e!==null?e.push(y):e=[y])}}else if(o===xe.current){if(m=o.alternate,m===null)throw Error(s(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Nr):e=[Nr])}o=o.return}e!==null&&yo(t,e,n,i),t.flags|=262144}function ys(e){for(e=e.firstContext;e!==null;){if(!Nt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xa(e){Ea=e,pn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ft(e){return Xf(Ea,e)}function ps(e,t){return Ea===null&&xa(e),Xf(e,t)}function Xf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},pn===null){if(e===null)throw Error(s(308));pn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else pn=pn.next=t;return n}var Wy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Fy=l.unstable_scheduleCallback,ep=l.unstable_NormalPriority,Pe={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function po(){return{controller:new Wy,data:new Map,refCount:0}}function rr(e){e.refCount--,e.refCount===0&&Fy(ep,function(){e.controller.abort()})}var sr=null,bo=0,oi=0,ui=null;function tp(e,t){if(sr===null){var n=sr=[];bo=0,oi=Su(),ui={status:"pending",value:void 0,then:function(i){n.push(i)}}}return bo++,t.then(If,If),t}function If(){if(--bo===0&&sr!==null){ui!==null&&(ui.status="fulfilled");var e=sr;sr=null,oi=0,ui=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function np(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var Zf=B.S;B.S=function(e,t){Dh=ge(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&tp(e,t),Zf!==null&&Zf(e,t)};var Ta=x(null);function _o(){var e=Ta.current;return e!==null?e:De.pooledCache}function bs(e,t){t===null?I(Ta,Ta.current):I(Ta,t.pool)}function Pf(){var e=_o();return e===null?null:{parent:Pe._currentValue,pool:e}}var ci=Error(s(460)),wo=Error(s(474)),_s=Error(s(542)),ws={then:function(){}};function Wf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ff(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(mn,mn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,td(e),e;default:if(typeof t.status=="string")t.then(mn,mn);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,td(e),e}throw ja=t,ci}}function Oa(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ja=n,ci):n}}var ja=null;function ed(){if(ja===null)throw Error(s(459));var e=ja;return ja=null,e}function td(e){if(e===ci||e===_s)throw Error(s(483))}var fi=null,lr=0;function Ss(e){var t=lr;return lr+=1,fi===null&&(fi=[]),Ff(fi,e,t)}function or(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Es(e,t){throw t.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function nd(e){function t(O,E){if(e){var A=O.deletions;A===null?(O.deletions=[E],O.flags|=16):A.push(E)}}function n(O,E){if(!e)return null;for(;E!==null;)t(O,E),E=E.sibling;return null}function i(O){for(var E=new Map;O!==null;)O.key!==null?E.set(O.key,O):E.set(O.index,O),O=O.sibling;return E}function o(O,E){return O=vn(O,E),O.index=0,O.sibling=null,O}function f(O,E,A){return O.index=A,e?(A=O.alternate,A!==null?(A=A.index,A<E?(O.flags|=67108866,E):A):(O.flags|=67108866,E)):(O.flags|=1048576,E)}function m(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function y(O,E,A,$){return E===null||E.tag!==6?(E=oo(A,O.mode,$),E.return=O,E):(E=o(E,A),E.return=O,E)}function w(O,E,A,$){var ae=A.type;return ae===k?q(O,E,A.props.children,$,A.key):E!==null&&(E.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Z&&Oa(ae)===E.type)?(E=o(E,A.props),or(E,A),E.return=O,E):(E=gs(A.type,A.key,A.props,null,O.mode,$),or(E,A),E.return=O,E)}function C(O,E,A,$){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=uo(A,O.mode,$),E.return=O,E):(E=o(E,A.children||[]),E.return=O,E)}function q(O,E,A,$,ae){return E===null||E.tag!==7?(E=wa(A,O.mode,$,ae),E.return=O,E):(E=o(E,A),E.return=O,E)}function G(O,E,A){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=oo(""+E,O.mode,A),E.return=O,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case T:return A=gs(E.type,E.key,E.props,null,O.mode,A),or(A,E),A.return=O,A;case M:return E=uo(E,O.mode,A),E.return=O,E;case Z:return E=Oa(E),G(O,E,A)}if(rt(E)||Ge(E))return E=wa(E,O.mode,A,null),E.return=O,E;if(typeof E.then=="function")return G(O,Ss(E),A);if(E.$$typeof===z)return G(O,ps(O,E),A);Es(O,E)}return null}function N(O,E,A,$){var ae=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return ae!==null?null:y(O,E,""+A,$);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case T:return A.key===ae?w(O,E,A,$):null;case M:return A.key===ae?C(O,E,A,$):null;case Z:return A=Oa(A),N(O,E,A,$)}if(rt(A)||Ge(A))return ae!==null?null:q(O,E,A,$,null);if(typeof A.then=="function")return N(O,E,Ss(A),$);if(A.$$typeof===z)return N(O,E,ps(O,A),$);Es(O,A)}return null}function U(O,E,A,$,ae){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return O=O.get(A)||null,y(E,O,""+$,ae);if(typeof $=="object"&&$!==null){switch($.$$typeof){case T:return O=O.get($.key===null?A:$.key)||null,w(E,O,$,ae);case M:return O=O.get($.key===null?A:$.key)||null,C(E,O,$,ae);case Z:return $=Oa($),U(O,E,A,$,ae)}if(rt($)||Ge($))return O=O.get(A)||null,q(E,O,$,ae,null);if(typeof $.then=="function")return U(O,E,A,Ss($),ae);if($.$$typeof===z)return U(O,E,A,ps(E,$),ae);Es(E,$)}return null}function W(O,E,A,$){for(var ae=null,Te=null,ee=E,de=E=0,be=null;ee!==null&&de<A.length;de++){ee.index>de?(be=ee,ee=null):be=ee.sibling;var Oe=N(O,ee,A[de],$);if(Oe===null){ee===null&&(ee=be);break}e&&ee&&Oe.alternate===null&&t(O,ee),E=f(Oe,E,de),Te===null?ae=Oe:Te.sibling=Oe,Te=Oe,ee=be}if(de===A.length)return n(O,ee),_e&&yn(O,de),ae;if(ee===null){for(;de<A.length;de++)ee=G(O,A[de],$),ee!==null&&(E=f(ee,E,de),Te===null?ae=ee:Te.sibling=ee,Te=ee);return _e&&yn(O,de),ae}for(ee=i(ee);de<A.length;de++)be=U(ee,O,de,A[de],$),be!==null&&(e&&be.alternate!==null&&ee.delete(be.key===null?de:be.key),E=f(be,E,de),Te===null?ae=be:Te.sibling=be,Te=be);return e&&ee.forEach(function(ia){return t(O,ia)}),_e&&yn(O,de),ae}function le(O,E,A,$){if(A==null)throw Error(s(151));for(var ae=null,Te=null,ee=E,de=E=0,be=null,Oe=A.next();ee!==null&&!Oe.done;de++,Oe=A.next()){ee.index>de?(be=ee,ee=null):be=ee.sibling;var ia=N(O,ee,Oe.value,$);if(ia===null){ee===null&&(ee=be);break}e&&ee&&ia.alternate===null&&t(O,ee),E=f(ia,E,de),Te===null?ae=ia:Te.sibling=ia,Te=ia,ee=be}if(Oe.done)return n(O,ee),_e&&yn(O,de),ae;if(ee===null){for(;!Oe.done;de++,Oe=A.next())Oe=G(O,Oe.value,$),Oe!==null&&(E=f(Oe,E,de),Te===null?ae=Oe:Te.sibling=Oe,Te=Oe);return _e&&yn(O,de),ae}for(ee=i(ee);!Oe.done;de++,Oe=A.next())Oe=U(ee,O,de,Oe.value,$),Oe!==null&&(e&&Oe.alternate!==null&&ee.delete(Oe.key===null?de:Oe.key),E=f(Oe,E,de),Te===null?ae=Oe:Te.sibling=Oe,Te=Oe);return e&&ee.forEach(function(h0){return t(O,h0)}),_e&&yn(O,de),ae}function ke(O,E,A,$){if(typeof A=="object"&&A!==null&&A.type===k&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case T:e:{for(var ae=A.key;E!==null;){if(E.key===ae){if(ae=A.type,ae===k){if(E.tag===7){n(O,E.sibling),$=o(E,A.props.children),$.return=O,O=$;break e}}else if(E.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Z&&Oa(ae)===E.type){n(O,E.sibling),$=o(E,A.props),or($,A),$.return=O,O=$;break e}n(O,E);break}else t(O,E);E=E.sibling}A.type===k?($=wa(A.props.children,O.mode,$,A.key),$.return=O,O=$):($=gs(A.type,A.key,A.props,null,O.mode,$),or($,A),$.return=O,O=$)}return m(O);case M:e:{for(ae=A.key;E!==null;){if(E.key===ae)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){n(O,E.sibling),$=o(E,A.children||[]),$.return=O,O=$;break e}else{n(O,E);break}else t(O,E);E=E.sibling}$=uo(A,O.mode,$),$.return=O,O=$}return m(O);case Z:return A=Oa(A),ke(O,E,A,$)}if(rt(A))return W(O,E,A,$);if(Ge(A)){if(ae=Ge(A),typeof ae!="function")throw Error(s(150));return A=ae.call(A),le(O,E,A,$)}if(typeof A.then=="function")return ke(O,E,Ss(A),$);if(A.$$typeof===z)return ke(O,E,ps(O,A),$);Es(O,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,E!==null&&E.tag===6?(n(O,E.sibling),$=o(E,A),$.return=O,O=$):(n(O,E),$=oo(A,O.mode,$),$.return=O,O=$),m(O)):n(O,E)}return function(O,E,A,$){try{lr=0;var ae=ke(O,E,A,$);return fi=null,ae}catch(ee){if(ee===ci||ee===_s)throw ee;var Te=kt(29,ee,null,O.mode);return Te.lanes=$,Te.return=O,Te}finally{}}}var Aa=nd(!0),ad=nd(!1),$n=!1;function So(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(je&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=ms(e),Hf(e,null,n),t}return hs(e,i,t,n),ms(e)}function ur(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Jc(e,n)}}function xo(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,f=null;if(n=n.firstBaseUpdate,n!==null){do{var m={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};f===null?o=f=m:f=f.next=m,n=n.next}while(n!==null);f===null?o=f=t:f=f.next=t}else o=f=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:f,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var To=!1;function cr(){if(To){var e=ui;if(e!==null)throw e}}function fr(e,t,n,i){To=!1;var o=e.updateQueue;$n=!1;var f=o.firstBaseUpdate,m=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var w=y,C=w.next;w.next=null,m===null?f=C:m.next=C,m=w;var q=e.alternate;q!==null&&(q=q.updateQueue,y=q.lastBaseUpdate,y!==m&&(y===null?q.firstBaseUpdate=C:y.next=C,q.lastBaseUpdate=w))}if(f!==null){var G=o.baseState;m=0,q=C=w=null,y=f;do{var N=y.lane&-536870913,U=N!==y.lane;if(U?(pe&N)===N:(i&N)===N){N!==0&&N===oi&&(To=!0),q!==null&&(q=q.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var W=e,le=y;N=t;var ke=n;switch(le.tag){case 1:if(W=le.payload,typeof W=="function"){G=W.call(ke,G,N);break e}G=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=le.payload,N=typeof W=="function"?W.call(ke,G,N):W,N==null)break e;G=b({},G,N);break e;case 2:$n=!0}}N=y.callback,N!==null&&(e.flags|=64,U&&(e.flags|=8192),U=o.callbacks,U===null?o.callbacks=[N]:U.push(N))}else U={lane:N,tag:y.tag,payload:y.payload,callback:y.callback,next:null},q===null?(C=q=U,w=G):q=q.next=U,m|=N;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;U=y,y=U.next,U.next=null,o.lastBaseUpdate=U,o.shared.pending=null}}while(!0);q===null&&(w=G),o.baseState=w,o.firstBaseUpdate=C,o.lastBaseUpdate=q,f===null&&(o.shared.lanes=0),Xn|=m,e.lanes=m,e.memoizedState=G}}function id(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function rd(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)id(n[e],t)}var di=x(null),xs=x(0);function sd(e,t){e=An,I(xs,e),I(di,t),An=e|t.baseLanes}function Oo(){I(xs,An),I(di,di.current)}function jo(){An=xs.current,V(di),V(xs)}var Dt=x(null),Zt=null;function Yn(e){var t=e.alternate;I(Xe,Xe.current&1),I(Dt,e),Zt===null&&(t===null||di.current!==null||t.memoizedState!==null)&&(Zt=e)}function Ao(e){I(Xe,Xe.current),I(Dt,e),Zt===null&&(Zt=e)}function ld(e){e.tag===22?(I(Xe,Xe.current),I(Dt,e),Zt===null&&(Zt=e)):Kn()}function Kn(){I(Xe,Xe.current),I(Dt,Dt.current)}function Ut(e){V(Dt),Zt===e&&(Zt=null),V(Xe)}var Xe=x(0);function Ts(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Uu(n)||zu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var _n=0,fe=null,Re=null,We=null,Os=!1,hi=!1,Ca=!1,js=0,dr=0,mi=null,ap=0;function Ye(){throw Error(s(321))}function Co(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Nt(e[n],t[n]))return!1;return!0}function Ro(e,t,n,i,o,f){return _n=f,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?Yd:Ko,Ca=!1,f=n(i,o),Ca=!1,hi&&(f=ud(t,n,i,o)),od(e),f}function od(e){B.H=gr;var t=Re!==null&&Re.next!==null;if(_n=0,We=Re=fe=null,Os=!1,dr=0,mi=null,t)throw Error(s(300));e===null||Fe||(e=e.dependencies,e!==null&&ys(e)&&(Fe=!0))}function ud(e,t,n,i){fe=e;var o=0;do{if(hi&&(mi=null),dr=0,hi=!1,25<=o)throw Error(s(301));if(o+=1,We=Re=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=Kd,f=t(n,i)}while(hi);return f}function ip(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?hr(t):t,e=e.useState()[0],(Re!==null?Re.memoizedState:null)!==e&&(fe.flags|=1024),t}function No(){var e=js!==0;return js=0,e}function ko(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Do(e){if(Os){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Os=!1}_n=0,We=Re=fe=null,hi=!1,dr=js=0,mi=null}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?fe.memoizedState=We=e:We=We.next=e,We}function Ie(){if(Re===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=We===null?fe.memoizedState:We.next;if(t!==null)We=t,Re=e;else{if(e===null)throw fe.alternate===null?Error(s(467)):Error(s(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},We===null?fe.memoizedState=We=e:We=We.next=e}return We}function As(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hr(e){var t=dr;return dr+=1,mi===null&&(mi=[]),e=Ff(mi,e,t),t=fe,(We===null?t.memoizedState:We.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?Yd:Ko),e}function Cs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return hr(e);if(e.$$typeof===z)return ft(e)}throw Error(s(438,String(e)))}function Uo(e){var t=null,n=fe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=fe.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=As(),fe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=he;return t.index++,n}function wn(e,t){return typeof t=="function"?t(e):t}function Rs(e){var t=Ie();return zo(t,Re,e)}function zo(e,t,n){var i=e.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=n;var o=e.baseQueue,f=i.pending;if(f!==null){if(o!==null){var m=o.next;o.next=f.next,f.next=m}t.baseQueue=o=f,i.pending=null}if(f=e.baseState,o===null)e.memoizedState=f;else{t=o.next;var y=m=null,w=null,C=t,q=!1;do{var G=C.lane&-536870913;if(G!==C.lane?(pe&G)===G:(_n&G)===G){var N=C.revertLane;if(N===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),G===oi&&(q=!0);else if((_n&N)===N){C=C.next,N===oi&&(q=!0);continue}else G={lane:0,revertLane:C.revertLane,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},w===null?(y=w=G,m=f):w=w.next=G,fe.lanes|=N,Xn|=N;G=C.action,Ca&&n(f,G),f=C.hasEagerState?C.eagerState:n(f,G)}else N={lane:G,revertLane:C.revertLane,gesture:C.gesture,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},w===null?(y=w=N,m=f):w=w.next=N,fe.lanes|=G,Xn|=G;C=C.next}while(C!==null&&C!==t);if(w===null?m=f:w.next=y,!Nt(f,e.memoizedState)&&(Fe=!0,q&&(n=ui,n!==null)))throw n;e.memoizedState=f,e.baseState=m,e.baseQueue=w,i.lastRenderedState=f}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Mo(e){var t=Ie(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,f=t.memoizedState;if(o!==null){n.pending=null;var m=o=o.next;do f=e(f,m.action),m=m.next;while(m!==o);Nt(f,t.memoizedState)||(Fe=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),n.lastRenderedState=f}return[f,i]}function cd(e,t,n){var i=fe,o=Ie(),f=_e;if(f){if(n===void 0)throw Error(s(407));n=n()}else n=t();var m=!Nt((Re||o).memoizedState,n);if(m&&(o.memoizedState=n,Fe=!0),o=o.queue,qo(hd.bind(null,i,o,e),[e]),o.getSnapshot!==t||m||We!==null&&We.memoizedState.tag&1){if(i.flags|=2048,gi(9,{destroy:void 0},dd.bind(null,i,o,n,t),null),De===null)throw Error(s(349));f||(_n&127)!==0||fd(i,t,n)}return n}function fd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fe.updateQueue,t===null?(t=As(),fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function dd(e,t,n,i){t.value=n,t.getSnapshot=i,md(t)&&gd(e)}function hd(e,t,n){return n(function(){md(t)&&gd(e)})}function md(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Nt(e,n)}catch{return!0}}function gd(e){var t=_a(e,2);t!==null&&At(t,e,2)}function Bo(e){var t=yt();if(typeof e=="function"){var n=e;if(e=n(),Ca){Un(!0);try{n()}finally{Un(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:e},t}function vd(e,t,n,i){return e.baseState=n,zo(e,Re,typeof i=="function"?i:wn)}function rp(e,t,n,i,o){if(Ds(e))throw Error(s(485));if(e=t.action,e!==null){var f={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){f.listeners.push(m)}};B.T!==null?n(!0):f.isTransition=!1,i(f),n=t.pending,n===null?(f.next=t.pending=f,yd(t,f)):(f.next=n.next,t.pending=n.next=f)}}function yd(e,t){var n=t.action,i=t.payload,o=e.state;if(t.isTransition){var f=B.T,m={};B.T=m;try{var y=n(o,i),w=B.S;w!==null&&w(m,y),pd(e,t,y)}catch(C){Lo(e,t,C)}finally{f!==null&&m.types!==null&&(f.types=m.types),B.T=f}}else try{f=n(o,i),pd(e,t,f)}catch(C){Lo(e,t,C)}}function pd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){bd(e,t,i)},function(i){return Lo(e,t,i)}):bd(e,t,n)}function bd(e,t,n){t.status="fulfilled",t.value=n,_d(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,yd(e,n)))}function Lo(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,_d(t),t=t.next;while(t!==i)}e.action=null}function _d(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function wd(e,t){return t}function Sd(e,t){if(_e){var n=De.formState;if(n!==null){e:{var i=fe;if(_e){if(Me){t:{for(var o=Me,f=It;o.nodeType!==8;){if(!f){o=null;break t}if(o=Pt(o.nextSibling),o===null){o=null;break t}}f=o.data,o=f==="F!"||f==="F"?o:null}if(o){Me=Pt(o.nextSibling),i=o.data==="F!";break e}}qn(i)}i=!1}i&&(t=n[0])}}return n=yt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wd,lastRenderedState:t},n.queue=i,n=$d.bind(null,fe,i),i.dispatch=n,i=Bo(!1),f=Yo.bind(null,fe,!1,i.queue),i=yt(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,n=rp.bind(null,fe,o,f,n),o.dispatch=n,i.memoizedState=e,[t,n,!1]}function Ed(e){var t=Ie();return xd(t,Re,e)}function xd(e,t,n){if(t=zo(e,t,wd)[0],e=Rs(wn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=hr(t)}catch(m){throw m===ci?_s:m}else i=t;t=Ie();var o=t.queue,f=o.dispatch;return n!==t.memoizedState&&(fe.flags|=2048,gi(9,{destroy:void 0},sp.bind(null,o,n),null)),[i,f,e]}function sp(e,t){e.action=t}function Td(e){var t=Ie(),n=Re;if(n!==null)return xd(t,n,e);Ie(),t=t.memoizedState,n=Ie();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function gi(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=fe.updateQueue,t===null&&(t=As(),fe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Od(){return Ie().memoizedState}function Ns(e,t,n,i){var o=yt();fe.flags|=e,o.memoizedState=gi(1|t,{destroy:void 0},n,i===void 0?null:i)}function ks(e,t,n,i){var o=Ie();i=i===void 0?null:i;var f=o.memoizedState.inst;Re!==null&&i!==null&&Co(i,Re.memoizedState.deps)?o.memoizedState=gi(t,f,n,i):(fe.flags|=e,o.memoizedState=gi(1|t,f,n,i))}function jd(e,t){Ns(8390656,8,e,t)}function qo(e,t){ks(2048,8,e,t)}function lp(e){fe.flags|=4;var t=fe.updateQueue;if(t===null)t=As(),fe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Ad(e){var t=Ie().memoizedState;return lp({ref:t,nextImpl:e}),function(){if((je&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Cd(e,t){return ks(4,2,e,t)}function Rd(e,t){return ks(4,4,e,t)}function Nd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function kd(e,t,n){n=n!=null?n.concat([e]):null,ks(4,4,Nd.bind(null,t,e),n)}function Ho(){}function Dd(e,t){var n=Ie();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Co(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ud(e,t){var n=Ie();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Co(t,i[1]))return i[0];if(i=e(),Ca){Un(!0);try{e()}finally{Un(!1)}}return n.memoizedState=[i,t],i}function $o(e,t,n){return n===void 0||(_n&1073741824)!==0&&(pe&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=zh(),fe.lanes|=e,Xn|=e,n)}function zd(e,t,n,i){return Nt(n,t)?n:di.current!==null?(e=$o(e,n,i),Nt(e,t)||(Fe=!0),e):(_n&42)===0||(_n&1073741824)!==0&&(pe&261930)===0?(Fe=!0,e.memoizedState=n):(e=zh(),fe.lanes|=e,Xn|=e,t)}function Md(e,t,n,i,o){var f=X.p;X.p=f!==0&&8>f?f:8;var m=B.T,y={};B.T=y,Yo(e,!1,t,n);try{var w=o(),C=B.S;if(C!==null&&C(y,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var q=np(w,i);mr(e,t,q,Bt(e))}else mr(e,t,i,Bt(e))}catch(G){mr(e,t,{then:function(){},status:"rejected",reason:G},Bt())}finally{X.p=f,m!==null&&y.types!==null&&(m.types=y.types),B.T=m}}function op(){}function Vo(e,t,n,i){if(e.tag!==5)throw Error(s(476));var o=Bd(e).queue;Md(e,o,t,ie,n===null?op:function(){return Ld(e),n(i)})}function Bd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:ie},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ld(e){var t=Bd(e);t.next===null&&(t=e.alternate.memoizedState),mr(e,t.next.queue,{},Bt())}function Go(){return ft(Nr)}function qd(){return Ie().memoizedState}function Hd(){return Ie().memoizedState}function up(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Bt();e=Vn(n);var i=Gn(t,e,n);i!==null&&(At(i,t,n),ur(i,t,n)),t={cache:po()},e.payload=t;return}t=t.return}}function cp(e,t,n){var i=Bt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ds(e)?Vd(t,n):(n=so(e,t,n,i),n!==null&&(At(n,e,i),Gd(n,t,i)))}function $d(e,t,n){var i=Bt();mr(e,t,n,i)}function mr(e,t,n,i){var o={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ds(e))Vd(t,o);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var m=t.lastRenderedState,y=f(m,n);if(o.hasEagerState=!0,o.eagerState=y,Nt(y,m))return hs(e,t,o,0),De===null&&ds(),!1}catch{}finally{}if(n=so(e,t,o,i),n!==null)return At(n,e,i),Gd(n,t,i),!0}return!1}function Yo(e,t,n,i){if(i={lane:2,revertLane:Su(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Ds(e)){if(t)throw Error(s(479))}else t=so(e,n,i,2),t!==null&&At(t,e,2)}function Ds(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function Vd(e,t){hi=Os=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gd(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Jc(e,n)}}var gr={readContext:ft,use:Cs,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};gr.useEffectEvent=Ye;var Yd={readContext:ft,use:Cs,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:jd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ns(4194308,4,Nd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ns(4194308,4,e,t)},useInsertionEffect:function(e,t){Ns(4,2,e,t)},useMemo:function(e,t){var n=yt();t=t===void 0?null:t;var i=e();if(Ca){Un(!0);try{e()}finally{Un(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=yt();if(n!==void 0){var o=n(t);if(Ca){Un(!0);try{n(t)}finally{Un(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=cp.bind(null,fe,e),[i.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:function(e){e=Bo(e);var t=e.queue,n=$d.bind(null,fe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ho,useDeferredValue:function(e,t){var n=yt();return $o(n,e,t)},useTransition:function(){var e=Bo(!1);return e=Md.bind(null,fe,e.queue,!0,!1),yt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=fe,o=yt();if(_e){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),De===null)throw Error(s(349));(pe&127)!==0||fd(i,t,n)}o.memoizedState=n;var f={value:n,getSnapshot:t};return o.queue=f,jd(hd.bind(null,i,f,e),[e]),i.flags|=2048,gi(9,{destroy:void 0},dd.bind(null,i,f,n,t),null),n},useId:function(){var e=yt(),t=De.identifierPrefix;if(_e){var n=ln,i=sn;n=(i&~(1<<32-Rt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=js++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=ap++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Go,useFormState:Sd,useActionState:Sd,useOptimistic:function(e){var t=yt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Yo.bind(null,fe,!0,n),n.dispatch=t,[e,t]},useMemoCache:Uo,useCacheRefresh:function(){return yt().memoizedState=up.bind(null,fe)},useEffectEvent:function(e){var t=yt(),n={impl:e};return t.memoizedState=n,function(){if((je&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},Ko={readContext:ft,use:Cs,useCallback:Dd,useContext:ft,useEffect:qo,useImperativeHandle:kd,useInsertionEffect:Cd,useLayoutEffect:Rd,useMemo:Ud,useReducer:Rs,useRef:Od,useState:function(){return Rs(wn)},useDebugValue:Ho,useDeferredValue:function(e,t){var n=Ie();return zd(n,Re.memoizedState,e,t)},useTransition:function(){var e=Rs(wn)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:hr(e),t]},useSyncExternalStore:cd,useId:qd,useHostTransitionStatus:Go,useFormState:Ed,useActionState:Ed,useOptimistic:function(e,t){var n=Ie();return vd(n,Re,e,t)},useMemoCache:Uo,useCacheRefresh:Hd};Ko.useEffectEvent=Ad;var Kd={readContext:ft,use:Cs,useCallback:Dd,useContext:ft,useEffect:qo,useImperativeHandle:kd,useInsertionEffect:Cd,useLayoutEffect:Rd,useMemo:Ud,useReducer:Mo,useRef:Od,useState:function(){return Mo(wn)},useDebugValue:Ho,useDeferredValue:function(e,t){var n=Ie();return Re===null?$o(n,e,t):zd(n,Re.memoizedState,e,t)},useTransition:function(){var e=Mo(wn)[0],t=Ie().memoizedState;return[typeof e=="boolean"?e:hr(e),t]},useSyncExternalStore:cd,useId:qd,useHostTransitionStatus:Go,useFormState:Td,useActionState:Td,useOptimistic:function(e,t){var n=Ie();return Re!==null?vd(n,Re,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Uo,useCacheRefresh:Hd};Kd.useEffectEvent=Ad;function Qo(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:b({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Jo={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Bt(),o=Vn(i);o.payload=t,n!=null&&(o.callback=n),t=Gn(e,o,i),t!==null&&(At(t,e,i),ur(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Bt(),o=Vn(i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Gn(e,o,i),t!==null&&(At(t,e,i),ur(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Bt(),i=Vn(n);i.tag=2,t!=null&&(i.callback=t),t=Gn(e,i,n),t!==null&&(At(t,e,n),ur(t,e,n))}};function Qd(e,t,n,i,o,f,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,f,m):t.prototype&&t.prototype.isPureReactComponent?!tr(n,i)||!tr(o,f):!0}function Jd(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Jo.enqueueReplaceState(t,t.state,null)}function Ra(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=b({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function Xd(e){fs(e)}function Id(e){console.error(e)}function Zd(e){fs(e)}function Us(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Pd(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Xo(e,t,n){return n=Vn(n),n.tag=3,n.payload={element:null},n.callback=function(){Us(e,t)},n}function Wd(e){return e=Vn(e),e.tag=3,e}function Fd(e,t,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var f=i.value;e.payload=function(){return o(f)},e.callback=function(){Pd(t,n,i)}}var m=n.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Pd(t,n,i),typeof o!="function"&&(In===null?In=new Set([this]):In.add(this));var y=i.stack;this.componentDidCatch(i.value,{componentStack:y!==null?y:""})})}function fp(e,t,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&li(t,n,o,!0),n=Dt.current,n!==null){switch(n.tag){case 31:case 13:return Zt===null?Qs():n.alternate===null&&Ke===0&&(Ke=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===ws?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),bu(e,i,o)),!1;case 22:return n.flags|=65536,i===ws?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),bu(e,i,o)),!1}throw Error(s(435,n.tag))}return bu(e,i,o),Qs(),!1}if(_e)return t=Dt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==ho&&(e=Error(s(422),{cause:i}),ir(Qt(e,n)))):(i!==ho&&(t=Error(s(423),{cause:i}),ir(Qt(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=Qt(i,n),o=Xo(e.stateNode,i,o),xo(e,o),Ke!==4&&(Ke=2)),!1;var f=Error(s(520),{cause:i});if(f=Qt(f,n),Er===null?Er=[f]:Er.push(f),Ke!==4&&(Ke=2),t===null)return!0;i=Qt(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=Xo(n.stateNode,i,e),xo(n,e),!1;case 1:if(t=n.type,f=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(In===null||!In.has(f))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Wd(o),Fd(o,e,n,i),xo(n,o),!1}n=n.return}while(n!==null);return!1}var Io=Error(s(461)),Fe=!1;function dt(e,t,n,i){t.child=e===null?ad(t,null,n,i):Aa(t,e.child,n,i)}function eh(e,t,n,i,o){n=n.render;var f=t.ref;if("ref"in i){var m={};for(var y in i)y!=="ref"&&(m[y]=i[y])}else m=i;return xa(t),i=Ro(e,t,n,m,f,o),y=No(),e!==null&&!Fe?(ko(e,t,o),Sn(e,t,o)):(_e&&y&&co(t),t.flags|=1,dt(e,t,i,o),t.child)}function th(e,t,n,i,o){if(e===null){var f=n.type;return typeof f=="function"&&!lo(f)&&f.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=f,nh(e,t,f,i,o)):(e=gs(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!au(e,o)){var m=f.memoizedProps;if(n=n.compare,n=n!==null?n:tr,n(m,i)&&e.ref===t.ref)return Sn(e,t,o)}return t.flags|=1,e=vn(f,i),e.ref=t.ref,e.return=t,t.child=e}function nh(e,t,n,i,o){if(e!==null){var f=e.memoizedProps;if(tr(f,i)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=i=f,au(e,o))(e.flags&131072)!==0&&(Fe=!0);else return t.lanes=e.lanes,Sn(e,t,o)}return Zo(e,t,n,i,o)}function ah(e,t,n,i){var o=i.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|n:n,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~f}else i=0,t.child=null;return ih(e,t,f,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&bs(t,f!==null?f.cachePool:null),f!==null?sd(t,f):Oo(),ld(t);else return i=t.lanes=536870912,ih(e,t,f!==null?f.baseLanes|n:n,n,i)}else f!==null?(bs(t,f.cachePool),sd(t,f),Kn(),t.memoizedState=null):(e!==null&&bs(t,null),Oo(),Kn());return dt(e,t,o,n),t.child}function vr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ih(e,t,n,i,o){var f=_o();return f=f===null?null:{parent:Pe._currentValue,pool:f},t.memoizedState={baseLanes:n,cachePool:f},e!==null&&bs(t,null),Oo(),ld(t),e!==null&&li(e,t,i,!0),t.childLanes=o,null}function zs(e,t){return t=Bs({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function rh(e,t,n){return Aa(t,e.child,null,n),e=zs(t,t.pendingProps),e.flags|=2,Ut(t),t.memoizedState=null,e}function dp(e,t,n){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(_e){if(i.mode==="hidden")return e=zs(t,i),t.lanes=536870912,vr(null,e);if(Ao(t),(e=Me)?(e=ym(e,It),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Bn!==null?{id:sn,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},n=Vf(e),n.return=t,t.child=n,ct=t,Me=null)):e=null,e===null)throw qn(t);return t.lanes=536870912,null}return zs(t,i)}var f=e.memoizedState;if(f!==null){var m=f.dehydrated;if(Ao(t),o)if(t.flags&256)t.flags&=-257,t=rh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Fe||li(e,t,n,!1),o=(n&e.childLanes)!==0,Fe||o){if(i=De,i!==null&&(m=Xc(i,n),m!==0&&m!==f.retryLane))throw f.retryLane=m,_a(e,m),At(i,e,m),Io;Qs(),t=rh(e,t,n)}else e=f.treeContext,Me=Pt(m.nextSibling),ct=t,_e=!0,Ln=null,It=!1,e!==null&&Kf(t,e),t=zs(t,i),t.flags|=4096;return t}return e=vn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ms(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Zo(e,t,n,i,o){return xa(t),n=Ro(e,t,n,i,void 0,o),i=No(),e!==null&&!Fe?(ko(e,t,o),Sn(e,t,o)):(_e&&i&&co(t),t.flags|=1,dt(e,t,n,o),t.child)}function sh(e,t,n,i,o,f){return xa(t),t.updateQueue=null,n=ud(t,i,n,o),od(e),i=No(),e!==null&&!Fe?(ko(e,t,f),Sn(e,t,f)):(_e&&i&&co(t),t.flags|=1,dt(e,t,n,f),t.child)}function lh(e,t,n,i,o){if(xa(t),t.stateNode===null){var f=ai,m=n.contextType;typeof m=="object"&&m!==null&&(f=ft(m)),f=new n(i,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Jo,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=i,f.state=t.memoizedState,f.refs={},So(t),m=n.contextType,f.context=typeof m=="object"&&m!==null?ft(m):ai,f.state=t.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(Qo(t,n,m,i),f.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(m=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),m!==f.state&&Jo.enqueueReplaceState(f,f.state,null),fr(t,i,f,o),cr(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){f=t.stateNode;var y=t.memoizedProps,w=Ra(n,y);f.props=w;var C=f.context,q=n.contextType;m=ai,typeof q=="object"&&q!==null&&(m=ft(q));var G=n.getDerivedStateFromProps;q=typeof G=="function"||typeof f.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y||C!==m)&&Jd(t,f,i,m),$n=!1;var N=t.memoizedState;f.state=N,fr(t,i,f,o),cr(),C=t.memoizedState,y||N!==C||$n?(typeof G=="function"&&(Qo(t,n,G,i),C=t.memoizedState),(w=$n||Qd(t,n,w,i,N,C,m))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=C),f.props=i,f.state=C,f.context=m,i=w):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{f=t.stateNode,Eo(e,t),m=t.memoizedProps,q=Ra(n,m),f.props=q,G=t.pendingProps,N=f.context,C=n.contextType,w=ai,typeof C=="object"&&C!==null&&(w=ft(C)),y=n.getDerivedStateFromProps,(C=typeof y=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==G||N!==w)&&Jd(t,f,i,w),$n=!1,N=t.memoizedState,f.state=N,fr(t,i,f,o),cr();var U=t.memoizedState;m!==G||N!==U||$n||e!==null&&e.dependencies!==null&&ys(e.dependencies)?(typeof y=="function"&&(Qo(t,n,y,i),U=t.memoizedState),(q=$n||Qd(t,n,q,i,N,U,w)||e!==null&&e.dependencies!==null&&ys(e.dependencies))?(C||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,U,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,U,w)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=U),f.props=i,f.state=U,f.context=w,i=q):(typeof f.componentDidUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),i=!1)}return f=i,Ms(e,t),i=(t.flags&128)!==0,f||i?(f=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&i?(t.child=Aa(t,e.child,null,o),t.child=Aa(t,null,n,o)):dt(e,t,n,o),t.memoizedState=f.state,e=t.child):e=Sn(e,t,o),e}function oh(e,t,n,i){return Sa(),t.flags|=256,dt(e,t,n,i),t.child}var Po={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wo(e){return{baseLanes:e,cachePool:Pf()}}function Fo(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Mt),e}function uh(e,t,n){var i=t.pendingProps,o=!1,f=(t.flags&128)!==0,m;if((m=f)||(m=e!==null&&e.memoizedState===null?!1:(Xe.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(_e){if(o?Yn(t):Kn(),(e=Me)?(e=ym(e,It),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Bn!==null?{id:sn,overflow:ln}:null,retryLane:536870912,hydrationErrors:null},n=Vf(e),n.return=t,t.child=n,ct=t,Me=null)):e=null,e===null)throw qn(t);return zu(e)?t.lanes=32:t.lanes=536870912,null}var y=i.children;return i=i.fallback,o?(Kn(),o=t.mode,y=Bs({mode:"hidden",children:y},o),i=wa(i,o,n,null),y.return=t,i.return=t,y.sibling=i,t.child=y,i=t.child,i.memoizedState=Wo(n),i.childLanes=Fo(e,m,n),t.memoizedState=Po,vr(null,i)):(Yn(t),eu(t,y))}var w=e.memoizedState;if(w!==null&&(y=w.dehydrated,y!==null)){if(f)t.flags&256?(Yn(t),t.flags&=-257,t=tu(e,t,n)):t.memoizedState!==null?(Kn(),t.child=e.child,t.flags|=128,t=null):(Kn(),y=i.fallback,o=t.mode,i=Bs({mode:"visible",children:i.children},o),y=wa(y,o,n,null),y.flags|=2,i.return=t,y.return=t,i.sibling=y,t.child=i,Aa(t,e.child,null,n),i=t.child,i.memoizedState=Wo(n),i.childLanes=Fo(e,m,n),t.memoizedState=Po,t=vr(null,i));else if(Yn(t),zu(y)){if(m=y.nextSibling&&y.nextSibling.dataset,m)var C=m.dgst;m=C,i=Error(s(419)),i.stack="",i.digest=m,ir({value:i,source:null,stack:null}),t=tu(e,t,n)}else if(Fe||li(e,t,n,!1),m=(n&e.childLanes)!==0,Fe||m){if(m=De,m!==null&&(i=Xc(m,n),i!==0&&i!==w.retryLane))throw w.retryLane=i,_a(e,i),At(m,e,i),Io;Uu(y)||Qs(),t=tu(e,t,n)}else Uu(y)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Me=Pt(y.nextSibling),ct=t,_e=!0,Ln=null,It=!1,e!==null&&Kf(t,e),t=eu(t,i.children),t.flags|=4096);return t}return o?(Kn(),y=i.fallback,o=t.mode,w=e.child,C=w.sibling,i=vn(w,{mode:"hidden",children:i.children}),i.subtreeFlags=w.subtreeFlags&65011712,C!==null?y=vn(C,y):(y=wa(y,o,n,null),y.flags|=2),y.return=t,i.return=t,i.sibling=y,t.child=i,vr(null,i),i=t.child,y=e.child.memoizedState,y===null?y=Wo(n):(o=y.cachePool,o!==null?(w=Pe._currentValue,o=o.parent!==w?{parent:w,pool:w}:o):o=Pf(),y={baseLanes:y.baseLanes|n,cachePool:o}),i.memoizedState=y,i.childLanes=Fo(e,m,n),t.memoizedState=Po,vr(e.child,i)):(Yn(t),n=e.child,e=n.sibling,n=vn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=n,t.memoizedState=null,n)}function eu(e,t){return t=Bs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Bs(e,t){return e=kt(22,e,null,t),e.lanes=0,e}function tu(e,t,n){return Aa(t,e.child,null,n),e=eu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ch(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),vo(e.return,t,n)}function nu(e,t,n,i,o,f){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o,treeForkCount:f}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=i,m.tail=n,m.tailMode=o,m.treeForkCount=f)}function fh(e,t,n){var i=t.pendingProps,o=i.revealOrder,f=i.tail;i=i.children;var m=Xe.current,y=(m&2)!==0;if(y?(m=m&1|2,t.flags|=128):m&=1,I(Xe,m),dt(e,t,i,n),i=_e?ar:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ch(e,n,t);else if(e.tag===19)ch(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ts(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),nu(t,!1,o,n,f,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ts(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}nu(t,!0,n,null,f,i);break;case"together":nu(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(li(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=vn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function au(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ys(e)))}function hp(e,t,n){switch(t.tag){case 3:ot(t,t.stateNode.containerInfo),Hn(t,Pe,e.memoizedState.cache),Sa();break;case 27:case 5:ha(t);break;case 4:ot(t,t.stateNode.containerInfo);break;case 10:Hn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ao(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Yn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?uh(e,t,n):(Yn(t),e=Sn(e,t,n),e!==null?e.sibling:null);Yn(t);break;case 19:var o=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(li(e,t,n,!1),i=(n&t.childLanes)!==0),o){if(i)return fh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),I(Xe,Xe.current),i)break;return null;case 22:return t.lanes=0,ah(e,t,n,t.pendingProps);case 24:Hn(t,Pe,e.memoizedState.cache)}return Sn(e,t,n)}function dh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Fe=!0;else{if(!au(e,n)&&(t.flags&128)===0)return Fe=!1,hp(e,t,n);Fe=(e.flags&131072)!==0}else Fe=!1,_e&&(t.flags&1048576)!==0&&Yf(t,ar,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Oa(t.elementType),t.type=e,typeof e=="function")lo(e)?(i=Ra(e,i),t.tag=1,t=lh(null,t,e,i,n)):(t.tag=0,t=Zo(null,t,e,i,n));else{if(e!=null){var o=e.$$typeof;if(o===Q){t.tag=11,t=eh(null,t,e,i,n);break e}else if(o===D){t.tag=14,t=th(null,t,e,i,n);break e}}throw t=pt(e)||e,Error(s(306,t,""))}}return t;case 0:return Zo(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,o=Ra(i,t.pendingProps),lh(e,t,i,o,n);case 3:e:{if(ot(t,t.stateNode.containerInfo),e===null)throw Error(s(387));i=t.pendingProps;var f=t.memoizedState;o=f.element,Eo(e,t),fr(t,i,null,n);var m=t.memoizedState;if(i=m.cache,Hn(t,Pe,i),i!==f.cache&&yo(t,[Pe],n,!0),cr(),i=m.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=oh(e,t,i,n);break e}else if(i!==o){o=Qt(Error(s(424)),t),ir(o),t=oh(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Me=Pt(e.firstChild),ct=t,_e=!0,Ln=null,It=!0,n=ad(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Sa(),i===o){t=Sn(e,t,n);break e}dt(e,t,i,n)}t=t.child}return t;case 26:return Ms(e,t),e===null?(n=Em(t.type,null,t.pendingProps,null))?t.memoizedState=n:_e||(n=t.type,e=t.pendingProps,i=Fs(me.current).createElement(n),i[ut]=t,i[St]=e,ht(i,n,e),st(i),t.stateNode=i):t.memoizedState=Em(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ha(t),e===null&&_e&&(i=t.stateNode=_m(t.type,t.pendingProps,me.current),ct=t,It=!0,o=Me,Fn(t.type)?(Mu=o,Me=Pt(i.firstChild)):Me=o),dt(e,t,t.pendingProps.children,n),Ms(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&_e&&((o=i=Me)&&(i=Gp(i,t.type,t.pendingProps,It),i!==null?(t.stateNode=i,ct=t,Me=Pt(i.firstChild),It=!1,o=!0):o=!1),o||qn(t)),ha(t),o=t.type,f=t.pendingProps,m=e!==null?e.memoizedProps:null,i=f.children,Nu(o,f)?i=null:m!==null&&Nu(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=Ro(e,t,ip,null,null,n),Nr._currentValue=o),Ms(e,t),dt(e,t,i,n),t.child;case 6:return e===null&&_e&&((e=n=Me)&&(n=Yp(n,t.pendingProps,It),n!==null?(t.stateNode=n,ct=t,Me=null,e=!0):e=!1),e||qn(t)),null;case 13:return uh(e,t,n);case 4:return ot(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Aa(t,null,i,n):dt(e,t,i,n),t.child;case 11:return eh(e,t,t.type,t.pendingProps,n);case 7:return dt(e,t,t.pendingProps,n),t.child;case 8:return dt(e,t,t.pendingProps.children,n),t.child;case 12:return dt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Hn(t,t.type,i.value),dt(e,t,i.children,n),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,xa(t),o=ft(o),i=i(o),t.flags|=1,dt(e,t,i,n),t.child;case 14:return th(e,t,t.type,t.pendingProps,n);case 15:return nh(e,t,t.type,t.pendingProps,n);case 19:return fh(e,t,n);case 31:return dp(e,t,n);case 22:return ah(e,t,n,t.pendingProps);case 24:return xa(t),i=ft(Pe),e===null?(o=_o(),o===null&&(o=De,f=po(),o.pooledCache=f,f.refCount++,f!==null&&(o.pooledCacheLanes|=n),o=f),t.memoizedState={parent:i,cache:o},So(t),Hn(t,Pe,o)):((e.lanes&n)!==0&&(Eo(e,t),fr(t,null,null,n),cr()),o=e.memoizedState,f=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Hn(t,Pe,i)):(i=f.cache,Hn(t,Pe,i),i!==o.cache&&yo(t,[Pe],n,!0))),dt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function En(e){e.flags|=4}function iu(e,t,n,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(qh())e.flags|=8192;else throw ja=ws,wo}else e.flags&=-16777217}function hh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Am(t))if(qh())e.flags|=8192;else throw ja=ws,wo}function Ls(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Kc():536870912,e.lanes|=t,bi|=t)}function yr(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function mp(e,t,n){var i=t.pendingProps;switch(fo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),bn(Pe),He(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(si(t)?En(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,mo())),Be(t),null;case 26:var o=t.type,f=t.memoizedState;return e===null?(En(t),f!==null?(Be(t),hh(t,f)):(Be(t),iu(t,o,null,i,n))):f?f!==e.memoizedState?(En(t),Be(t),hh(t,f)):(Be(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&En(t),Be(t),iu(t,o,e,i,n)),null;case 27:if(Va(t),n=me.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&En(t);else{if(!i){if(t.stateNode===null)throw Error(s(166));return Be(t),null}e=F.current,si(t)?Qf(t):(e=_m(o,i,n),t.stateNode=e,En(t))}return Be(t),null;case 5:if(Va(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&En(t);else{if(!i){if(t.stateNode===null)throw Error(s(166));return Be(t),null}if(f=F.current,si(t))Qf(t);else{var m=Fs(me.current);switch(f){case 1:f=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:f=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":f=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":f=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":f=m.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof i.is=="string"?m.createElement("select",{is:i.is}):m.createElement("select"),i.multiple?f.multiple=!0:i.size&&(f.size=i.size);break;default:f=typeof i.is=="string"?m.createElement(o,{is:i.is}):m.createElement(o)}}f[ut]=t,f[St]=i;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)f.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=f;e:switch(ht(f,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&En(t)}}return Be(t),iu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&En(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(e=me.current,si(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,o=ct,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[ut]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||um(e.nodeValue,n)),e||qn(t,!0)}else e=Fs(e).createTextNode(i),e[ut]=t,t.stateNode=e}return Be(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=si(t),n!==null){if(e===null){if(!i)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ut]=t}else Sa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),e=!1}else n=mo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Ut(t),t):(Ut(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Be(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=si(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(s(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));o[ut]=t}else Sa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),o=!1}else o=mo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Ut(t),t):(Ut(t),null)}return Ut(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==o&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ls(t,t.updateQueue),Be(t),null);case 4:return He(),e===null&&Ou(t.stateNode.containerInfo),Be(t),null;case 10:return bn(t.type),Be(t),null;case 19:if(V(Xe),i=t.memoizedState,i===null)return Be(t),null;if(o=(t.flags&128)!==0,f=i.rendering,f===null)if(o)yr(i,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Ts(e),f!==null){for(t.flags|=128,yr(i,!1),e=f.updateQueue,t.updateQueue=e,Ls(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)$f(n,e),n=n.sibling;return I(Xe,Xe.current&1|2),_e&&yn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&ge()>Gs&&(t.flags|=128,o=!0,yr(i,!1),t.lanes=4194304)}else{if(!o)if(e=Ts(f),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Ls(t,e),yr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!f.alternate&&!_e)return Be(t),null}else 2*ge()-i.renderingStartTime>Gs&&n!==536870912&&(t.flags|=128,o=!0,yr(i,!1),t.lanes=4194304);i.isBackwards?(f.sibling=t.child,t.child=f):(e=i.last,e!==null?e.sibling=f:t.child=f,i.last=f)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ge(),e.sibling=null,n=Xe.current,I(Xe,o?n&1|2:n&1),_e&&yn(t,i.treeForkCount),e):(Be(t),null);case 22:case 23:return Ut(t),jo(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),n=t.updateQueue,n!==null&&Ls(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&V(Ta),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bn(Pe),Be(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function gp(e,t){switch(fo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bn(Pe),He(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Va(t),null;case 31:if(t.memoizedState!==null){if(Ut(t),t.alternate===null)throw Error(s(340));Sa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ut(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Sa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(Xe),null;case 4:return He(),null;case 10:return bn(t.type),null;case 22:case 23:return Ut(t),jo(),e!==null&&V(Ta),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return bn(Pe),null;case 25:return null;default:return null}}function mh(e,t){switch(fo(t),t.tag){case 3:bn(Pe),He();break;case 26:case 27:case 5:Va(t);break;case 4:He();break;case 31:t.memoizedState!==null&&Ut(t);break;case 13:Ut(t);break;case 19:V(Xe);break;case 10:bn(t.type);break;case 22:case 23:Ut(t),jo(),e!==null&&V(Ta);break;case 24:bn(Pe)}}function pr(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&e)===e){i=void 0;var f=n.create,m=n.inst;i=f(),m.destroy=i}n=n.next}while(n!==o)}}catch(y){Ce(t,t.return,y)}}function Qn(e,t,n){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var f=o.next;i=f;do{if((i.tag&e)===e){var m=i.inst,y=m.destroy;if(y!==void 0){m.destroy=void 0,o=t;var w=n,C=y;try{C()}catch(q){Ce(o,w,q)}}}i=i.next}while(i!==f)}}catch(q){Ce(t,t.return,q)}}function gh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{rd(t,n)}catch(i){Ce(e,e.return,i)}}}function vh(e,t,n){n.props=Ra(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Ce(e,t,i)}}function br(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(o){Ce(e,t,o)}}function on(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){Ce(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){Ce(e,t,o)}else n.current=null}function yh(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){Ce(e,e.return,o)}}function ru(e,t,n){try{var i=e.stateNode;Bp(i,e.type,n,t),i[St]=t}catch(o){Ce(e,e.return,o)}}function ph(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fn(e.type)||e.tag===4}function su(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ph(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=mn));else if(i!==4&&(i===27&&Fn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(lu(e,t,n),e=e.sibling;e!==null;)lu(e,t,n),e=e.sibling}function qs(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Fn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(qs(e,t,n),e=e.sibling;e!==null;)qs(e,t,n),e=e.sibling}function bh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ht(t,i,n),t[ut]=e,t[St]=n}catch(f){Ce(e,e.return,f)}}var xn=!1,et=!1,ou=!1,_h=typeof WeakSet=="function"?WeakSet:Set,lt=null;function vp(e,t){if(e=e.containerInfo,Cu=sl,e=kf(e),eo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{n.nodeType,f.nodeType}catch{n=null;break e}var m=0,y=-1,w=-1,C=0,q=0,G=e,N=null;t:for(;;){for(var U;G!==n||o!==0&&G.nodeType!==3||(y=m+o),G!==f||i!==0&&G.nodeType!==3||(w=m+i),G.nodeType===3&&(m+=G.nodeValue.length),(U=G.firstChild)!==null;)N=G,G=U;for(;;){if(G===e)break t;if(N===n&&++C===o&&(y=m),N===f&&++q===i&&(w=m),(U=G.nextSibling)!==null)break;G=N,N=G.parentNode}G=U}n=y===-1||w===-1?null:{start:y,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ru={focusedElem:e,selectionRange:n},sl=!1,lt=t;lt!==null;)if(t=lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,lt=e;else for(;lt!==null;){switch(t=lt,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,n=t,o=f.memoizedProps,f=f.memoizedState,i=n.stateNode;try{var W=Ra(n.type,o);e=i.getSnapshotBeforeUpdate(W,f),i.__reactInternalSnapshotBeforeUpdate=e}catch(le){Ce(n,n.return,le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Du(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Du(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,lt=e;break}lt=t.return}}function wh(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:On(e,n),i&4&&pr(5,n);break;case 1:if(On(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(m){Ce(n,n.return,m)}else{var o=Ra(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Ce(n,n.return,m)}}i&64&&gh(n),i&512&&br(n,n.return);break;case 3:if(On(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{rd(e,t)}catch(m){Ce(n,n.return,m)}}break;case 27:t===null&&i&4&&bh(n);case 26:case 5:On(e,n),t===null&&i&4&&yh(n),i&512&&br(n,n.return);break;case 12:On(e,n);break;case 31:On(e,n),i&4&&xh(e,n);break;case 13:On(e,n),i&4&&Th(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Tp.bind(null,n),Kp(e,n))));break;case 22:if(i=n.memoizedState!==null||xn,!i){t=t!==null&&t.memoizedState!==null||et,o=xn;var f=et;xn=i,(et=t)&&!f?jn(e,n,(n.subtreeFlags&8772)!==0):On(e,n),xn=o,et=f}break;case 30:break;default:On(e,n)}}function Sh(e){var t=e.alternate;t!==null&&(e.alternate=null,Sh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Bl(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,xt=!1;function Tn(e,t,n){for(n=n.child;n!==null;)Eh(e,t,n),n=n.sibling}function Eh(e,t,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Gi,n)}catch{}switch(n.tag){case 26:et||on(n,t),Tn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:et||on(n,t);var i=qe,o=xt;Fn(n.type)&&(qe=n.stateNode,xt=!1),Tn(e,t,n),Ar(n.stateNode),qe=i,xt=o;break;case 5:et||on(n,t);case 6:if(i=qe,o=xt,qe=null,Tn(e,t,n),qe=i,xt=o,qe!==null)if(xt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(n.stateNode)}catch(f){Ce(n,t,f)}else try{qe.removeChild(n.stateNode)}catch(f){Ce(n,t,f)}break;case 18:qe!==null&&(xt?(e=qe,gm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ji(e)):gm(qe,n.stateNode));break;case 4:i=qe,o=xt,qe=n.stateNode.containerInfo,xt=!0,Tn(e,t,n),qe=i,xt=o;break;case 0:case 11:case 14:case 15:Qn(2,n,t),et||Qn(4,n,t),Tn(e,t,n);break;case 1:et||(on(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&vh(n,t,i)),Tn(e,t,n);break;case 21:Tn(e,t,n);break;case 22:et=(i=et)||n.memoizedState!==null,Tn(e,t,n),et=i;break;default:Tn(e,t,n)}}function xh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ji(e)}catch(n){Ce(t,t.return,n)}}}function Th(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ji(e)}catch(n){Ce(t,t.return,n)}}function yp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new _h),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new _h),t;default:throw Error(s(435,e.tag))}}function Hs(e,t){var n=yp(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var o=Op.bind(null,e,i);i.then(o,o)}})}function Tt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],f=e,m=t,y=m;e:for(;y!==null;){switch(y.tag){case 27:if(Fn(y.type)){qe=y.stateNode,xt=!1;break e}break;case 5:qe=y.stateNode,xt=!1;break e;case 3:case 4:qe=y.stateNode.containerInfo,xt=!0;break e}y=y.return}if(qe===null)throw Error(s(160));Eh(f,m,o),qe=null,xt=!1,f=o.alternate,f!==null&&(f.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Oh(t,e),t=t.sibling}var en=null;function Oh(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tt(t,e),Ot(e),i&4&&(Qn(3,e,e.return),pr(3,e),Qn(5,e,e.return));break;case 1:Tt(t,e),Ot(e),i&512&&(et||n===null||on(n,n.return)),i&64&&xn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=en;if(Tt(t,e),Ot(e),i&512&&(et||n===null||on(n,n.return)),i&4){var f=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":f=o.getElementsByTagName("title")[0],(!f||f[Qi]||f[ut]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=o.createElement(i),o.head.insertBefore(f,o.querySelector("head > title"))),ht(f,i,n),f[ut]=e,st(f),i=f;break e;case"link":var m=Om("link","href",o).get(i+(n.href||""));if(m){for(var y=0;y<m.length;y++)if(f=m[y],f.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&f.getAttribute("rel")===(n.rel==null?null:n.rel)&&f.getAttribute("title")===(n.title==null?null:n.title)&&f.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){m.splice(y,1);break t}}f=o.createElement(i),ht(f,i,n),o.head.appendChild(f);break;case"meta":if(m=Om("meta","content",o).get(i+(n.content||""))){for(y=0;y<m.length;y++)if(f=m[y],f.getAttribute("content")===(n.content==null?null:""+n.content)&&f.getAttribute("name")===(n.name==null?null:n.name)&&f.getAttribute("property")===(n.property==null?null:n.property)&&f.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&f.getAttribute("charset")===(n.charSet==null?null:n.charSet)){m.splice(y,1);break t}}f=o.createElement(i),ht(f,i,n),o.head.appendChild(f);break;default:throw Error(s(468,i))}f[ut]=e,st(f),i=f}e.stateNode=i}else jm(o,e.type,e.stateNode);else e.stateNode=Tm(o,i,e.memoizedProps);else f!==i?(f===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):f.count--,i===null?jm(o,e.type,e.stateNode):Tm(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&ru(e,e.memoizedProps,n.memoizedProps)}break;case 27:Tt(t,e),Ot(e),i&512&&(et||n===null||on(n,n.return)),n!==null&&i&4&&ru(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Tt(t,e),Ot(e),i&512&&(et||n===null||on(n,n.return)),e.flags&32){o=e.stateNode;try{Za(o,"")}catch(W){Ce(e,e.return,W)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,ru(e,o,n!==null?n.memoizedProps:o)),i&1024&&(ou=!0);break;case 6:if(Tt(t,e),Ot(e),i&4){if(e.stateNode===null)throw Error(s(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(W){Ce(e,e.return,W)}}break;case 3:if(nl=null,o=en,en=el(t.containerInfo),Tt(t,e),en=o,Ot(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ji(t.containerInfo)}catch(W){Ce(e,e.return,W)}ou&&(ou=!1,jh(e));break;case 4:i=en,en=el(e.stateNode.containerInfo),Tt(t,e),Ot(e),en=i;break;case 12:Tt(t,e),Ot(e);break;case 31:Tt(t,e),Ot(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Hs(e,i)));break;case 13:Tt(t,e),Ot(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Vs=ge()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Hs(e,i)));break;case 22:o=e.memoizedState!==null;var w=n!==null&&n.memoizedState!==null,C=xn,q=et;if(xn=C||o,et=q||w,Tt(t,e),et=q,xn=C,Ot(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||w||xn||et||Na(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){w=n=t;try{if(f=w.stateNode,o)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{y=w.stateNode;var G=w.memoizedProps.style,N=G!=null&&G.hasOwnProperty("display")?G.display:null;y.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(W){Ce(w,w.return,W)}}}else if(t.tag===6){if(n===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(W){Ce(w,w.return,W)}}}else if(t.tag===18){if(n===null){w=t;try{var U=w.stateNode;o?vm(U,!0):vm(w.stateNode,!1)}catch(W){Ce(w,w.return,W)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Hs(e,n))));break;case 19:Tt(t,e),Ot(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Hs(e,i)));break;case 30:break;case 21:break;default:Tt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(ph(i)){n=i;break}i=i.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var o=n.stateNode,f=su(e);qs(e,f,o);break;case 5:var m=n.stateNode;n.flags&32&&(Za(m,""),n.flags&=-33);var y=su(e);qs(e,y,m);break;case 3:case 4:var w=n.stateNode.containerInfo,C=su(e);lu(e,C,w);break;default:throw Error(s(161))}}catch(q){Ce(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;jh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function On(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)wh(e,t.alternate,t),t=t.sibling}function Na(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Qn(4,t,t.return),Na(t);break;case 1:on(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&vh(t,t.return,n),Na(t);break;case 27:Ar(t.stateNode);case 26:case 5:on(t,t.return),Na(t);break;case 22:t.memoizedState===null&&Na(t);break;case 30:Na(t);break;default:Na(t)}e=e.sibling}}function jn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,f=t,m=f.flags;switch(f.tag){case 0:case 11:case 15:jn(o,f,n),pr(4,f);break;case 1:if(jn(o,f,n),i=f,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(C){Ce(i,i.return,C)}if(i=f,o=i.updateQueue,o!==null){var y=i.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)id(w[o],y)}catch(C){Ce(i,i.return,C)}}n&&m&64&&gh(f),br(f,f.return);break;case 27:bh(f);case 26:case 5:jn(o,f,n),n&&i===null&&m&4&&yh(f),br(f,f.return);break;case 12:jn(o,f,n);break;case 31:jn(o,f,n),n&&m&4&&xh(o,f);break;case 13:jn(o,f,n),n&&m&4&&Th(o,f);break;case 22:f.memoizedState===null&&jn(o,f,n),br(f,f.return);break;case 30:break;default:jn(o,f,n)}t=t.sibling}}function uu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&rr(n))}function cu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rr(e))}function tn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ah(e,t,n,i),t=t.sibling}function Ah(e,t,n,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:tn(e,t,n,i),o&2048&&pr(9,t);break;case 1:tn(e,t,n,i);break;case 3:tn(e,t,n,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rr(e)));break;case 12:if(o&2048){tn(e,t,n,i),e=t.stateNode;try{var f=t.memoizedProps,m=f.id,y=f.onPostCommit;typeof y=="function"&&y(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Ce(t,t.return,w)}}else tn(e,t,n,i);break;case 31:tn(e,t,n,i);break;case 13:tn(e,t,n,i);break;case 23:break;case 22:f=t.stateNode,m=t.alternate,t.memoizedState!==null?f._visibility&2?tn(e,t,n,i):_r(e,t):f._visibility&2?tn(e,t,n,i):(f._visibility|=2,vi(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&uu(m,t);break;case 24:tn(e,t,n,i),o&2048&&cu(t.alternate,t);break;default:tn(e,t,n,i)}}function vi(e,t,n,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,m=t,y=n,w=i,C=m.flags;switch(m.tag){case 0:case 11:case 15:vi(f,m,y,w,o),pr(8,m);break;case 23:break;case 22:var q=m.stateNode;m.memoizedState!==null?q._visibility&2?vi(f,m,y,w,o):_r(f,m):(q._visibility|=2,vi(f,m,y,w,o)),o&&C&2048&&uu(m.alternate,m);break;case 24:vi(f,m,y,w,o),o&&C&2048&&cu(m.alternate,m);break;default:vi(f,m,y,w,o)}t=t.sibling}}function _r(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,o=i.flags;switch(i.tag){case 22:_r(n,i),o&2048&&uu(i.alternate,i);break;case 24:_r(n,i),o&2048&&cu(i.alternate,i);break;default:_r(n,i)}t=t.sibling}}var wr=8192;function yi(e,t,n){if(e.subtreeFlags&wr)for(e=e.child;e!==null;)Ch(e,t,n),e=e.sibling}function Ch(e,t,n){switch(e.tag){case 26:yi(e,t,n),e.flags&wr&&e.memoizedState!==null&&a0(n,en,e.memoizedState,e.memoizedProps);break;case 5:yi(e,t,n);break;case 3:case 4:var i=en;en=el(e.stateNode.containerInfo),yi(e,t,n),en=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=wr,wr=16777216,yi(e,t,n),wr=i):yi(e,t,n));break;default:yi(e,t,n)}}function Rh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Sr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];lt=i,kh(i,e)}Rh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Nh(e),e=e.sibling}function Nh(e){switch(e.tag){case 0:case 11:case 15:Sr(e),e.flags&2048&&Qn(9,e,e.return);break;case 3:Sr(e);break;case 12:Sr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,$s(e)):Sr(e);break;default:Sr(e)}}function $s(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];lt=i,kh(i,e)}Rh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Qn(8,t,t.return),$s(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,$s(t));break;default:$s(t)}e=e.sibling}}function kh(e,t){for(;lt!==null;){var n=lt;switch(n.tag){case 0:case 11:case 15:Qn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:rr(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,lt=i;else e:for(n=e;lt!==null;){i=lt;var o=i.sibling,f=i.return;if(Sh(i),i===n){lt=null;break e}if(o!==null){o.return=f,lt=o;break e}lt=f}}}var pp={getCacheForType:function(e){var t=ft(Pe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ft(Pe).controller.signal}},bp=typeof WeakMap=="function"?WeakMap:Map,je=0,De=null,ve=null,pe=0,Ae=0,zt=null,Jn=!1,pi=!1,fu=!1,An=0,Ke=0,Xn=0,ka=0,du=0,Mt=0,bi=0,Er=null,jt=null,hu=!1,Vs=0,Dh=0,Gs=1/0,Ys=null,In=null,at=0,Zn=null,_i=null,Cn=0,mu=0,gu=null,Uh=null,xr=0,vu=null;function Bt(){return(je&2)!==0&&pe!==0?pe&-pe:B.T!==null?Su():Ic()}function zh(){if(Mt===0)if((pe&536870912)===0||_e){var e=Wr;Wr<<=1,(Wr&3932160)===0&&(Wr=262144),Mt=e}else Mt=536870912;return e=Dt.current,e!==null&&(e.flags|=32),Mt}function At(e,t,n){(e===De&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(wi(e,0),Pn(e,pe,Mt,!1)),Ki(e,n),((je&2)===0||e!==De)&&(e===De&&((je&2)===0&&(ka|=n),Ke===4&&Pn(e,pe,Mt,!1)),un(e))}function Mh(e,t,n){if((je&6)!==0)throw Error(s(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Yi(e,t),o=i?Sp(e,t):pu(e,t,!0),f=i;do{if(o===0){pi&&!i&&Pn(e,t,0,!1);break}else{if(n=e.current.alternate,f&&!_p(n)){o=pu(e,t,!1),f=!1;continue}if(o===2){if(f=t,e.errorRecoveryDisabledLanes&f)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var y=e;o=Er;var w=y.current.memoizedState.isDehydrated;if(w&&(wi(y,m).flags|=256),m=pu(y,m,!1),m!==2){if(fu&&!w){y.errorRecoveryDisabledLanes|=f,ka|=f,o=4;break e}f=jt,jt=o,f!==null&&(jt===null?jt=f:jt.push.apply(jt,f))}o=m}if(f=!1,o!==2)continue}}if(o===1){wi(e,0),Pn(e,t,0,!0);break}e:{switch(i=e,f=o,f){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Pn(i,t,Mt,!Jn);break e;case 2:jt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(o=Vs+300-ge(),10<o)){if(Pn(i,t,Mt,!Jn),es(i,0,!0)!==0)break e;Cn=t,i.timeoutHandle=hm(Bh.bind(null,i,n,jt,Ys,hu,t,Mt,ka,bi,Jn,f,"Throttled",-0,0),o);break e}Bh(i,n,jt,Ys,hu,t,Mt,ka,bi,Jn,f,null,-0,0)}}break}while(!0);un(e)}function Bh(e,t,n,i,o,f,m,y,w,C,q,G,N,U){if(e.timeoutHandle=-1,G=t.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:mn},Ch(t,f,G);var W=(f&62914560)===f?Vs-ge():(f&4194048)===f?Dh-ge():0;if(W=i0(G,W),W!==null){Cn=f,e.cancelPendingCommit=W(Kh.bind(null,e,t,f,n,i,o,m,y,w,q,G,null,N,U)),Pn(e,f,m,!C);return}}Kh(e,t,f,n,i,o,m,y,w)}function _p(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],f=o.getSnapshot;o=o.value;try{if(!Nt(f(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t,n,i){t&=~du,t&=~ka,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var f=31-Rt(o),m=1<<f;i[f]=-1,o&=~m}n!==0&&Qc(e,n,t)}function Ks(){return(je&6)===0?(Tr(0),!1):!0}function yu(){if(ve!==null){if(Ae===0)var e=ve.return;else e=ve,pn=Ea=null,Do(e),fi=null,lr=0,e=ve;for(;e!==null;)mh(e.alternate,e),e=e.return;ve=null}}function wi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Hp(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Cn=0,yu(),De=e,ve=n=vn(e.current,null),pe=t,Ae=0,zt=null,Jn=!1,pi=Yi(e,t),fu=!1,bi=Mt=du=ka=Xn=Ke=0,jt=Er=null,hu=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-Rt(i),f=1<<o;t|=e[o],i&=~f}return An=t,ds(),n}function Lh(e,t){fe=null,B.H=gr,t===ci||t===_s?(t=ed(),Ae=3):t===wo?(t=ed(),Ae=4):Ae=t===Io?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,zt=t,ve===null&&(Ke=1,Us(e,Qt(t,e.current)))}function qh(){var e=Dt.current;return e===null?!0:(pe&4194048)===pe?Zt===null:(pe&62914560)===pe||(pe&536870912)!==0?e===Zt:!1}function Hh(){var e=B.H;return B.H=gr,e===null?gr:e}function $h(){var e=B.A;return B.A=pp,e}function Qs(){Ke=4,Jn||(pe&4194048)!==pe&&Dt.current!==null||(pi=!0),(Xn&134217727)===0&&(ka&134217727)===0||De===null||Pn(De,pe,Mt,!1)}function pu(e,t,n){var i=je;je|=2;var o=Hh(),f=$h();(De!==e||pe!==t)&&(Ys=null,wi(e,t)),t=!1;var m=Ke;e:do try{if(Ae!==0&&ve!==null){var y=ve,w=zt;switch(Ae){case 8:yu(),m=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(t=!0);var C=Ae;if(Ae=0,zt=null,Si(e,y,w,C),n&&pi){m=0;break e}break;default:C=Ae,Ae=0,zt=null,Si(e,y,w,C)}}wp(),m=Ke;break}catch(q){Lh(e,q)}while(!0);return t&&e.shellSuspendCounter++,pn=Ea=null,je=i,B.H=o,B.A=f,ve===null&&(De=null,pe=0,ds()),m}function wp(){for(;ve!==null;)Vh(ve)}function Sp(e,t){var n=je;je|=2;var i=Hh(),o=$h();De!==e||pe!==t?(Ys=null,Gs=ge()+500,wi(e,t)):pi=Yi(e,t);e:do try{if(Ae!==0&&ve!==null){t=ve;var f=zt;t:switch(Ae){case 1:Ae=0,zt=null,Si(e,t,f,1);break;case 2:case 9:if(Wf(f)){Ae=0,zt=null,Gh(t);break}t=function(){Ae!==2&&Ae!==9||De!==e||(Ae=7),un(e)},f.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Wf(f)?(Ae=0,zt=null,Gh(t)):(Ae=0,zt=null,Si(e,t,f,7));break;case 5:var m=null;switch(ve.tag){case 26:m=ve.memoizedState;case 5:case 27:var y=ve;if(m?Am(m):y.stateNode.complete){Ae=0,zt=null;var w=y.sibling;if(w!==null)ve=w;else{var C=y.return;C!==null?(ve=C,Js(C)):ve=null}break t}}Ae=0,zt=null,Si(e,t,f,5);break;case 6:Ae=0,zt=null,Si(e,t,f,6);break;case 8:yu(),Ke=6;break e;default:throw Error(s(462))}}Ep();break}catch(q){Lh(e,q)}while(!0);return pn=Ea=null,B.H=i,B.A=o,je=n,ve!==null?0:(De=null,pe=0,ds(),Ke)}function Ep(){for(;ve!==null&&!_t();)Vh(ve)}function Vh(e){var t=dh(e.alternate,e,An);e.memoizedProps=e.pendingProps,t===null?Js(e):ve=t}function Gh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=sh(n,t,t.pendingProps,t.type,void 0,pe);break;case 11:t=sh(n,t,t.pendingProps,t.type.render,t.ref,pe);break;case 5:Do(t);default:mh(n,t),t=ve=$f(t,An),t=dh(n,t,An)}e.memoizedProps=e.pendingProps,t===null?Js(e):ve=t}function Si(e,t,n,i){pn=Ea=null,Do(t),fi=null,lr=0;var o=t.return;try{if(fp(e,o,t,n,pe)){Ke=1,Us(e,Qt(n,e.current)),ve=null;return}}catch(f){if(o!==null)throw ve=o,f;Ke=1,Us(e,Qt(n,e.current)),ve=null;return}t.flags&32768?(_e||i===1?e=!0:pi||(pe&536870912)!==0?e=!1:(Jn=e=!0,(i===2||i===9||i===3||i===6)&&(i=Dt.current,i!==null&&i.tag===13&&(i.flags|=16384))),Yh(t,e)):Js(t)}function Js(e){var t=e;do{if((t.flags&32768)!==0){Yh(t,Jn);return}e=t.return;var n=mp(t.alternate,t,An);if(n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);Ke===0&&(Ke=5)}function Yh(e,t){do{var n=gp(e.alternate,e);if(n!==null){n.flags&=32767,ve=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ve=e;return}ve=e=n}while(e!==null);Ke=6,ve=null}function Kh(e,t,n,i,o,f,m,y,w){e.cancelPendingCommit=null;do Xs();while(at!==0);if((je&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(f=t.lanes|t.childLanes,f|=ro,ny(e,n,f,m,y,w),e===De&&(ve=De=null,pe=0),_i=t,Zn=e,Cn=n,mu=f,gu=o,Uh=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,jp($e,function(){return Zh(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=B.T,B.T=null,o=X.p,X.p=2,m=je,je|=4;try{vp(e,t,n)}finally{je=m,X.p=o,B.T=i}}at=1,Qh(),Jh(),Xh()}}function Qh(){if(at===1){at=0;var e=Zn,t=_i,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=B.T,B.T=null;var i=X.p;X.p=2;var o=je;je|=4;try{Oh(t,e);var f=Ru,m=kf(e.containerInfo),y=f.focusedElem,w=f.selectionRange;if(m!==y&&y&&y.ownerDocument&&Nf(y.ownerDocument.documentElement,y)){if(w!==null&&eo(y)){var C=w.start,q=w.end;if(q===void 0&&(q=C),"selectionStart"in y)y.selectionStart=C,y.selectionEnd=Math.min(q,y.value.length);else{var G=y.ownerDocument||document,N=G&&G.defaultView||window;if(N.getSelection){var U=N.getSelection(),W=y.textContent.length,le=Math.min(w.start,W),ke=w.end===void 0?le:Math.min(w.end,W);!U.extend&&le>ke&&(m=ke,ke=le,le=m);var O=Rf(y,le),E=Rf(y,ke);if(O&&E&&(U.rangeCount!==1||U.anchorNode!==O.node||U.anchorOffset!==O.offset||U.focusNode!==E.node||U.focusOffset!==E.offset)){var A=G.createRange();A.setStart(O.node,O.offset),U.removeAllRanges(),le>ke?(U.addRange(A),U.extend(E.node,E.offset)):(A.setEnd(E.node,E.offset),U.addRange(A))}}}}for(G=[],U=y;U=U.parentNode;)U.nodeType===1&&G.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<G.length;y++){var $=G[y];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}sl=!!Cu,Ru=Cu=null}finally{je=o,X.p=i,B.T=n}}e.current=t,at=2}}function Jh(){if(at===2){at=0;var e=Zn,t=_i,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=B.T,B.T=null;var i=X.p;X.p=2;var o=je;je|=4;try{wh(e,t.alternate,t)}finally{je=o,X.p=i,B.T=n}}at=3}}function Xh(){if(at===4||at===3){at=0,nt();var e=Zn,t=_i,n=Cn,i=Uh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?at=5:(at=0,_i=Zn=null,Ih(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(In=null),zl(n),t=t.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Gi,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=B.T,o=X.p,X.p=2,B.T=null;try{for(var f=e.onRecoverableError,m=0;m<i.length;m++){var y=i[m];f(y.value,{componentStack:y.stack})}}finally{B.T=t,X.p=o}}(Cn&3)!==0&&Xs(),un(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===vu?xr++:(xr=0,vu=e):xr=0,Tr(0)}}function Ih(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,rr(t)))}function Xs(){return Qh(),Jh(),Xh(),Zh()}function Zh(){if(at!==5)return!1;var e=Zn,t=mu;mu=0;var n=zl(Cn),i=B.T,o=X.p;try{X.p=32>n?32:n,B.T=null,n=gu,gu=null;var f=Zn,m=Cn;if(at=0,_i=Zn=null,Cn=0,(je&6)!==0)throw Error(s(331));var y=je;if(je|=4,Nh(f.current),Ah(f,f.current,m,n),je=y,Tr(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Gi,f)}catch{}return!0}finally{X.p=o,B.T=i,Ih(e,t)}}function Ph(e,t,n){t=Qt(n,t),t=Xo(e.stateNode,t,2),e=Gn(e,t,2),e!==null&&(Ki(e,2),un(e))}function Ce(e,t,n){if(e.tag===3)Ph(e,e,n);else for(;t!==null;){if(t.tag===3){Ph(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(In===null||!In.has(i))){e=Qt(n,e),n=Wd(2),i=Gn(t,n,2),i!==null&&(Fd(n,i,t,e),Ki(i,2),un(i));break}}t=t.return}}function bu(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new bp;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(fu=!0,o.add(n),e=xp.bind(null,e,t,n),t.then(e,e))}function xp(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,De===e&&(pe&n)===n&&(Ke===4||Ke===3&&(pe&62914560)===pe&&300>ge()-Vs?(je&2)===0&&wi(e,0):du|=n,bi===pe&&(bi=0)),un(e)}function Wh(e,t){t===0&&(t=Kc()),e=_a(e,t),e!==null&&(Ki(e,t),un(e))}function Tp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Wh(e,n)}function Op(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(s(314))}i!==null&&i.delete(t),Wh(e,n)}function jp(e,t){return Qe(e,t)}var Is=null,Ei=null,_u=!1,Zs=!1,wu=!1,Wn=0;function un(e){e!==Ei&&e.next===null&&(Ei===null?Is=Ei=e:Ei=Ei.next=e),Zs=!0,_u||(_u=!0,Cp())}function Tr(e,t){if(!wu&&Zs){wu=!0;do for(var n=!1,i=Is;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var f=0;else{var m=i.suspendedLanes,y=i.pingedLanes;f=(1<<31-Rt(42|e)+1)-1,f&=o&~(m&~y),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(n=!0,nm(i,f))}else f=pe,f=es(i,i===De?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(f&3)===0||Yi(i,f)||(n=!0,nm(i,f));i=i.next}while(n);wu=!1}}function Ap(){Fh()}function Fh(){Zs=_u=!1;var e=0;Wn!==0&&qp()&&(e=Wn);for(var t=ge(),n=null,i=Is;i!==null;){var o=i.next,f=em(i,t);f===0?(i.next=null,n===null?Is=o:n.next=o,o===null&&(Ei=n)):(n=i,(e!==0||(f&3)!==0)&&(Zs=!0)),i=o}at!==0&&at!==5||Tr(e),Wn!==0&&(Wn=0)}function em(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var m=31-Rt(f),y=1<<m,w=o[m];w===-1?((y&n)===0||(y&i)!==0)&&(o[m]=ty(y,t)):w<=t&&(e.expiredLanes|=y),f&=~y}if(t=De,n=pe,n=es(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&bt(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Yi(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&bt(i),zl(n)){case 2:case 8:n=Vt;break;case 32:n=$e;break;case 268435456:n=Zr;break;default:n=$e}return i=tm.bind(null,e),n=Qe(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&bt(i),e.callbackPriority=2,e.callbackNode=null,2}function tm(e,t){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Xs()&&e.callbackNode!==n)return null;var i=pe;return i=es(e,e===De?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Mh(e,i,t),em(e,ge()),e.callbackNode!=null&&e.callbackNode===n?tm.bind(null,e):null)}function nm(e,t){if(Xs())return null;Mh(e,t,!0)}function Cp(){$p(function(){(je&6)!==0?Qe(wt,Ap):Fh()})}function Su(){if(Wn===0){var e=oi;e===0&&(e=Pr,Pr<<=1,(Pr&261888)===0&&(Pr=256)),Wn=e}return Wn}function am(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:is(""+e)}function im(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Rp(e,t,n,i,o){if(t==="submit"&&n&&n.stateNode===o){var f=am((o[St]||null).action),m=i.submitter;m&&(t=(t=m[St]||null)?am(t.formAction):m.getAttribute("formAction"),t!==null&&(f=t,m=null));var y=new os("action","action",null,i,o);e.push({event:y,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Wn!==0){var w=m?im(o,m):new FormData(o);Vo(n,{pending:!0,data:w,method:o.method,action:f},null,w)}}else typeof f=="function"&&(y.preventDefault(),w=m?im(o,m):new FormData(o),Vo(n,{pending:!0,data:w,method:o.method,action:f},f,w))},currentTarget:o}]})}}for(var Eu=0;Eu<io.length;Eu++){var xu=io[Eu],Np=xu.toLowerCase(),kp=xu[0].toUpperCase()+xu.slice(1);Ft(Np,"on"+kp)}Ft(zf,"onAnimationEnd"),Ft(Mf,"onAnimationIteration"),Ft(Bf,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(Xy,"onTransitionRun"),Ft(Iy,"onTransitionStart"),Ft(Zy,"onTransitionCancel"),Ft(Lf,"onTransitionEnd"),Xa("onMouseEnter",["mouseout","mouseover"]),Xa("onMouseLeave",["mouseout","mouseover"]),Xa("onPointerEnter",["pointerout","pointerover"]),Xa("onPointerLeave",["pointerout","pointerover"]),va("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),va("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),va("onBeforeInput",["compositionend","keypress","textInput","paste"]),va("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),va("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),va("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Or));function rm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var f=void 0;if(t)for(var m=i.length-1;0<=m;m--){var y=i[m],w=y.instance,C=y.currentTarget;if(y=y.listener,w!==f&&o.isPropagationStopped())break e;f=y,o.currentTarget=C;try{f(o)}catch(q){fs(q)}o.currentTarget=null,f=w}else for(m=0;m<i.length;m++){if(y=i[m],w=y.instance,C=y.currentTarget,y=y.listener,w!==f&&o.isPropagationStopped())break e;f=y,o.currentTarget=C;try{f(o)}catch(q){fs(q)}o.currentTarget=null,f=w}}}}function ye(e,t){var n=t[Ml];n===void 0&&(n=t[Ml]=new Set);var i=e+"__bubble";n.has(i)||(sm(t,e,2,!1),n.add(i))}function Tu(e,t,n){var i=0;t&&(i|=4),sm(n,e,i,t)}var Ps="_reactListening"+Math.random().toString(36).slice(2);function Ou(e){if(!e[Ps]){e[Ps]=!0,Wc.forEach(function(n){n!=="selectionchange"&&(Dp.has(n)||Tu(n,!1,e),Tu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ps]||(t[Ps]=!0,Tu("selectionchange",!1,t))}}function sm(e,t,n,i){switch(zm(t)){case 2:var o=l0;break;case 8:o=o0;break;default:o=$u}n=o.bind(null,t,n,e),o=void 0,!Kl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function ju(e,t,n,i,o){var f=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var m=i.tag;if(m===3||m===4){var y=i.stateNode.containerInfo;if(y===o)break;if(m===4)for(m=i.return;m!==null;){var w=m.tag;if((w===3||w===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;y!==null;){if(m=Ka(y),m===null)return;if(w=m.tag,w===5||w===6||w===26||w===27){i=f=m;continue e}y=y.parentNode}}i=i.return}ff(function(){var C=f,q=Gl(n),G=[];e:{var N=qf.get(e);if(N!==void 0){var U=os,W=e;switch(e){case"keypress":if(ss(n)===0)break e;case"keydown":case"keyup":U=Oy;break;case"focusin":W="focus",U=Il;break;case"focusout":W="blur",U=Il;break;case"beforeblur":case"afterblur":U=Il;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=mf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=my;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Cy;break;case zf:case Mf:case Bf:U=yy;break;case Lf:U=Ny;break;case"scroll":case"scrollend":U=dy;break;case"wheel":U=Dy;break;case"copy":case"cut":case"paste":U=by;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=vf;break;case"toggle":case"beforetoggle":U=zy}var le=(t&4)!==0,ke=!le&&(e==="scroll"||e==="scrollend"),O=le?N!==null?N+"Capture":null:N;le=[];for(var E=C,A;E!==null;){var $=E;if(A=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||A===null||O===null||($=Xi(E,O),$!=null&&le.push(jr(E,$,A))),ke)break;E=E.return}0<le.length&&(N=new U(N,W,null,n,q),G.push({event:N,listeners:le}))}}if((t&7)===0){e:{if(N=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",N&&n!==Vl&&(W=n.relatedTarget||n.fromElement)&&(Ka(W)||W[Ya]))break e;if((U||N)&&(N=q.window===q?q:(N=q.ownerDocument)?N.defaultView||N.parentWindow:window,U?(W=n.relatedTarget||n.toElement,U=C,W=W?Ka(W):null,W!==null&&(ke=c(W),le=W.tag,W!==ke||le!==5&&le!==27&&le!==6)&&(W=null)):(U=null,W=C),U!==W)){if(le=mf,$="onMouseLeave",O="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(le=vf,$="onPointerLeave",O="onPointerEnter",E="pointer"),ke=U==null?N:Ji(U),A=W==null?N:Ji(W),N=new le($,E+"leave",U,n,q),N.target=ke,N.relatedTarget=A,$=null,Ka(q)===C&&(le=new le(O,E+"enter",W,n,q),le.target=A,le.relatedTarget=ke,$=le),ke=$,U&&W)t:{for(le=Up,O=U,E=W,A=0,$=O;$;$=le($))A++;$=0;for(var ae=E;ae;ae=le(ae))$++;for(;0<A-$;)O=le(O),A--;for(;0<$-A;)E=le(E),$--;for(;A--;){if(O===E||E!==null&&O===E.alternate){le=O;break t}O=le(O),E=le(E)}le=null}else le=null;U!==null&&lm(G,N,U,le,!1),W!==null&&ke!==null&&lm(G,ke,W,le,!0)}}e:{if(N=C?Ji(C):window,U=N.nodeName&&N.nodeName.toLowerCase(),U==="select"||U==="input"&&N.type==="file")var Te=xf;else if(Sf(N))if(Tf)Te=Ky;else{Te=Gy;var ee=Vy}else U=N.nodeName,!U||U.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?C&&$l(C.elementType)&&(Te=xf):Te=Yy;if(Te&&(Te=Te(e,C))){Ef(G,Te,n,q);break e}ee&&ee(e,N,C),e==="focusout"&&C&&N.type==="number"&&C.memoizedProps.value!=null&&Hl(N,"number",N.value)}switch(ee=C?Ji(C):window,e){case"focusin":(Sf(ee)||ee.contentEditable==="true")&&(ei=ee,to=C,nr=null);break;case"focusout":nr=to=ei=null;break;case"mousedown":no=!0;break;case"contextmenu":case"mouseup":case"dragend":no=!1,Df(G,n,q);break;case"selectionchange":if(Jy)break;case"keydown":case"keyup":Df(G,n,q)}var de;if(Pl)e:{switch(e){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else Fa?_f(e,n)&&(be="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(be="onCompositionStart");be&&(yf&&n.locale!=="ko"&&(Fa||be!=="onCompositionStart"?be==="onCompositionEnd"&&Fa&&(de=df()):(Mn=q,Ql="value"in Mn?Mn.value:Mn.textContent,Fa=!0)),ee=Ws(C,be),0<ee.length&&(be=new gf(be,e,null,n,q),G.push({event:be,listeners:ee}),de?be.data=de:(de=wf(n),de!==null&&(be.data=de)))),(de=By?Ly(e,n):qy(e,n))&&(be=Ws(C,"onBeforeInput"),0<be.length&&(ee=new gf("onBeforeInput","beforeinput",null,n,q),G.push({event:ee,listeners:be}),ee.data=de)),Rp(G,e,C,n,q)}rm(G,t)})}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ws(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,f=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||f===null||(o=Xi(e,n),o!=null&&i.unshift(jr(e,o,f)),o=Xi(e,t),o!=null&&i.push(jr(e,o,f))),e.tag===3)return i;e=e.return}return[]}function Up(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lm(e,t,n,i,o){for(var f=t._reactName,m=[];n!==null&&n!==i;){var y=n,w=y.alternate,C=y.stateNode;if(y=y.tag,w!==null&&w===i)break;y!==5&&y!==26&&y!==27||C===null||(w=C,o?(C=Xi(n,f),C!=null&&m.unshift(jr(n,C,w))):o||(C=Xi(n,f),C!=null&&m.push(jr(n,C,w)))),n=n.return}m.length!==0&&e.push({event:t,listeners:m})}var zp=/\r\n?/g,Mp=/\u0000|\uFFFD/g;function om(e){return(typeof e=="string"?e:""+e).replace(zp,`
`).replace(Mp,"")}function um(e,t){return t=om(t),om(e)===t}function Ne(e,t,n,i,o,f){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Za(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Za(e,""+i);break;case"className":ns(e,"class",i);break;case"tabIndex":ns(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ns(e,n,i);break;case"style":uf(e,i,f);break;case"data":if(t!=="object"){ns(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=is(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(n==="formAction"?(t!=="input"&&Ne(e,t,"name",o.name,o,null),Ne(e,t,"formEncType",o.formEncType,o,null),Ne(e,t,"formMethod",o.formMethod,o,null),Ne(e,t,"formTarget",o.formTarget,o,null)):(Ne(e,t,"encType",o.encType,o,null),Ne(e,t,"method",o.method,o,null),Ne(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=is(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=mn);break;case"onScroll":i!=null&&ye("scroll",e);break;case"onScrollEnd":i!=null&&ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(s(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=is(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":ye("beforetoggle",e),ye("toggle",e),ts(e,"popover",i);break;case"xlinkActuate":hn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":hn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":hn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":hn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":hn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":hn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":hn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":hn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":hn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ts(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=cy.get(n)||n,ts(e,n,i))}}function Au(e,t,n,i,o,f){switch(n){case"style":uf(e,i,f);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(s(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Za(e,i):(typeof i=="number"||typeof i=="bigint")&&Za(e,""+i);break;case"onScroll":i!=null&&ye("scroll",e);break;case"onScrollEnd":i!=null&&ye("scrollend",e);break;case"onClick":i!=null&&(e.onclick=mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),f=e[St]||null,f=f!=null?f[n]:null,typeof f=="function"&&e.removeEventListener(t,f,o),typeof i=="function")){typeof f!="function"&&f!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,o);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):ts(e,n,i)}}}function ht(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",e),ye("load",e);var i=!1,o=!1,f;for(f in n)if(n.hasOwnProperty(f)){var m=n[f];if(m!=null)switch(f){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ne(e,t,f,m,n,null)}}o&&Ne(e,t,"srcSet",n.srcSet,n,null),i&&Ne(e,t,"src",n.src,n,null);return;case"input":ye("invalid",e);var y=f=m=o=null,w=null,C=null;for(i in n)if(n.hasOwnProperty(i)){var q=n[i];if(q!=null)switch(i){case"name":o=q;break;case"type":m=q;break;case"checked":w=q;break;case"defaultChecked":C=q;break;case"value":f=q;break;case"defaultValue":y=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,t));break;default:Ne(e,t,i,q,n,null)}}rf(e,f,y,w,C,m,o,!1);return;case"select":ye("invalid",e),i=m=f=null;for(o in n)if(n.hasOwnProperty(o)&&(y=n[o],y!=null))switch(o){case"value":f=y;break;case"defaultValue":m=y;break;case"multiple":i=y;default:Ne(e,t,o,y,n,null)}t=f,n=m,e.multiple=!!i,t!=null?Ia(e,!!i,t,!1):n!=null&&Ia(e,!!i,n,!0);return;case"textarea":ye("invalid",e),f=o=i=null;for(m in n)if(n.hasOwnProperty(m)&&(y=n[m],y!=null))switch(m){case"value":i=y;break;case"defaultValue":o=y;break;case"children":f=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:Ne(e,t,m,y,n,null)}lf(e,i,o,f);return;case"option":for(w in n)if(n.hasOwnProperty(w)&&(i=n[w],i!=null))switch(w){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Ne(e,t,w,i,n,null)}return;case"dialog":ye("beforetoggle",e),ye("toggle",e),ye("cancel",e),ye("close",e);break;case"iframe":case"object":ye("load",e);break;case"video":case"audio":for(i=0;i<Or.length;i++)ye(Or[i],e);break;case"image":ye("error",e),ye("load",e);break;case"details":ye("toggle",e);break;case"embed":case"source":case"link":ye("error",e),ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in n)if(n.hasOwnProperty(C)&&(i=n[C],i!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ne(e,t,C,i,n,null)}return;default:if($l(t)){for(q in n)n.hasOwnProperty(q)&&(i=n[q],i!==void 0&&Au(e,t,q,i,n,void 0));return}}for(y in n)n.hasOwnProperty(y)&&(i=n[y],i!=null&&Ne(e,t,y,i,n,null))}function Bp(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,f=null,m=null,y=null,w=null,C=null,q=null;for(U in n){var G=n[U];if(n.hasOwnProperty(U)&&G!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":w=G;default:i.hasOwnProperty(U)||Ne(e,t,U,null,i,G)}}for(var N in i){var U=i[N];if(G=n[N],i.hasOwnProperty(N)&&(U!=null||G!=null))switch(N){case"type":f=U;break;case"name":o=U;break;case"checked":C=U;break;case"defaultChecked":q=U;break;case"value":m=U;break;case"defaultValue":y=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,t));break;default:U!==G&&Ne(e,t,N,U,i,G)}}ql(e,m,y,w,C,q,f,o);return;case"select":U=m=y=N=null;for(f in n)if(w=n[f],n.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":U=w;default:i.hasOwnProperty(f)||Ne(e,t,f,null,i,w)}for(o in i)if(f=i[o],w=n[o],i.hasOwnProperty(o)&&(f!=null||w!=null))switch(o){case"value":N=f;break;case"defaultValue":y=f;break;case"multiple":m=f;default:f!==w&&Ne(e,t,o,f,i,w)}t=y,n=m,i=U,N!=null?Ia(e,!!n,N,!1):!!i!=!!n&&(t!=null?Ia(e,!!n,t,!0):Ia(e,!!n,n?[]:"",!1));return;case"textarea":U=N=null;for(y in n)if(o=n[y],n.hasOwnProperty(y)&&o!=null&&!i.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ne(e,t,y,null,i,o)}for(m in i)if(o=i[m],f=n[m],i.hasOwnProperty(m)&&(o!=null||f!=null))switch(m){case"value":N=o;break;case"defaultValue":U=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(s(91));break;default:o!==f&&Ne(e,t,m,o,i,f)}sf(e,N,U);return;case"option":for(var W in n)if(N=n[W],n.hasOwnProperty(W)&&N!=null&&!i.hasOwnProperty(W))switch(W){case"selected":e.selected=!1;break;default:Ne(e,t,W,null,i,N)}for(w in i)if(N=i[w],U=n[w],i.hasOwnProperty(w)&&N!==U&&(N!=null||U!=null))switch(w){case"selected":e.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:Ne(e,t,w,N,i,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in n)N=n[le],n.hasOwnProperty(le)&&N!=null&&!i.hasOwnProperty(le)&&Ne(e,t,le,null,i,N);for(C in i)if(N=i[C],U=n[C],i.hasOwnProperty(C)&&N!==U&&(N!=null||U!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(137,t));break;default:Ne(e,t,C,N,i,U)}return;default:if($l(t)){for(var ke in n)N=n[ke],n.hasOwnProperty(ke)&&N!==void 0&&!i.hasOwnProperty(ke)&&Au(e,t,ke,void 0,i,N);for(q in i)N=i[q],U=n[q],!i.hasOwnProperty(q)||N===U||N===void 0&&U===void 0||Au(e,t,q,N,i,U);return}}for(var O in n)N=n[O],n.hasOwnProperty(O)&&N!=null&&!i.hasOwnProperty(O)&&Ne(e,t,O,null,i,N);for(G in i)N=i[G],U=n[G],!i.hasOwnProperty(G)||N===U||N==null&&U==null||Ne(e,t,G,N,i,U)}function cm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Lp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var o=n[i],f=o.transferSize,m=o.initiatorType,y=o.duration;if(f&&y&&cm(m)){for(m=0,y=o.responseEnd,i+=1;i<n.length;i++){var w=n[i],C=w.startTime;if(C>y)break;var q=w.transferSize,G=w.initiatorType;q&&cm(G)&&(w=w.responseEnd,m+=q*(w<y?1:(y-C)/(w-C)))}if(--i,t+=8*(f+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Cu=null,Ru=null;function Fs(e){return e.nodeType===9?e:e.ownerDocument}function fm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function dm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Nu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ku=null;function qp(){var e=window.event;return e&&e.type==="popstate"?e===ku?!1:(ku=e,!0):(ku=null,!1)}var hm=typeof setTimeout=="function"?setTimeout:void 0,Hp=typeof clearTimeout=="function"?clearTimeout:void 0,mm=typeof Promise=="function"?Promise:void 0,$p=typeof queueMicrotask=="function"?queueMicrotask:typeof mm<"u"?function(e){return mm.resolve(null).then(e).catch(Vp)}:hm;function Vp(e){setTimeout(function(){throw e})}function Fn(e){return e==="head"}function gm(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(o),ji(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Ar(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ar(n);for(var f=n.firstChild;f;){var m=f.nextSibling,y=f.nodeName;f[Qi]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&f.rel.toLowerCase()==="stylesheet"||n.removeChild(f),f=m}}else n==="body"&&Ar(e.ownerDocument.body);n=o}while(n);ji(t)}function vm(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Du(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Du(n),Bl(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Gp(e,t,n,i){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Qi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Pt(e.nextSibling),e===null)break}return null}function Yp(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pt(e.nextSibling),e===null))return null;return e}function ym(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Pt(e.nextSibling),e===null))return null;return e}function Uu(e){return e.data==="$?"||e.data==="$~"}function zu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Kp(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Pt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Mu=null;function pm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Pt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function bm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function _m(e,t,n){switch(t=Fs(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Ar(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Bl(e)}var Wt=new Map,wm=new Set;function el(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Rn=X.d;X.d={f:Qp,r:Jp,D:Xp,C:Ip,L:Zp,m:Pp,X:Fp,S:Wp,M:e0};function Qp(){var e=Rn.f(),t=Ks();return e||t}function Jp(e){var t=Qa(e);t!==null&&t.tag===5&&t.type==="form"?Ld(t):Rn.r(e)}var xi=typeof document>"u"?null:document;function Sm(e,t,n){var i=xi;if(i&&typeof t=="string"&&t){var o=Yt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),wm.has(o)||(wm.add(o),e={rel:e,crossOrigin:n,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),ht(t,"link",e),st(t),i.head.appendChild(t)))}}function Xp(e){Rn.D(e),Sm("dns-prefetch",e,null)}function Ip(e,t){Rn.C(e,t),Sm("preconnect",e,t)}function Zp(e,t,n){Rn.L(e,t,n);var i=xi;if(i&&e&&t){var o='link[rel="preload"][as="'+Yt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Yt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Yt(n.imageSizes)+'"]')):o+='[href="'+Yt(e)+'"]';var f=o;switch(t){case"style":f=Ti(e);break;case"script":f=Oi(e)}Wt.has(f)||(e=b({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Wt.set(f,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(Cr(f))||t==="script"&&i.querySelector(Rr(f))||(t=i.createElement("link"),ht(t,"link",e),st(t),i.head.appendChild(t)))}}function Pp(e,t){Rn.m(e,t);var n=xi;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Yt(i)+'"][href="'+Yt(e)+'"]',f=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Oi(e)}if(!Wt.has(f)&&(e=b({rel:"modulepreload",href:e},t),Wt.set(f,e),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Rr(f)))return}i=n.createElement("link"),ht(i,"link",e),st(i),n.head.appendChild(i)}}}function Wp(e,t,n){Rn.S(e,t,n);var i=xi;if(i&&e){var o=Ja(i).hoistableStyles,f=Ti(e);t=t||"default";var m=o.get(f);if(!m){var y={loading:0,preload:null};if(m=i.querySelector(Cr(f)))y.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Wt.get(f))&&Bu(e,n);var w=m=i.createElement("link");st(w),ht(w,"link",e),w._p=new Promise(function(C,q){w.onload=C,w.onerror=q}),w.addEventListener("load",function(){y.loading|=1}),w.addEventListener("error",function(){y.loading|=2}),y.loading|=4,tl(m,t,i)}m={type:"stylesheet",instance:m,count:1,state:y},o.set(f,m)}}}function Fp(e,t){Rn.X(e,t);var n=xi;if(n&&e){var i=Ja(n).hoistableScripts,o=Oi(e),f=i.get(o);f||(f=n.querySelector(Rr(o)),f||(e=b({src:e,async:!0},t),(t=Wt.get(o))&&Lu(e,t),f=n.createElement("script"),st(f),ht(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(o,f))}}function e0(e,t){Rn.M(e,t);var n=xi;if(n&&e){var i=Ja(n).hoistableScripts,o=Oi(e),f=i.get(o);f||(f=n.querySelector(Rr(o)),f||(e=b({src:e,async:!0,type:"module"},t),(t=Wt.get(o))&&Lu(e,t),f=n.createElement("script"),st(f),ht(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(o,f))}}function Em(e,t,n,i){var o=(o=me.current)?el(o):null;if(!o)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ti(n.href),n=Ja(o).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ti(n.href);var f=Ja(o).hoistableStyles,m=f.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,m),(f=o.querySelector(Cr(e)))&&!f._p&&(m.instance=f,m.state.loading=5),Wt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Wt.set(e,n),f||t0(o,e,n,m.state))),t&&i===null)throw Error(s(528,""));return m}if(t&&i!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Oi(n),n=Ja(o).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ti(e){return'href="'+Yt(e)+'"'}function Cr(e){return'link[rel="stylesheet"]['+e+"]"}function xm(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function t0(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),ht(t,"link",n),st(t),e.head.appendChild(t))}function Oi(e){return'[src="'+Yt(e)+'"]'}function Rr(e){return"script[async]"+e}function Tm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Yt(n.href)+'"]');if(i)return t.instance=i,st(i),i;var o=b({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),st(i),ht(i,"style",o),tl(i,n.precedence,e),t.instance=i;case"stylesheet":o=Ti(n.href);var f=e.querySelector(Cr(o));if(f)return t.state.loading|=4,t.instance=f,st(f),f;i=xm(n),(o=Wt.get(o))&&Bu(i,o),f=(e.ownerDocument||e).createElement("link"),st(f);var m=f;return m._p=new Promise(function(y,w){m.onload=y,m.onerror=w}),ht(f,"link",i),t.state.loading|=4,tl(f,n.precedence,e),t.instance=f;case"script":return f=Oi(n.src),(o=e.querySelector(Rr(f)))?(t.instance=o,st(o),o):(i=n,(o=Wt.get(f))&&(i=b({},n),Lu(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),st(o),ht(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,tl(i,n.precedence,e));return t.instance}function tl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,f=o,m=0;m<i.length;m++){var y=i[m];if(y.dataset.precedence===t)f=y;else if(f!==o)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Bu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Lu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var nl=null;function Om(e,t,n){if(nl===null){var i=new Map,o=nl=new Map;o.set(n,i)}else o=nl,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var f=n[o];if(!(f[Qi]||f[ut]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var m=f.getAttribute(t)||"";m=e+m;var y=i.get(m);y?y.push(f):i.set(m,[f])}}return i}function jm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function n0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Am(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function a0(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=Ti(i.href),f=t.querySelector(Cr(o));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=al.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=f,st(f);return}f=t.ownerDocument||t,i=xm(i),(o=Wt.get(o))&&Bu(i,o),f=f.createElement("link"),st(f);var m=f;m._p=new Promise(function(y,w){m.onload=y,m.onerror=w}),ht(f,"link",i),n.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=al.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var qu=0;function i0(e,t){return e.stylesheets&&e.count===0&&rl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&rl(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&qu===0&&(qu=62500*Lp());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&rl(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>qu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function al(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var il=null;function rl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,il=new Map,t.forEach(r0,e),il=null,al.call(e))}function r0(e,t){if(!(t.state.loading&4)){var n=il.get(e);if(n)var i=n.get(null);else{n=new Map,il.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<o.length;f++){var m=o[f];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(n.set(m.dataset.precedence,m),i=m)}i&&n.set(null,i)}o=t.instance,m=o.getAttribute("data-precedence"),f=n.get(m)||i,f===i&&n.set(null,o),n.set(m,o),this.count++,i=al.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),f?f.parentNode.insertBefore(o,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Nr={$$typeof:z,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function s0(e,t,n,i,o,f,m,y,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.hiddenUpdates=Dl(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=f,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Cm(e,t,n,i,o,f,m,y,w,C,q,G){return e=new s0(e,t,n,m,w,C,q,G,y),t=1,f===!0&&(t|=24),f=kt(3,null,null,t),e.current=f,f.stateNode=e,t=po(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:i,isDehydrated:n,cache:t},So(f),e}function Rm(e){return e?(e=ai,e):ai}function Nm(e,t,n,i,o,f){o=Rm(o),i.context===null?i.context=o:i.pendingContext=o,i=Vn(t),i.payload={element:n},f=f===void 0?null:f,f!==null&&(i.callback=f),n=Gn(e,i,t),n!==null&&(At(n,e,t),ur(n,e,t))}function km(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hu(e,t){km(e,t),(e=e.alternate)&&km(e,t)}function Dm(e){if(e.tag===13||e.tag===31){var t=_a(e,67108864);t!==null&&At(t,e,67108864),Hu(e,67108864)}}function Um(e){if(e.tag===13||e.tag===31){var t=Bt();t=Ul(t);var n=_a(e,t);n!==null&&At(n,e,t),Hu(e,t)}}var sl=!0;function l0(e,t,n,i){var o=B.T;B.T=null;var f=X.p;try{X.p=2,$u(e,t,n,i)}finally{X.p=f,B.T=o}}function o0(e,t,n,i){var o=B.T;B.T=null;var f=X.p;try{X.p=8,$u(e,t,n,i)}finally{X.p=f,B.T=o}}function $u(e,t,n,i){if(sl){var o=Vu(i);if(o===null)ju(e,t,i,ll,n),Mm(e,i);else if(c0(o,e,t,n,i))i.stopPropagation();else if(Mm(e,i),t&4&&-1<u0.indexOf(e)){for(;o!==null;){var f=Qa(o);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var m=ga(f.pendingLanes);if(m!==0){var y=f;for(y.pendingLanes|=2,y.entangledLanes|=2;m;){var w=1<<31-Rt(m);y.entanglements[1]|=w,m&=~w}un(f),(je&6)===0&&(Gs=ge()+500,Tr(0))}}break;case 31:case 13:y=_a(f,2),y!==null&&At(y,f,2),Ks(),Hu(f,2)}if(f=Vu(i),f===null&&ju(e,t,i,ll,n),f===o)break;o=f}o!==null&&i.stopPropagation()}else ju(e,t,i,null,n)}}function Vu(e){return e=Gl(e),Gu(e)}var ll=null;function Gu(e){if(ll=null,e=Ka(e),e!==null){var t=c(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=d(t),e!==null)return e;e=null}else if(n===31){if(e=h(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ll=e,null}function zm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Je()){case wt:return 2;case Vt:return 8;case $e:case ma:return 32;case Zr:return 268435456;default:return 32}default:return 32}}var Yu=!1,ea=null,ta=null,na=null,kr=new Map,Dr=new Map,aa=[],u0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mm(e,t){switch(e){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":kr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dr.delete(t.pointerId)}}function Ur(e,t,n,i,o,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:f,targetContainers:[o]},t!==null&&(t=Qa(t),t!==null&&Dm(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function c0(e,t,n,i,o){switch(t){case"focusin":return ea=Ur(ea,e,t,n,i,o),!0;case"dragenter":return ta=Ur(ta,e,t,n,i,o),!0;case"mouseover":return na=Ur(na,e,t,n,i,o),!0;case"pointerover":var f=o.pointerId;return kr.set(f,Ur(kr.get(f)||null,e,t,n,i,o)),!0;case"gotpointercapture":return f=o.pointerId,Dr.set(f,Ur(Dr.get(f)||null,e,t,n,i,o)),!0}return!1}function Bm(e){var t=Ka(e.target);if(t!==null){var n=c(t);if(n!==null){if(t=n.tag,t===13){if(t=d(n),t!==null){e.blockedOn=t,Zc(e.priority,function(){Um(n)});return}}else if(t===31){if(t=h(n),t!==null){e.blockedOn=t,Zc(e.priority,function(){Um(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ol(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Vu(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Vl=i,n.target.dispatchEvent(i),Vl=null}else return t=Qa(n),t!==null&&Dm(t),e.blockedOn=n,!1;t.shift()}return!0}function Lm(e,t,n){ol(e)&&n.delete(t)}function f0(){Yu=!1,ea!==null&&ol(ea)&&(ea=null),ta!==null&&ol(ta)&&(ta=null),na!==null&&ol(na)&&(na=null),kr.forEach(Lm),Dr.forEach(Lm)}function ul(e,t){e.blockedOn===t&&(e.blockedOn=null,Yu||(Yu=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,f0)))}var cl=null;function qm(e){cl!==e&&(cl=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){cl===e&&(cl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(Gu(i||n)===null)continue;break}var f=Qa(n);f!==null&&(e.splice(t,3),t-=3,Vo(f,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function ji(e){function t(w){return ul(w,e)}ea!==null&&ul(ea,e),ta!==null&&ul(ta,e),na!==null&&ul(na,e),kr.forEach(t),Dr.forEach(t);for(var n=0;n<aa.length;n++){var i=aa[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<aa.length&&(n=aa[0],n.blockedOn===null);)Bm(n),n.blockedOn===null&&aa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],f=n[i+1],m=o[St]||null;if(typeof f=="function")m||qm(n);else if(m){var y=null;if(f&&f.hasAttribute("formAction")){if(o=f,m=f[St]||null)y=m.formAction;else if(Gu(o)!==null)continue}else y=m.action;typeof y=="function"?n[i+1]=y:(n.splice(i,3),i-=3),qm(n)}}}function Hm(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Ku(e){this._internalRoot=e}fl.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,i=Bt();Nm(n,i,e,t,null,null)},fl.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nm(e.current,2,null,e,null,null),Ks(),t[Ya]=null}};function fl(e){this._internalRoot=e}fl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ic();e={blockedOn:null,target:e,priority:t};for(var n=0;n<aa.length&&t!==0&&t<aa[n].priority;n++);aa.splice(n,0,e),n===0&&Bm(e)}};var $m=a.version;if($m!=="19.2.0")throw Error(s(527,$m,"19.2.0"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var d0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dl.isDisabled&&dl.supportsFiber)try{Gi=dl.inject(d0),Ct=dl}catch{}}return Mr.createRoot=function(e,t){if(!u(e))throw Error(s(299));var n=!1,i="",o=Xd,f=Id,m=Zd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Cm(e,1,!1,null,null,n,i,null,o,f,m,Hm),e[Ya]=t.current,Ou(e),new Ku(t)},Mr.hydrateRoot=function(e,t,n){if(!u(e))throw Error(s(299));var i=!1,o="",f=Xd,m=Id,y=Zd,w=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.formState!==void 0&&(w=n.formState)),t=Cm(e,1,!0,t,n??null,i,o,w,f,m,y,Hm),t.context=Rm(null),n=t.current,i=Bt(),i=Ul(i),o=Vn(i),o.callback=null,Gn(n,o,i),n=i,t.current.lanes=n,Ki(t,n),un(t),e[Ya]=t.current,Ou(e),new fl(t)},Mr.version="19.2.0",Mr}var Pm;function S0(){if(Pm)return Ju.exports;Pm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Ju.exports=w0(),Ju.exports}var E0=S0();const x0=Ac(E0);var R=Cc();const kn=Ac(R),T0=m0({__proto__:null,default:kn},[R]);var O0=Hg();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gr(){return Gr=Object.assign?Object.assign.bind():function(l){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(l[s]=r[s])}return l},Gr.apply(this,arguments)}var oa;(function(l){l.Pop="POP",l.Push="PUSH",l.Replace="REPLACE"})(oa||(oa={}));const Wm="popstate";function j0(l){l===void 0&&(l={});function a(u,c){let{pathname:d="/",search:h="",hash:v=""}=qa(u.location.hash.substr(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),dc("",{pathname:d,search:h,hash:v},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(u,c){let d=u.document.querySelector("base"),h="";if(d&&d.getAttribute("href")){let v=u.location.href,g=v.indexOf("#");h=g===-1?v:v.slice(0,g)}return h+"#"+(typeof c=="string"?c:Sl(c))}function s(u,c){Rc(u.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(c)+")")}return C0(a,r,s,l)}function Ze(l,a){if(l===!1||l===null||typeof l>"u")throw new Error(a)}function Rc(l,a){if(!l){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function A0(){return Math.random().toString(36).substr(2,8)}function Fm(l,a){return{usr:l.state,key:l.key,idx:a}}function dc(l,a,r,s){return r===void 0&&(r=null),Gr({pathname:typeof l=="string"?l:l.pathname,search:"",hash:""},typeof a=="string"?qa(a):a,{state:r,key:a&&a.key||s||A0()})}function Sl(l){let{pathname:a="/",search:r="",hash:s=""}=l;return r&&r!=="?"&&(a+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(a+=s.charAt(0)==="#"?s:"#"+s),a}function qa(l){let a={};if(l){let r=l.indexOf("#");r>=0&&(a.hash=l.substr(r),l=l.substr(0,r));let s=l.indexOf("?");s>=0&&(a.search=l.substr(s),l=l.substr(0,s)),l&&(a.pathname=l)}return a}function C0(l,a,r,s){s===void 0&&(s={});let{window:u=document.defaultView,v5Compat:c=!1}=s,d=u.history,h=oa.Pop,v=null,g=p();g==null&&(g=0,d.replaceState(Gr({},d.state,{idx:g}),""));function p(){return(d.state||{idx:null}).idx}function b(){h=oa.Pop;let j=p(),Y=j==null?null:j-g;g=j,v&&v({action:h,location:k.location,delta:Y})}function S(j,Y){h=oa.Push;let L=dc(k.location,j,Y);r&&r(L,j),g=p()+1;let z=Fm(L,g),Q=k.createHref(L);try{d.pushState(z,"",Q)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;u.location.assign(Q)}c&&v&&v({action:h,location:k.location,delta:1})}function T(j,Y){h=oa.Replace;let L=dc(k.location,j,Y);r&&r(L,j),g=p();let z=Fm(L,g),Q=k.createHref(L);d.replaceState(z,"",Q),c&&v&&v({action:h,location:k.location,delta:0})}function M(j){let Y=u.location.origin!=="null"?u.location.origin:u.location.href,L=typeof j=="string"?j:Sl(j);return L=L.replace(/ $/,"%20"),Ze(Y,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,Y)}let k={get action(){return h},get location(){return l(u,d)},listen(j){if(v)throw new Error("A history only accepts one active listener");return u.addEventListener(Wm,b),v=j,()=>{u.removeEventListener(Wm,b),v=null}},createHref(j){return a(u,j)},createURL:M,encodeLocation(j){let Y=M(j);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:S,replace:T,go(j){return d.go(j)}};return k}var eg;(function(l){l.data="data",l.deferred="deferred",l.redirect="redirect",l.error="error"})(eg||(eg={}));function R0(l,a,r){return r===void 0&&(r="/"),N0(l,a,r)}function N0(l,a,r,s){let u=typeof a=="string"?qa(a):a,c=Nc(u.pathname||"/",r);if(c==null)return null;let d=$g(l);k0(d);let h=null;for(let v=0;h==null&&v<d.length;++v){let g=Y0(c);h=$0(d[v],g)}return h}function $g(l,a,r,s){a===void 0&&(a=[]),r===void 0&&(r=[]),s===void 0&&(s="");let u=(c,d,h)=>{let v={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};v.relativePath.startsWith("/")&&(Ze(v.relativePath.startsWith(s),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(s.length));let g=ua([s,v.relativePath]),p=r.concat(v);c.children&&c.children.length>0&&(Ze(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),$g(c.children,a,p,g)),!(c.path==null&&!c.index)&&a.push({path:g,score:q0(g,c.index),routesMeta:p})};return l.forEach((c,d)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))u(c,d);else for(let v of Vg(c.path))u(c,d,v)}),a}function Vg(l){let a=l.split("/");if(a.length===0)return[];let[r,...s]=a,u=r.endsWith("?"),c=r.replace(/\?$/,"");if(s.length===0)return u?[c,""]:[c];let d=Vg(s.join("/")),h=[];return h.push(...d.map(v=>v===""?c:[c,v].join("/"))),u&&h.push(...d),h.map(v=>l.startsWith("/")&&v===""?"/":v)}function k0(l){l.sort((a,r)=>a.score!==r.score?r.score-a.score:H0(a.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const D0=/^:[\w-]+$/,U0=3,z0=2,M0=1,B0=10,L0=-2,tg=l=>l==="*";function q0(l,a){let r=l.split("/"),s=r.length;return r.some(tg)&&(s+=L0),a&&(s+=z0),r.filter(u=>!tg(u)).reduce((u,c)=>u+(D0.test(c)?U0:c===""?M0:B0),s)}function H0(l,a){return l.length===a.length&&l.slice(0,-1).every((s,u)=>s===a[u])?l[l.length-1]-a[a.length-1]:0}function $0(l,a,r){let{routesMeta:s}=l,u={},c="/",d=[];for(let h=0;h<s.length;++h){let v=s[h],g=h===s.length-1,p=c==="/"?a:a.slice(c.length)||"/",b=V0({path:v.relativePath,caseSensitive:v.caseSensitive,end:g},p),S=v.route;if(!b)return null;Object.assign(u,b.params),d.push({params:u,pathname:ua([c,b.pathname]),pathnameBase:X0(ua([c,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(c=ua([c,b.pathnameBase]))}return d}function V0(l,a){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[r,s]=G0(l.path,l.caseSensitive,l.end),u=a.match(r);if(!u)return null;let c=u[0],d=c.replace(/(.)\/+$/,"$1"),h=u.slice(1);return{params:s.reduce((g,p,b)=>{let{paramName:S,isOptional:T}=p;if(S==="*"){let k=h[b]||"";d=c.slice(0,c.length-k.length).replace(/(.)\/+$/,"$1")}const M=h[b];return T&&!M?g[S]=void 0:g[S]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:l}}function G0(l,a,r){a===void 0&&(a=!1),r===void 0&&(r=!0),Rc(l==="*"||!l.endsWith("*")||l.endsWith("/*"),'Route path "'+l+'" will be treated as if it were '+('"'+l.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+l.replace(/\*$/,"/*")+'".'));let s=[],u="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,v)=>(s.push({paramName:h,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(s.push({paramName:"*"}),u+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":l!==""&&l!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,a?void 0:"i"),s]}function Y0(l){try{return l.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Rc(!1,'The URL path "'+l+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+a+").")),l}}function Nc(l,a){if(a==="/")return l;if(!l.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,s=l.charAt(r);return s&&s!=="/"?null:l.slice(r)||"/"}function K0(l,a){a===void 0&&(a="/");let{pathname:r,search:s="",hash:u=""}=typeof l=="string"?qa(l):l;return{pathname:r?r.startsWith("/")?r:Q0(r,a):a,search:I0(s),hash:Z0(u)}}function Q0(l,a){let r=a.replace(/\/+$/,"").split("/");return l.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function Wu(l,a,r,s){return"Cannot include a '"+l+"' character in a manually specified "+("`to."+a+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function J0(l){return l.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function kc(l,a){let r=J0(l);return a?r.map((s,u)=>u===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function Dc(l,a,r,s){s===void 0&&(s=!1);let u;typeof l=="string"?u=qa(l):(u=Gr({},l),Ze(!u.pathname||!u.pathname.includes("?"),Wu("?","pathname","search",u)),Ze(!u.pathname||!u.pathname.includes("#"),Wu("#","pathname","hash",u)),Ze(!u.search||!u.search.includes("#"),Wu("#","search","hash",u)));let c=l===""||u.pathname==="",d=c?"/":u.pathname,h;if(d==null)h=r;else{let b=a.length-1;if(!s&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),b-=1;u.pathname=S.join("/")}h=b>=0?a[b]:"/"}let v=K0(u,h),g=d&&d!=="/"&&d.endsWith("/"),p=(c||d===".")&&r.endsWith("/");return!v.pathname.endsWith("/")&&(g||p)&&(v.pathname+="/"),v}const ua=l=>l.join("/").replace(/\/\/+/g,"/"),X0=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),I0=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,Z0=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function P0(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}const Gg=["post","put","patch","delete"];new Set(Gg);const W0=["get",...Gg];new Set(W0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yr(){return Yr=Object.assign?Object.assign.bind():function(l){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(l[s]=r[s])}return l},Yr.apply(this,arguments)}const Uc=R.createContext(null),F0=R.createContext(null),ca=R.createContext(null),Cl=R.createContext(null),fn=R.createContext({outlet:null,matches:[],isDataRoute:!1}),Yg=R.createContext(null);function eb(l,a){let{relative:r}=a===void 0?{}:a;Li()||Ze(!1);let{basename:s,navigator:u}=R.useContext(ca),{hash:c,pathname:d,search:h}=Jg(l,{relative:r}),v=d;return s!=="/"&&(v=d==="/"?s:ua([s,d])),u.createHref({pathname:v,search:h,hash:c})}function Li(){return R.useContext(Cl)!=null}function Dn(){return Li()||Ze(!1),R.useContext(Cl).location}function Kg(l){R.useContext(ca).static||R.useLayoutEffect(l)}function fa(){let{isDataRoute:l}=R.useContext(fn);return l?gb():tb()}function tb(){Li()||Ze(!1);let l=R.useContext(Uc),{basename:a,future:r,navigator:s}=R.useContext(ca),{matches:u}=R.useContext(fn),{pathname:c}=Dn(),d=JSON.stringify(kc(u,r.v7_relativeSplatPath)),h=R.useRef(!1);return Kg(()=>{h.current=!0}),R.useCallback(function(g,p){if(p===void 0&&(p={}),!h.current)return;if(typeof g=="number"){s.go(g);return}let b=Dc(g,JSON.parse(d),c,p.relative==="path");l==null&&a!=="/"&&(b.pathname=b.pathname==="/"?a:ua([a,b.pathname])),(p.replace?s.replace:s.push)(b,p.state,p)},[a,s,d,c,l])}const nb=R.createContext(null);function ab(l){let a=R.useContext(fn).outlet;return a&&R.createElement(nb.Provider,{value:l},a)}function Qg(){let{matches:l}=R.useContext(fn),a=l[l.length-1];return a?a.params:{}}function Jg(l,a){let{relative:r}=a===void 0?{}:a,{future:s}=R.useContext(ca),{matches:u}=R.useContext(fn),{pathname:c}=Dn(),d=JSON.stringify(kc(u,s.v7_relativeSplatPath));return R.useMemo(()=>Dc(l,JSON.parse(d),c,r==="path"),[l,d,c,r])}function ib(l,a){return rb(l,a)}function rb(l,a,r,s){Li()||Ze(!1);let{navigator:u}=R.useContext(ca),{matches:c}=R.useContext(fn),d=c[c.length-1],h=d?d.params:{};d&&d.pathname;let v=d?d.pathnameBase:"/";d&&d.route;let g=Dn(),p;if(a){var b;let j=typeof a=="string"?qa(a):a;v==="/"||(b=j.pathname)!=null&&b.startsWith(v)||Ze(!1),p=j}else p=g;let S=p.pathname||"/",T=S;if(v!=="/"){let j=v.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let M=R0(l,{pathname:T}),k=cb(M&&M.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:ua([v,u.encodeLocation?u.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?v:ua([v,u.encodeLocation?u.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),c,r,s);return a&&k?R.createElement(Cl.Provider,{value:{location:Yr({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:oa.Pop}},k):k}function sb(){let l=mb(),a=P0(l)?l.status+" "+l.statusText:l instanceof Error?l.message:JSON.stringify(l),r=l instanceof Error?l.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},a),r?R.createElement("pre",{style:u},r):null,null)}const lb=R.createElement(sb,null);class ob extends R.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,r){return r.location!==a.location||r.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:r.error,location:r.location,revalidation:a.revalidation||r.revalidation}}componentDidCatch(a,r){console.error("React Router caught the following error during render",a,r)}render(){return this.state.error!==void 0?R.createElement(fn.Provider,{value:this.props.routeContext},R.createElement(Yg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ub(l){let{routeContext:a,match:r,children:s}=l,u=R.useContext(Uc);return u&&u.static&&u.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=r.route.id),R.createElement(fn.Provider,{value:a},s)}function cb(l,a,r,s){var u;if(a===void 0&&(a=[]),r===void 0&&(r=null),s===void 0&&(s=null),l==null){var c;if(!r)return null;if(r.errors)l=r.matches;else if((c=s)!=null&&c.v7_partialHydration&&a.length===0&&!r.initialized&&r.matches.length>0)l=r.matches;else return null}let d=l,h=(u=r)==null?void 0:u.errors;if(h!=null){let p=d.findIndex(b=>b.route.id&&(h==null?void 0:h[b.route.id])!==void 0);p>=0||Ze(!1),d=d.slice(0,Math.min(d.length,p+1))}let v=!1,g=-1;if(r&&s&&s.v7_partialHydration)for(let p=0;p<d.length;p++){let b=d[p];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=p),b.route.id){let{loaderData:S,errors:T}=r,M=b.route.loader&&S[b.route.id]===void 0&&(!T||T[b.route.id]===void 0);if(b.route.lazy||M){v=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((p,b,S)=>{let T,M=!1,k=null,j=null;r&&(T=h&&b.route.id?h[b.route.id]:void 0,k=b.route.errorElement||lb,v&&(g<0&&S===0?(vb("route-fallback"),M=!0,j=null):g===S&&(M=!0,j=b.route.hydrateFallbackElement||null)));let Y=a.concat(d.slice(0,S+1)),L=()=>{let z;return T?z=k:M?z=j:b.route.Component?z=R.createElement(b.route.Component,null):b.route.element?z=b.route.element:z=p,R.createElement(ub,{match:b,routeContext:{outlet:p,matches:Y,isDataRoute:r!=null},children:z})};return r&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?R.createElement(ob,{location:r.location,revalidation:r.revalidation,component:k,error:T,children:L(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):L()},null)}var Xg=(function(l){return l.UseBlocker="useBlocker",l.UseRevalidator="useRevalidator",l.UseNavigateStable="useNavigate",l})(Xg||{}),Ig=(function(l){return l.UseBlocker="useBlocker",l.UseLoaderData="useLoaderData",l.UseActionData="useActionData",l.UseRouteError="useRouteError",l.UseNavigation="useNavigation",l.UseRouteLoaderData="useRouteLoaderData",l.UseMatches="useMatches",l.UseRevalidator="useRevalidator",l.UseNavigateStable="useNavigate",l.UseRouteId="useRouteId",l})(Ig||{});function fb(l){let a=R.useContext(Uc);return a||Ze(!1),a}function db(l){let a=R.useContext(F0);return a||Ze(!1),a}function hb(l){let a=R.useContext(fn);return a||Ze(!1),a}function Zg(l){let a=hb(),r=a.matches[a.matches.length-1];return r.route.id||Ze(!1),r.route.id}function mb(){var l;let a=R.useContext(Yg),r=db(),s=Zg();return a!==void 0?a:(l=r.errors)==null?void 0:l[s]}function gb(){let{router:l}=fb(Xg.UseNavigateStable),a=Zg(Ig.UseNavigateStable),r=R.useRef(!1);return Kg(()=>{r.current=!0}),R.useCallback(function(u,c){c===void 0&&(c={}),r.current&&(typeof u=="number"?l.navigate(u):l.navigate(u,Yr({fromRouteId:a},c)))},[l,a])}const ng={};function vb(l,a,r){ng[l]||(ng[l]=!0)}function yb(l,a){l==null||l.v7_startTransition,l==null||l.v7_relativeSplatPath}function Pg(l){let{to:a,replace:r,state:s,relative:u}=l;Li()||Ze(!1);let{future:c,static:d}=R.useContext(ca),{matches:h}=R.useContext(fn),{pathname:v}=Dn(),g=fa(),p=Dc(a,kc(h,c.v7_relativeSplatPath),v,u==="path"),b=JSON.stringify(p);return R.useEffect(()=>g(JSON.parse(b),{replace:r,state:s,relative:u}),[g,b,u,r,s]),null}function pb(l){return ab(l.context)}function cn(l){Ze(!1)}function bb(l){let{basename:a="/",children:r=null,location:s,navigationType:u=oa.Pop,navigator:c,static:d=!1,future:h}=l;Li()&&Ze(!1);let v=a.replace(/^\/*/,"/"),g=R.useMemo(()=>({basename:v,navigator:c,static:d,future:Yr({v7_relativeSplatPath:!1},h)}),[v,h,c,d]);typeof s=="string"&&(s=qa(s));let{pathname:p="/",search:b="",hash:S="",state:T=null,key:M="default"}=s,k=R.useMemo(()=>{let j=Nc(p,v);return j==null?null:{location:{pathname:j,search:b,hash:S,state:T,key:M},navigationType:u}},[v,p,b,S,T,M,u]);return k==null?null:R.createElement(ca.Provider,{value:g},R.createElement(Cl.Provider,{children:r,value:k}))}function _b(l){let{children:a,location:r}=l;return ib(hc(a),r)}new Promise(()=>{});function hc(l,a){a===void 0&&(a=[]);let r=[];return R.Children.forEach(l,(s,u)=>{if(!R.isValidElement(s))return;let c=[...a,u];if(s.type===R.Fragment){r.push.apply(r,hc(s.props.children,c));return}s.type!==cn&&Ze(!1),!s.props.index||!s.props.children||Ze(!1);let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=hc(s.props.children,c)),r.push(d)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(l){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(l[s]=r[s])}return l},mc.apply(this,arguments)}function wb(l,a){if(l==null)return{};var r={},s=Object.keys(l),u,c;for(c=0;c<s.length;c++)u=s[c],!(a.indexOf(u)>=0)&&(r[u]=l[u]);return r}function Sb(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Eb(l,a){return l.button===0&&(!a||a==="_self")&&!Sb(l)}const xb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Tb="6";try{window.__reactRouterVersion=Tb}catch{}const Ob="startTransition",ag=T0[Ob];function jb(l){let{basename:a,children:r,future:s,window:u}=l,c=R.useRef();c.current==null&&(c.current=j0({window:u,v5Compat:!0}));let d=c.current,[h,v]=R.useState({action:d.action,location:d.location}),{v7_startTransition:g}=s||{},p=R.useCallback(b=>{g&&ag?ag(()=>v(b)):v(b)},[v,g]);return R.useLayoutEffect(()=>d.listen(p),[d,p]),R.useEffect(()=>yb(s),[s]),R.createElement(bb,{basename:a,children:r,location:h.location,navigationType:h.action,navigator:d,future:s})}const Ab=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wg=R.forwardRef(function(a,r){let{onClick:s,relative:u,reloadDocument:c,replace:d,state:h,target:v,to:g,preventScrollReset:p,viewTransition:b}=a,S=wb(a,xb),{basename:T}=R.useContext(ca),M,k=!1;if(typeof g=="string"&&Cb.test(g)&&(M=g,Ab))try{let z=new URL(window.location.href),Q=g.startsWith("//")?new URL(z.protocol+g):new URL(g),K=Nc(Q.pathname,T);Q.origin===z.origin&&K!=null?g=K+Q.search+Q.hash:k=!0}catch{}let j=eb(g,{relative:u}),Y=Rb(g,{replace:d,state:h,target:v,preventScrollReset:p,relative:u,viewTransition:b});function L(z){s&&s(z),z.defaultPrevented||Y(z)}return R.createElement("a",mc({},S,{href:M||j,onClick:k||c?s:L,ref:r,target:v}))});var ig;(function(l){l.UseScrollRestoration="useScrollRestoration",l.UseSubmit="useSubmit",l.UseSubmitFetcher="useSubmitFetcher",l.UseFetcher="useFetcher",l.useViewTransitionState="useViewTransitionState"})(ig||(ig={}));var rg;(function(l){l.UseFetcher="useFetcher",l.UseFetchers="useFetchers",l.UseScrollRestoration="useScrollRestoration"})(rg||(rg={}));function Rb(l,a){let{target:r,replace:s,state:u,preventScrollReset:c,relative:d,viewTransition:h}=a===void 0?{}:a,v=fa(),g=Dn(),p=Jg(l,{relative:d});return R.useCallback(b=>{if(Eb(b,r)){b.preventDefault();let S=s!==void 0?s:Sl(g)===Sl(p);v(l,{replace:S,state:u,preventScrollReset:c,relative:d,viewTransition:h})}},[g,v,p,s,u,r,l,c,d,h])}var gc=function(l,a){return gc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(r[u]=s[u])},gc(l,a)};function Fg(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");gc(l,a);function r(){this.constructor=l}l.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)}var El=function(){return El=Object.assign||function(a){for(var r,s=1,u=arguments.length;s<u;s++){r=arguments[s];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])}return a},El.apply(this,arguments)};function qi(l,a){var r={};for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&a.indexOf(s)<0&&(r[s]=l[s]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(l);u<s.length;u++)a.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(l,s[u])&&(r[s[u]]=l[s[u]]);return r}function ev(l,a,r,s){var u=arguments.length,c=u<3?a:s===null?s=Object.getOwnPropertyDescriptor(a,r):s,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(l,a,r,s);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(c=(u<3?d(c):u>3?d(a,r,c):d(a,r))||c);return u>3&&c&&Object.defineProperty(a,r,c),c}function tv(l,a){return function(r,s){a(r,s,l)}}function nv(l,a,r,s,u,c){function d(Y){if(Y!==void 0&&typeof Y!="function")throw new TypeError("Function expected");return Y}for(var h=s.kind,v=h==="getter"?"get":h==="setter"?"set":"value",g=!a&&l?s.static?l:l.prototype:null,p=a||(g?Object.getOwnPropertyDescriptor(g,s.name):{}),b,S=!1,T=r.length-1;T>=0;T--){var M={};for(var k in s)M[k]=k==="access"?{}:s[k];for(var k in s.access)M.access[k]=s.access[k];M.addInitializer=function(Y){if(S)throw new TypeError("Cannot add initializers after decoration has completed");c.push(d(Y||null))};var j=(0,r[T])(h==="accessor"?{get:p.get,set:p.set}:p[v],M);if(h==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(b=d(j.get))&&(p.get=b),(b=d(j.set))&&(p.set=b),(b=d(j.init))&&u.unshift(b)}else(b=d(j))&&(h==="field"?u.unshift(b):p[v]=b)}g&&Object.defineProperty(g,s.name,p),S=!0}function av(l,a,r){for(var s=arguments.length>2,u=0;u<a.length;u++)r=s?a[u].call(l,r):a[u].call(l);return s?r:void 0}function iv(l){return typeof l=="symbol"?l:"".concat(l)}function rv(l,a,r){return typeof a=="symbol"&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(l,"name",{configurable:!0,value:r?"".concat(r," ",a):a})}function sv(l,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,a)}function te(l,a,r,s){function u(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function h(p){try{g(s.next(p))}catch(b){d(b)}}function v(p){try{g(s.throw(p))}catch(b){d(b)}}function g(p){p.done?c(p.value):u(p.value).then(h,v)}g((s=s.apply(l,a||[])).next())})}function lv(l,a){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,u,c,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=h(0),d.throw=h(1),d.return=h(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function h(g){return function(p){return v([g,p])}}function v(g){if(s)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(r=0)),r;)try{if(s=1,u&&(c=g[0]&2?u.return:g[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,g[1])).done)return c;switch(u=0,c&&(g=[g[0]&2,c.value]),g[0]){case 0:case 1:c=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,u=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){r.label=g[1];break}if(g[0]===6&&r.label<c[1]){r.label=c[1],c=g;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(g);break}c[2]&&r.ops.pop(),r.trys.pop();continue}g=a.call(l,r)}catch(p){g=[6,p],u=0}finally{s=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var Rl=Object.create?(function(l,a,r,s){s===void 0&&(s=r);var u=Object.getOwnPropertyDescriptor(a,r);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[r]}}),Object.defineProperty(l,s,u)}):(function(l,a,r,s){s===void 0&&(s=r),l[s]=a[r]});function ov(l,a){for(var r in l)r!=="default"&&!Object.prototype.hasOwnProperty.call(a,r)&&Rl(a,l,r)}function xl(l){var a=typeof Symbol=="function"&&Symbol.iterator,r=a&&l[a],s=0;if(r)return r.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&s>=l.length&&(l=void 0),{value:l&&l[s++],done:!l}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function zc(l,a){var r=typeof Symbol=="function"&&l[Symbol.iterator];if(!r)return l;var s=r.call(l),u,c=[],d;try{for(;(a===void 0||a-- >0)&&!(u=s.next()).done;)c.push(u.value)}catch(h){d={error:h}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(d)throw d.error}}return c}function uv(){for(var l=[],a=0;a<arguments.length;a++)l=l.concat(zc(arguments[a]));return l}function cv(){for(var l=0,a=0,r=arguments.length;a<r;a++)l+=arguments[a].length;for(var s=Array(l),u=0,a=0;a<r;a++)for(var c=arguments[a],d=0,h=c.length;d<h;d++,u++)s[u]=c[d];return s}function fv(l,a,r){if(r||arguments.length===2)for(var s=0,u=a.length,c;s<u;s++)(c||!(s in a))&&(c||(c=Array.prototype.slice.call(a,0,s)),c[s]=a[s]);return l.concat(c||Array.prototype.slice.call(a))}function Mi(l){return this instanceof Mi?(this.v=l,this):new Mi(l)}function dv(l,a,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(l,a||[]),u,c=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),u[Symbol.asyncIterator]=function(){return this},u;function d(T){return function(M){return Promise.resolve(M).then(T,b)}}function h(T,M){s[T]&&(u[T]=function(k){return new Promise(function(j,Y){c.push([T,k,j,Y])>1||v(T,k)})},M&&(u[T]=M(u[T])))}function v(T,M){try{g(s[T](M))}catch(k){S(c[0][3],k)}}function g(T){T.value instanceof Mi?Promise.resolve(T.value.v).then(p,b):S(c[0][2],T)}function p(T){v("next",T)}function b(T){v("throw",T)}function S(T,M){T(M),c.shift(),c.length&&v(c[0][0],c[0][1])}}function hv(l){var a,r;return a={},s("next"),s("throw",function(u){throw u}),s("return"),a[Symbol.iterator]=function(){return this},a;function s(u,c){a[u]=l[u]?function(d){return(r=!r)?{value:Mi(l[u](d)),done:!1}:c?c(d):d}:c}}function mv(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l[Symbol.asyncIterator],r;return a?a.call(l):(l=typeof xl=="function"?xl(l):l[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(c){r[c]=l[c]&&function(d){return new Promise(function(h,v){d=l[c](d),u(h,v,d.done,d.value)})}}function u(c,d,h,v){Promise.resolve(v).then(function(g){c({value:g,done:h})},d)}}function gv(l,a){return Object.defineProperty?Object.defineProperty(l,"raw",{value:a}):l.raw=a,l}var Nb=Object.create?(function(l,a){Object.defineProperty(l,"default",{enumerable:!0,value:a})}):function(l,a){l.default=a},vc=function(l){return vc=Object.getOwnPropertyNames||function(a){var r=[];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[r.length]=s);return r},vc(l)};function vv(l){if(l&&l.__esModule)return l;var a={};if(l!=null)for(var r=vc(l),s=0;s<r.length;s++)r[s]!=="default"&&Rl(a,l,r[s]);return Nb(a,l),a}function yv(l){return l&&l.__esModule?l:{default:l}}function pv(l,a,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?l!==a||!s:!a.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(l):s?s.value:a.get(l)}function bv(l,a,r,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?l!==a||!u:!a.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(l,r):u?u.value=r:a.set(l,r),r}function _v(l,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof l=="function"?a===l:l.has(a)}function wv(l,a,r){if(a!=null){if(typeof a!="object"&&typeof a!="function")throw new TypeError("Object expected.");var s,u;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=a[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=a[Symbol.dispose],r&&(u=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");u&&(s=function(){try{u.call(this)}catch(c){return Promise.reject(c)}}),l.stack.push({value:a,dispose:s,async:r})}else r&&l.stack.push({async:!0});return a}var kb=typeof SuppressedError=="function"?SuppressedError:function(l,a,r){var s=new Error(r);return s.name="SuppressedError",s.error=l,s.suppressed=a,s};function Sv(l){function a(c){l.error=l.hasError?new kb(c,l.error,"An error was suppressed during disposal."):c,l.hasError=!0}var r,s=0;function u(){for(;r=l.stack.pop();)try{if(!r.async&&s===1)return s=0,l.stack.push(r),Promise.resolve().then(u);if(r.dispose){var c=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(c).then(u,function(d){return a(d),u()})}else s|=1}catch(d){a(d)}if(s===1)return l.hasError?Promise.reject(l.error):Promise.resolve();if(l.hasError)throw l.error}return u()}function Ev(l,a){return typeof l=="string"&&/^\.\.?\//.test(l)?l.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,u,c,d){return s?a?".jsx":".js":u&&(!c||!d)?r:u+c+"."+d.toLowerCase()+"js"}):l}const Db={__extends:Fg,__assign:El,__rest:qi,__decorate:ev,__param:tv,__esDecorate:nv,__runInitializers:av,__propKey:iv,__setFunctionName:rv,__metadata:sv,__awaiter:te,__generator:lv,__createBinding:Rl,__exportStar:ov,__values:xl,__read:zc,__spread:uv,__spreadArrays:cv,__spreadArray:fv,__await:Mi,__asyncGenerator:dv,__asyncDelegator:hv,__asyncValues:mv,__makeTemplateObject:gv,__importStar:vv,__importDefault:yv,__classPrivateFieldGet:pv,__classPrivateFieldSet:bv,__classPrivateFieldIn:_v,__addDisposableResource:wv,__disposeResources:Sv,__rewriteRelativeImportExtension:Ev},Ub=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:wv,get __assign(){return El},__asyncDelegator:hv,__asyncGenerator:dv,__asyncValues:mv,__await:Mi,__awaiter:te,__classPrivateFieldGet:pv,__classPrivateFieldIn:_v,__classPrivateFieldSet:bv,__createBinding:Rl,__decorate:ev,__disposeResources:Sv,__esDecorate:nv,__exportStar:ov,__extends:Fg,__generator:lv,__importDefault:yv,__importStar:vv,__makeTemplateObject:gv,__metadata:sv,__param:tv,__propKey:iv,__read:zc,__rest:qi,__rewriteRelativeImportExtension:Ev,__runInitializers:av,__setFunctionName:rv,__spread:uv,__spreadArray:fv,__spreadArrays:cv,__values:xl,default:Db},Symbol.toStringTag,{value:"Module"})),zb="modulepreload",Mb=function(l){return"/GymLog/"+l},sg={},Hi=function(a,r,s){let u=Promise.resolve();if(r&&r.length>0){let d=function(g){return Promise.all(g.map(p=>Promise.resolve(p).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),v=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));u=d(r.map(g=>{if(g=Mb(g),g in sg)return;sg[g]=!0;const p=g.endsWith(".css"),b=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const S=document.createElement("link");if(S.rel=p?"stylesheet":zb,p||(S.as="script"),S.crossOrigin="",S.href=g,v&&S.setAttribute("nonce",v),document.head.appendChild(S),p)return new Promise((T,M)=>{S.addEventListener("load",T),S.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return u.then(d=>{for(const h of d||[])h.status==="rejected"&&c(h.reason);return a().catch(c)})},Bb=l=>{let a;return l?a=l:typeof fetch>"u"?a=(...r)=>Hi(async()=>{const{default:s}=await Promise.resolve().then(()=>Ha);return{default:s}},void 0).then(({default:s})=>s(...r)):a=fetch,(...r)=>a(...r)};class Mc extends Error{constructor(a,r="FunctionsError",s){super(a),this.name=r,this.context=s}}class lg extends Mc{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class og extends Mc{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class ug extends Mc{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var yc;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(yc||(yc={}));class Lb{constructor(a,{headers:r={},customFetch:s,region:u=yc.Any}={}){this.url=a,this.headers=r,this.region=u,this.fetch=Bb(s)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return te(this,arguments,void 0,function*(r,s={}){var u;try{const{headers:c,method:d,body:h,signal:v}=s;let g={},{region:p}=s;p||(p=this.region);const b=new URL(`${this.url}/${r}`);p&&p!=="any"&&(g["x-region"]=p,b.searchParams.set("forceFunctionRegion",p));let S;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",S=h):typeof h=="string"?(g["Content-Type"]="text/plain",S=h):typeof FormData<"u"&&h instanceof FormData?S=h:(g["Content-Type"]="application/json",S=JSON.stringify(h)):S=h;const T=yield this.fetch(b.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),c),body:S,signal:v}).catch(Y=>{throw Y.name==="AbortError"?Y:new lg(Y)}),M=T.headers.get("x-relay-error");if(M&&M==="true")throw new og(T);if(!T.ok)throw new ug(T);let k=((u=T.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),j;return k==="application/json"?j=yield T.json():k==="application/octet-stream"||k==="application/pdf"?j=yield T.blob():k==="text/event-stream"?j=T:k==="multipart/form-data"?j=yield T.formData():j=yield T.text(),{data:j,error:null,response:T}}catch(c){return c instanceof Error&&c.name==="AbortError"?{data:null,error:new lg(c)}:{data:null,error:c,response:c instanceof ug||c instanceof og?c.context:void 0}}})}}var gt={};const $i=qg(Ub);var hl={},ml={},gl={},vl={},yl={},qb=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Bi=qb();const Hb=Bi.fetch,xv=Bi.fetch.bind(Bi),Tv=Bi.Headers,$b=Bi.Request,Vb=Bi.Response,Ha=Object.freeze(Object.defineProperty({__proto__:null,Headers:Tv,Request:$b,Response:Vb,default:xv,fetch:Hb},Symbol.toStringTag,{value:"Module"})),Gb=qg(Ha);var pl={},cg;function Ov(){if(cg)return pl;cg=1,Object.defineProperty(pl,"__esModule",{value:!0});class l extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return pl.default=l,pl}var fg;function jv(){if(fg)return yl;fg=1,Object.defineProperty(yl,"__esModule",{value:!0});const l=$i,a=l.__importDefault(Gb),r=l.__importDefault(Ov());class s{constructor(c){var d,h;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(d=c.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=c.signal,this.isMaybeSingle=(h=c.isMaybeSingle)!==null&&h!==void 0?h:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,d){return this.headers=new Headers(this.headers),this.headers.set(c,d),this}then(c,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let v=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var p,b,S,T;let M=null,k=null,j=null,Y=g.status,L=g.statusText;if(g.ok){if(this.method!=="HEAD"){const H=await g.text();H===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?k=H:k=JSON.parse(H))}const Q=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),K=(S=g.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");Q&&K&&K.length>1&&(j=parseInt(K[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(M={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,j=null,Y=406,L="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const Q=await g.text();try{M=JSON.parse(Q),Array.isArray(M)&&g.status===404&&(k=[],M=null,Y=200,L="OK")}catch{g.status===404&&Q===""?(Y=204,L="No Content"):M={message:Q}}if(M&&this.isMaybeSingle&&(!((T=M==null?void 0:M.details)===null||T===void 0)&&T.includes("0 rows"))&&(M=null,Y=200,L="OK"),M&&this.shouldThrowOnError)throw new r.default(M)}return{error:M,data:k,count:j,status:Y,statusText:L}});return this.shouldThrowOnError||(v=v.catch(g=>{var p,b,S;return{error:{message:`${(p=g==null?void 0:g.name)!==null&&p!==void 0?p:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(b=g==null?void 0:g.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(S=g==null?void 0:g.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),v.then(c,d)}returns(){return this}overrideTypes(){return this}}return yl.default=s,yl}var dg;function Av(){if(dg)return vl;dg=1,Object.defineProperty(vl,"__esModule",{value:!0});const a=$i.__importDefault(jv());class r extends a.default{select(u){let c=!1;const d=(u??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:c=!0,nullsFirst:d,foreignTable:h,referencedTable:v=h}={}){const g=v?`${v}.order`:"order",p=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${p?`${p},`:""}${u}.${c?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${u}`),this}range(u,c,{foreignTable:d,referencedTable:h=d}={}){const v=typeof h>"u"?"offset":`${h}.offset`,g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(v,`${u}`),this.url.searchParams.set(g,`${c-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:c=!1,settings:d=!1,buffers:h=!1,wal:v=!1,format:g="text"}={}){var p;const b=[u?"analyze":null,c?"verbose":null,d?"settings":null,h?"buffers":null,v?"wal":null].filter(Boolean).join("|"),S=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${S}"; options=${b};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return vl.default=r,vl}var hg;function Bc(){if(hg)return gl;hg=1,Object.defineProperty(gl,"__esModule",{value:!0});const a=$i.__importDefault(Av());class r extends a.default{eq(u,c){return this.url.searchParams.append(u,`eq.${c}`),this}neq(u,c){return this.url.searchParams.append(u,`neq.${c}`),this}gt(u,c){return this.url.searchParams.append(u,`gt.${c}`),this}gte(u,c){return this.url.searchParams.append(u,`gte.${c}`),this}lt(u,c){return this.url.searchParams.append(u,`lt.${c}`),this}lte(u,c){return this.url.searchParams.append(u,`lte.${c}`),this}like(u,c){return this.url.searchParams.append(u,`like.${c}`),this}likeAllOf(u,c){return this.url.searchParams.append(u,`like(all).{${c.join(",")}}`),this}likeAnyOf(u,c){return this.url.searchParams.append(u,`like(any).{${c.join(",")}}`),this}ilike(u,c){return this.url.searchParams.append(u,`ilike.${c}`),this}ilikeAllOf(u,c){return this.url.searchParams.append(u,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(u,c){return this.url.searchParams.append(u,`ilike(any).{${c.join(",")}}`),this}is(u,c){return this.url.searchParams.append(u,`is.${c}`),this}in(u,c){const d=Array.from(new Set(c)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(u,`in.(${d})`),this}contains(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cs.{${c.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(c)}`),this}containedBy(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cd.{${c.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(c)}`),this}rangeGt(u,c){return this.url.searchParams.append(u,`sr.${c}`),this}rangeGte(u,c){return this.url.searchParams.append(u,`nxl.${c}`),this}rangeLt(u,c){return this.url.searchParams.append(u,`sl.${c}`),this}rangeLte(u,c){return this.url.searchParams.append(u,`nxr.${c}`),this}rangeAdjacent(u,c){return this.url.searchParams.append(u,`adj.${c}`),this}overlaps(u,c){return typeof c=="string"?this.url.searchParams.append(u,`ov.${c}`):this.url.searchParams.append(u,`ov.{${c.join(",")}}`),this}textSearch(u,c,{config:d,type:h}={}){let v="";h==="plain"?v="pl":h==="phrase"?v="ph":h==="websearch"&&(v="w");const g=d===void 0?"":`(${d})`;return this.url.searchParams.append(u,`${v}fts${g}.${c}`),this}match(u){return Object.entries(u).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(u,c,d){return this.url.searchParams.append(u,`not.${c}.${d}`),this}or(u,{foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${u})`),this}filter(u,c,d){return this.url.searchParams.append(u,`${c}.${d}`),this}}return gl.default=r,gl}var mg;function Cv(){if(mg)return ml;mg=1,Object.defineProperty(ml,"__esModule",{value:!0});const a=$i.__importDefault(Bc());class r{constructor(u,{headers:c={},schema:d,fetch:h}){this.url=u,this.headers=new Headers(c),this.schema=d,this.fetch=h}select(u,c){const{head:d=!1,count:h}=c??{},v=d?"HEAD":"GET";let g=!1;const p=(u??"*").split("").map(b=>/\s/.test(b)&&!g?"":(b==='"'&&(g=!g),b)).join("");return this.url.searchParams.set("select",p),h&&this.headers.append("Prefer",`count=${h}`),new a.default({method:v,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:c,defaultToNull:d=!0}={}){var h;const v="POST";if(c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const g=u.reduce((p,b)=>p.concat(Object.keys(b)),[]);if(g.length>0){const p=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",p.join(","))}}return new a.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(u,{onConflict:c,ignoreDuplicates:d=!1,count:h,defaultToNull:v=!0}={}){var g;const p="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),h&&this.headers.append("Prefer",`count=${h}`),v||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const b=u.reduce((S,T)=>S.concat(Object.keys(T)),[]);if(b.length>0){const S=[...new Set(b)].map(T=>`"${T}"`);this.url.searchParams.set("columns",S.join(","))}}return new a.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(u,{count:c}={}){var d;const h="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new a.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:u}={}){var c;const d="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new a.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return ml.default=r,ml}var gg;function Yb(){if(gg)return hl;gg=1,Object.defineProperty(hl,"__esModule",{value:!0});const l=$i,a=l.__importDefault(Cv()),r=l.__importDefault(Bc());class s{constructor(c,{headers:d={},schema:h,fetch:v}={}){this.url=c,this.headers=new Headers(d),this.schemaName=h,this.fetch=v}from(c){const d=new URL(`${this.url}/${c}`);return new a.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new s(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,d={},{head:h=!1,get:v=!1,count:g}={}){var p;let b;const S=new URL(`${this.url}/rpc/${c}`);let T;h||v?(b=h?"HEAD":"GET",Object.entries(d).filter(([k,j])=>j!==void 0).map(([k,j])=>[k,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([k,j])=>{S.searchParams.append(k,j)})):(b="POST",T=d);const M=new Headers(this.headers);return g&&M.set("Prefer",`count=${g}`),new r.default({method:b,url:S,headers:M,schema:this.schemaName,body:T,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return hl.default=s,hl}var vg;function Kb(){if(vg)return gt;vg=1,Object.defineProperty(gt,"__esModule",{value:!0}),gt.PostgrestError=gt.PostgrestBuilder=gt.PostgrestTransformBuilder=gt.PostgrestFilterBuilder=gt.PostgrestQueryBuilder=gt.PostgrestClient=void 0;const l=$i,a=l.__importDefault(Yb());gt.PostgrestClient=a.default;const r=l.__importDefault(Cv());gt.PostgrestQueryBuilder=r.default;const s=l.__importDefault(Bc());gt.PostgrestFilterBuilder=s.default;const u=l.__importDefault(Av());gt.PostgrestTransformBuilder=u.default;const c=l.__importDefault(jv());gt.PostgrestBuilder=c.default;const d=l.__importDefault(Ov());return gt.PostgrestError=d.default,gt.default={PostgrestClient:a.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:c.default,PostgrestError:d.default},gt}var Qb=Kb();const Jb=Ac(Qb),{PostgrestClient:Xb,PostgrestQueryBuilder:NS,PostgrestFilterBuilder:kS,PostgrestTransformBuilder:DS,PostgrestBuilder:US,PostgrestError:zS}=Jb;class Ib{static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,u=parseInt(s.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let r=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(r+=`

Suggested solution: ${a.workaround}`),new Error(r)}static createWebSocket(a,r){const s=this.getWebSocketConstructor();return new s(a,r)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Zb="2.76.1",Pb=`realtime-js/${Zb}`,Wb="1.0.0",pc=1e4,Fb=1e3,e_=100;var Hr;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(Hr||(Hr={}));var it;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(it||(it={}));var rn;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(rn||(rn={}));var bc;(function(l){l.websocket="websocket"})(bc||(bc={}));var Ma;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(Ma||(Ma={}));class t_{constructor(){this.HEADER_LENGTH=1}decode(a,r){return a.constructor===ArrayBuffer?r(this._binaryDecode(a)):r(typeof a=="string"?JSON.parse(a):{})}_binaryDecode(a){const r=new DataView(a),s=new TextDecoder;return this._decodeBroadcast(a,r,s)}_decodeBroadcast(a,r,s){const u=r.getUint8(1),c=r.getUint8(2);let d=this.HEADER_LENGTH+2;const h=s.decode(a.slice(d,d+u));d=d+u;const v=s.decode(a.slice(d,d+c));d=d+c;const g=JSON.parse(s.decode(a.slice(d,a.byteLength)));return{ref:null,topic:h,event:v,payload:g}}}class Rv{constructor(a,r){this.callback=a,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(Ue||(Ue={}));const yg=(l,a,r={})=>{var s;const u=(s=r.skipTypes)!==null&&s!==void 0?s:[];return a?Object.keys(a).reduce((c,d)=>(c[d]=n_(d,l,a,u),c),{}):{}},n_=(l,a,r,s)=>{const u=a.find(h=>h.name===l),c=u==null?void 0:u.type,d=r[l];return c&&!s.includes(c)?Nv(c,d):_c(d)},Nv=(l,a)=>{if(l.charAt(0)==="_"){const r=l.slice(1,l.length);return s_(a,r)}switch(l){case Ue.bool:return a_(a);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return i_(a);case Ue.json:case Ue.jsonb:return r_(a);case Ue.timestamp:return l_(a);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return _c(a);default:return _c(a)}},_c=l=>l,a_=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},i_=l=>{if(typeof l=="string"){const a=parseFloat(l);if(!Number.isNaN(a))return a}return l},r_=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(a){return console.log(`JSON parse error: ${a}`),l}return l},s_=(l,a)=>{if(typeof l!="string")return l;const r=l.length-1,s=l[r];if(l[0]==="{"&&s==="}"){let c;const d=l.slice(1,r);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(h=>Nv(a,h))}return l},l_=l=>typeof l=="string"?l.replace(" ","T"):l,kv=l=>{const a=new URL(l);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class Fu{constructor(a,r,s={},u=pc){this.channel=a,this.event=r,this.payload=s,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,r){var s;return this._hasReceived(a)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:a,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:r}){this.recHooks.filter(s=>s.status===a).forEach(s=>s.callback(r))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var pg;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(pg||(pg={}));class $r{constructor(a,r){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},u=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$r.syncState(this.state,u,c,d),this.pendingDiffs.forEach(v=>{this.state=$r.syncDiff(this.state,v,c,d)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},u=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=$r.syncDiff(this.state,u,c,d),h())}),this.onJoin((u,c,d)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:d})}),this.onLeave((u,c,d)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,r,s,u){const c=this.cloneDeep(a),d=this.transformState(r),h={},v={};return this.map(c,(g,p)=>{d[g]||(v[g]=p)}),this.map(d,(g,p)=>{const b=c[g];if(b){const S=p.map(j=>j.presence_ref),T=b.map(j=>j.presence_ref),M=p.filter(j=>T.indexOf(j.presence_ref)<0),k=b.filter(j=>S.indexOf(j.presence_ref)<0);M.length>0&&(h[g]=M),k.length>0&&(v[g]=k)}else h[g]=p}),this.syncDiff(c,{joins:h,leaves:v},s,u)}static syncDiff(a,r,s,u){const{joins:c,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),u||(u=()=>{}),this.map(c,(h,v)=>{var g;const p=(g=a[h])!==null&&g!==void 0?g:[];if(a[h]=this.cloneDeep(v),p.length>0){const b=a[h].map(T=>T.presence_ref),S=p.filter(T=>b.indexOf(T.presence_ref)<0);a[h].unshift(...S)}s(h,p,v)}),this.map(d,(h,v)=>{let g=a[h];if(!g)return;const p=v.map(b=>b.presence_ref);g=g.filter(b=>p.indexOf(b.presence_ref)<0),a[h]=g,u(h,g,v),g.length===0&&delete a[h]}),a}static map(a,r){return Object.getOwnPropertyNames(a).map(s=>r(s,a[s]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((r,s)=>{const u=a[s];return"metas"in u?r[s]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[s]=u,r},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bg;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(bg||(bg={}));var Vr;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(Vr||(Vr={}));var Nn;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(Nn||(Nn={}));class Lc{constructor(a,r={config:{}},s){var u,c;if(this.topic=a,this.params=r,this.socket=s,this.bindings={},this.state=it.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Fu(this,rn.join,this.params,this.timeout),this.rejoinTimer=new Rv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=it.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=it.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rn.reply,{},(d,h)=>{this._trigger(this._replyEventName(h),d)}),this.presence=new $r(this),this.broadcastEndpointURL=kv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,r=this.timeout){var s,u,c;if(this.socket.isConnected()||this.socket.connect(),this.state==it.closed){const{config:{broadcast:d,presence:h,private:v}}=this.params,g=(u=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(T=>T.filter))!==null&&u!==void 0?u:[],p=!!this.bindings[Vr.PRESENCE]&&this.bindings[Vr.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,b={},S={broadcast:d,presence:Object.assign(Object.assign({},h),{enabled:p}),postgres_changes:g,private:v};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(T=>a==null?void 0:a(Nn.CHANNEL_ERROR,T)),this._onClose(()=>a==null?void 0:a(Nn.CLOSED)),this.updateJoinPayload(Object.assign({config:S},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:T})=>{var M;if(this.socket.setAuth(),T===void 0){a==null||a(Nn.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,j=(M=k==null?void 0:k.length)!==null&&M!==void 0?M:0,Y=[];for(let L=0;L<j;L++){const z=k[L],{filter:{event:Q,schema:K,table:H,filter:D}}=z,Z=T&&T[L];if(Z&&Z.event===Q&&Z.schema===K&&Z.table===H&&Z.filter===D)Y.push(Object.assign(Object.assign({},z),{id:Z.id}));else{this.unsubscribe(),this.state=it.errored,a==null||a(Nn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Y,a&&a(Nn.SUBSCRIBED);return}}).receive("error",T=>{this.state=it.errored,a==null||a(Nn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{a==null||a(Nn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,r={}){return await this.send({type:"presence",event:"track",payload:a},r.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,r,s){return this.state===it.joined&&a===Vr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,r,s)}async httpSend(a,r,s={}){var u;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(u=s.timeout)!==null&&u!==void 0?u:this.timeout);if(h.status===202)return{success:!0};let v=h.statusText;try{const g=await h.json();v=g.error||g.message||v}catch{}return Promise.reject(new Error(v))}async send(a,r={}){var s,u;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:d}=a,v={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((u=g.body)===null||u===void 0?void 0:u.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,h,v;const g=this._push(a.type,a,r.timeout||this.timeout);a.type==="broadcast"&&!(!((v=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||v===void 0)&&v.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=it.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(u=>{s=new Fu(this,rn.leave,{},a),s.receive("ok",()=>{r(),u("ok")}).receive("timeout",()=>{r(),u("timed out")}).receive("error",()=>{u("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=it.closed,this.bindings={}}async _fetchWithTimeout(a,r,s){const u=new AbortController,c=setTimeout(()=>u.abort(),s),d=await this.socket.fetch(a,Object.assign(Object.assign({},r),{signal:u.signal}));return clearTimeout(c),d}_push(a,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new Fu(this,a,r,s);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>e_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(a,r,s){return r}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,r,s){var u,c;const d=a.toLocaleLowerCase(),{close:h,error:v,leave:g,join:p}=rn;if(s&&[h,v,g,p].indexOf(d)>=0&&s!==this._joinRef())return;let S=this._onMessage(d,r,s);if(r&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(T=>{var M,k,j;return((M=T.filter)===null||M===void 0?void 0:M.event)==="*"||((j=(k=T.filter)===null||k===void 0?void 0:k.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===d}).map(T=>T.callback(S,s)):(c=this.bindings[d])===null||c===void 0||c.filter(T=>{var M,k,j,Y,L,z;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in T){const Q=T.id,K=(M=T.filter)===null||M===void 0?void 0:M.event;return Q&&((k=r.ids)===null||k===void 0?void 0:k.includes(Q))&&(K==="*"||(K==null?void 0:K.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const Q=(L=(Y=T==null?void 0:T.filter)===null||Y===void 0?void 0:Y.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return Q==="*"||Q===((z=r==null?void 0:r.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===d}).map(T=>{if(typeof S=="object"&&"ids"in S){const M=S.data,{schema:k,table:j,commit_timestamp:Y,type:L,errors:z}=M;S=Object.assign(Object.assign({},{schema:k,table:j,commit_timestamp:Y,eventType:L,new:{},old:{},errors:z}),this._getPayloadRecords(M))}T.callback(S,s)})}_isClosed(){return this.state===it.closed}_isJoined(){return this.state===it.joined}_isJoining(){return this.state===it.joining}_isLeaving(){return this.state===it.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,r,s){const u=a.toLocaleLowerCase(),c={type:u,filter:r,callback:s};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(a,r){const s=a.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===s&&Lc.isEqual(u.filter,r))})),this}static isEqual(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const s in a)if(a[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(rn.close,{},a)}_onError(a){this._on(rn.error,{},r=>a(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=it.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const r={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(r.new=yg(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(r.old=yg(a.columns,a.old_record)),r}}const ec=()=>{},bl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},o_=[1e3,2e3,5e3,1e4],u_=1e4,c_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class f_{constructor(a,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pc,this.transport=null,this.heartbeatIntervalMs=bl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ec,this.ref=0,this.reconnectTimer=null,this.logger=ec,this.conn=null,this.sendBuffer=[],this.serializer=new t_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>{let c;return u?c=u:typeof fetch>"u"?c=(...d)=>Hi(async()=>{const{default:h}=await Promise.resolve().then(()=>Ha);return{default:h}},void 0).then(({default:h})=>h(...d)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...d)=>c(...d)},!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${a}/${bc.websocket}`,this.httpEndpoint=kv(a),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ib.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const r=a.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Wb}))}disconnect(a,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},a?this.conn.close(a,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const r=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const a=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,r,s){this.logger(a,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Hr.connecting:return Ma.Connecting;case Hr.open:return Ma.Open;case Hr.closing:return Ma.Closing;default:return Ma.Closed}}isConnected(){return this.connectionState()===Ma.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,r={config:{}}){const s=`realtime:${a}`,u=this.getChannels().find(c=>c.topic===s);if(u)return u;{const c=new Lc(`realtime:${a}`,r,this);return this.channels.push(c),c}}push(a){const{topic:r,event:s,payload:u,ref:c}=a,d=()=>{this.encode(a,h=>{var v;(v=this.conn)===null||v===void 0||v.send(h)})};this.log("push",`${r} ${s} (${c})`,u),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Fb,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},bl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let r=this.channels.find(s=>s.topic===a&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${a}"`),r.unsubscribe())}_remove(a){this.channels=this.channels.filter(r=>r.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:u,payload:c,ref:d}=r,h=d?`(${d})`:"",v=c.status||"";this.log("receive",`${v} ${s} ${u} ${h}`.trim(),c),this.channels.filter(g=>g._isMember(s)).forEach(g=>g._trigger(u,c,d)),this._triggerStateCallbacks("message",r)})}_clearTimer(a){var r;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var r;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(rn.error))}_appendParams(a,r){if(Object.keys(r).length===0)return a;const s=a.match(/\?/)?"&":"?",u=new URLSearchParams(r);return`${a}${s}${u}`}_workerObjectUrl(a){let r;if(a)r=a;else{const s=new Blob([c_],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(a,r=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(a=null){let r;a?r=a:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const u={access_token:r,version:Pb};r&&s.updateJoinPayload(u),s.joinedOnce&&s._isJoined()&&s._push(rn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${a}`,r)})}_triggerStateCallbacks(a,r){try{this.stateChangeCallbacks[a].forEach(s=>{try{s(r)}catch(u){this.log("error",`error in ${a} callback`,u)}})}catch(s){this.log("error",`error triggering ${a} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Rv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var r,s,u,c,d,h,v,g,p;if(this.transport=(r=a==null?void 0:a.transport)!==null&&r!==void 0?r:null,this.timeout=(s=a==null?void 0:a.timeout)!==null&&s!==void 0?s:pc,this.heartbeatIntervalMs=(u=a==null?void 0:a.heartbeatIntervalMs)!==null&&u!==void 0?u:bl.HEARTBEAT_INTERVAL,this.worker=(c=a==null?void 0:a.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=a==null?void 0:a.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(h=a==null?void 0:a.heartbeatCallback)!==null&&h!==void 0?h:ec,a!=null&&a.params&&(this.params=a.params),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=a==null?void 0:a.reconnectAfterMs)!==null&&v!==void 0?v:(b=>o_[b-1]||u_),this.encode=(g=a==null?void 0:a.encode)!==null&&g!==void 0?g:((b,S)=>S(JSON.stringify(b))),this.decode=(p=a==null?void 0:a.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a==null?void 0:a.workerUrl}}}class qc extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function Ve(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class d_ extends qc{constructor(a,r,s){super(a),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wc extends qc{constructor(a,r){super(a),this.name="StorageUnknownError",this.originalError=r}}const Hc=l=>{let a;return l?a=l:typeof fetch>"u"?a=(...r)=>Hi(async()=>{const{default:s}=await Promise.resolve().then(()=>Ha);return{default:s}},void 0).then(({default:s})=>s(...r)):a=fetch,(...r)=>a(...r)},h_=()=>te(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Hi(()=>Promise.resolve().then(()=>Ha),void 0)).Response:Response}),Sc=l=>{if(Array.isArray(l))return l.map(r=>Sc(r));if(typeof l=="function"||l!==Object(l))return l;const a={};return Object.entries(l).forEach(([r,s])=>{const u=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));a[u]=Sc(s)}),a},m_=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},tc=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),g_=(l,a,r)=>te(void 0,void 0,void 0,function*(){const s=yield h_();l instanceof s&&!(r!=null&&r.noResolveJson)?l.json().then(u=>{const c=l.status||500,d=(u==null?void 0:u.statusCode)||c+"";a(new d_(tc(u),c,d))}).catch(u=>{a(new wc(tc(u),u))}):a(new wc(tc(l),l))}),v_=(l,a,r,s)=>{const u={method:l,headers:(a==null?void 0:a.headers)||{}};return l==="GET"||!s?u:(m_(s)?(u.headers=Object.assign({"Content-Type":"application/json"},a==null?void 0:a.headers),u.body=JSON.stringify(s)):u.body=s,a!=null&&a.duplex&&(u.duplex=a.duplex),Object.assign(Object.assign({},u),r))};function Xr(l,a,r,s,u,c){return te(this,void 0,void 0,function*(){return new Promise((d,h)=>{l(r,v_(a,s,u,c)).then(v=>{if(!v.ok)throw v;return s!=null&&s.noResolveJson?v:v.json()}).then(v=>d(v)).catch(v=>g_(v,h,s))})})}function Kr(l,a,r,s){return te(this,void 0,void 0,function*(){return Xr(l,"GET",a,r,s)})}function an(l,a,r,s,u){return te(this,void 0,void 0,function*(){return Xr(l,"POST",a,s,u,r)})}function Ec(l,a,r,s,u){return te(this,void 0,void 0,function*(){return Xr(l,"PUT",a,s,u,r)})}function y_(l,a,r,s){return te(this,void 0,void 0,function*(){return Xr(l,"HEAD",a,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function $c(l,a,r,s,u){return te(this,void 0,void 0,function*(){return Xr(l,"DELETE",a,s,u,r)})}class p_{constructor(a,r){this.downloadFn=a,this.shouldThrowOnError=r}then(a,r){return this.execute().then(a,r)}execute(){return te(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ve(a))return{data:null,error:a};throw a}})}}var Dv;class b_{constructor(a,r){this.downloadFn=a,this.shouldThrowOnError=r,this[Dv]="BlobDownloadBuilder",this.promise=null}asStream(){return new p_(this.downloadFn,this.shouldThrowOnError)}then(a,r){return this.getPromise().then(a,r)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return te(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ve(a))return{data:null,error:a};throw a}})}}Dv=Symbol.toStringTag;const __={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_g={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class w_{constructor(a,r={},s,u){this.shouldThrowOnError=!1,this.url=a,this.headers=r,this.bucketId=s,this.fetch=Hc(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,r,s,u){return te(this,void 0,void 0,function*(){try{let c;const d=Object.assign(Object.assign({},_g),u);let h=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(d.upsert)});const v=d.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),v&&c.append("metadata",this.encodeMetadata(v)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl),v&&c.append("metadata",this.encodeMetadata(v))):(c=s,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,v&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(v)))),u!=null&&u.headers&&(h=Object.assign(Object.assign({},h),u.headers));const g=this._removeEmptyFolders(r),p=this._getFinalPath(g),b=yield(a=="PUT"?Ec:an)(this.fetch,`${this.url}/object/${p}`,c,Object.assign({headers:h},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:b.Id,fullPath:b.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ve(c))return{data:null,error:c};throw c}})}upload(a,r,s){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,r,s)})}uploadToSignedUrl(a,r,s,u){return te(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(a),d=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",r);try{let v;const g=Object.assign({upsert:_g.upsert},u),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&s instanceof Blob?(v=new FormData,v.append("cacheControl",g.cacheControl),v.append("",s)):typeof FormData<"u"&&s instanceof FormData?(v=s,v.append("cacheControl",g.cacheControl)):(v=s,p["cache-control"]=`max-age=${g.cacheControl}`,p["content-type"]=g.contentType);const b=yield Ec(this.fetch,h.toString(),v,{headers:p});return{data:{path:c,fullPath:b.Key},error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Ve(v))return{data:null,error:v};throw v}})}createSignedUploadUrl(a,r){return te(this,void 0,void 0,function*(){try{let s=this._getFinalPath(a);const u=Object.assign({},this.headers);r!=null&&r.upsert&&(u["x-upsert"]="true");const c=yield an(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:u}),d=new URL(this.url+c.url),h=d.searchParams.get("token");if(!h)throw new qc("No token returned by API");return{data:{signedUrl:d.toString(),path:a,token:h},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ve(s))return{data:null,error:s};throw s}})}update(a,r,s){return te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,r,s)})}move(a,r,s){return te(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}})}copy(a,r,s){return te(this,void 0,void 0,function*(){try{return{data:{path:(yield an(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}})}createSignedUrl(a,r,s){return te(this,void 0,void 0,function*(){try{let u=this._getFinalPath(a),c=yield an(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const d=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}})}createSignedUrls(a,r,s){return te(this,void 0,void 0,function*(){try{const u=yield an(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:a},{headers:this.headers}),c=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:u.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${c}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}})}download(a,r){const u=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),d=c?`?${c}`:"",h=this._getFinalPath(a),v=()=>Kr(this.fetch,`${this.url}/${u}/${h}${d}`,{headers:this.headers,noResolveJson:!0});return new b_(v,this.shouldThrowOnError)}info(a){return te(this,void 0,void 0,function*(){const r=this._getFinalPath(a);try{const s=yield Kr(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Sc(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ve(s))return{data:null,error:s};throw s}})}exists(a){return te(this,void 0,void 0,function*(){const r=this._getFinalPath(a);try{return yield y_(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ve(s)&&s instanceof wc){const u=s.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:s}}throw s}})}getPublicUrl(a,r){const s=this._getFinalPath(a),u=[],c=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";c!==""&&u.push(c);const h=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",v=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});v!==""&&u.push(v);let g=u.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${g}`)}}}remove(a){return te(this,void 0,void 0,function*(){try{return{data:yield $c(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}list(a,r,s){return te(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},__),r),{prefix:a||""});return{data:yield an(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},s),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}})}listV2(a,r){return te(this,void 0,void 0,function*(){try{const s=Object.assign({},a);return{data:yield an(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ve(s))return{data:null,error:s};throw s}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const r=[];return a.width&&r.push(`width=${a.width}`),a.height&&r.push(`height=${a.height}`),a.resize&&r.push(`resize=${a.resize}`),a.format&&r.push(`format=${a.format}`),a.quality&&r.push(`quality=${a.quality}`),r.join("&")}}const Uv="2.76.1",zv={"X-Client-Info":`storage-js/${Uv}`};class S_{constructor(a,r={},s,u){this.shouldThrowOnError=!1;const c=new URL(a);u!=null&&u.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zv),r),this.fetch=Hc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return te(this,void 0,void 0,function*(){try{return{data:yield Kr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ve(a))return{data:null,error:a};throw a}})}getBucket(a){return te(this,void 0,void 0,function*(){try{return{data:yield Kr(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}createBucket(a){return te(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield an(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ve(u))return{data:null,error:u};throw u}})}updateBucket(a,r){return te(this,void 0,void 0,function*(){try{return{data:yield Ec(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ve(s))return{data:null,error:s};throw s}})}emptyBucket(a){return te(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}deleteBucket(a){return te(this,void 0,void 0,function*(){try{return{data:yield $c(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}}class E_{constructor(a,r={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},zv),r),this.fetch=Hc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return te(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}listBuckets(a){return te(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(a==null?void 0:a.limit)!==void 0&&r.set("limit",a.limit.toString()),(a==null?void 0:a.offset)!==void 0&&r.set("offset",a.offset.toString()),a!=null&&a.sortColumn&&r.set("sortColumn",a.sortColumn),a!=null&&a.sortOrder&&r.set("sortOrder",a.sortOrder),a!=null&&a.search&&r.set("search",a.search);const s=r.toString(),u=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`,c=yield Kr(this.fetch,u,{headers:this.headers});return{data:Array.isArray(c)?c.filter(h=>h.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}deleteBucket(a){return te(this,void 0,void 0,function*(){try{return{data:yield $c(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ve(r))return{data:null,error:r};throw r}})}}const Vc={"X-Client-Info":`storage-js/${Uv}`,"Content-Type":"application/json"};class Mv extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ht(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}class nc extends Mv{constructor(a,r,s){super(a),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class x_ extends Mv{constructor(a,r){super(a),this.name="StorageVectorsUnknownError",this.originalError=r}}var wg;(function(l){l.InternalError="InternalError",l.S3VectorConflictException="S3VectorConflictException",l.S3VectorNotFoundException="S3VectorNotFoundException",l.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",l.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",l.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(wg||(wg={}));const Gc=l=>{let a;return l?a=l:typeof fetch>"u"?a=(...r)=>Hi(async()=>{const{default:s}=await Promise.resolve().then(()=>Ha);return{default:s}},void 0).then(({default:s})=>s(...r)):a=fetch,(...r)=>a(...r)},T_=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},Sg=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),O_=(l,a,r)=>te(void 0,void 0,void 0,function*(){if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!(r!=null&&r.noResolveJson)){const u=l.status||500,c=l;if(typeof c.json=="function")c.json().then(d=>{const h=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||u+"";a(new nc(Sg(d),u,h))}).catch(()=>{const d=u+"",h=c.statusText||`HTTP ${u} error`;a(new nc(h,u,d))});else{const d=u+"",h=c.statusText||`HTTP ${u} error`;a(new nc(h,u,d))}}else a(new x_(Sg(l),l))}),j_=(l,a,r,s)=>{const u={method:l,headers:(a==null?void 0:a.headers)||{}};return s?(T_(s)?(u.headers=Object.assign({"Content-Type":"application/json"},a==null?void 0:a.headers),u.body=JSON.stringify(s)):u.body=s,Object.assign(Object.assign({},u),r)):u};function A_(l,a,r,s,u,c){return te(this,void 0,void 0,function*(){return new Promise((d,h)=>{l(r,j_(a,s,u,c)).then(v=>{if(!v.ok)throw v;if(s!=null&&s.noResolveJson)return v;const g=v.headers.get("content-type");return!g||!g.includes("application/json")?{}:v.json()}).then(v=>d(v)).catch(v=>O_(v,h,s))})})}function $t(l,a,r,s,u){return te(this,void 0,void 0,function*(){return A_(l,"POST",a,s,u,r)})}class C_{constructor(a,r={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vc),r),this.fetch=Gc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return te(this,void 0,void 0,function*(){try{return{data:(yield $t(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}getIndex(a,r){return te(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ht(s))return{data:null,error:s};throw s}})}listIndexes(a){return te(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}deleteIndex(a,r){return te(this,void 0,void 0,function*(){try{return{data:(yield $t(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ht(s))return{data:null,error:s};throw s}})}}class R_{constructor(a,r={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vc),r),this.fetch=Gc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return te(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield $t(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}getVectors(a){return te(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}listVectors(a){return te(this,void 0,void 0,function*(){try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:yield $t(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}queryVectors(a){return te(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}deleteVectors(a){return te(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield $t(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}}class N_{constructor(a,r={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Vc),r),this.fetch=Gc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return te(this,void 0,void 0,function*(){try{return{data:(yield $t(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}getBucket(a){return te(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}listBuckets(){return te(this,arguments,void 0,function*(a={}){try{return{data:yield $t(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}deleteBucket(a){return te(this,void 0,void 0,function*(){try{return{data:(yield $t(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}}class k_ extends N_{constructor(a,r={}){super(a,r.headers||{},r.fetch)}from(a){return new D_(this.url,this.headers,a,this.fetch)}}class D_ extends C_{constructor(a,r,s,u){super(a,r,u),this.vectorBucketName=s}createIndex(a){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return te(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return te(this,arguments,void 0,function*(r={}){return a.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return te(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return te(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new U_(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class U_ extends R_{constructor(a,r,s,u,c){super(a,r,c),this.vectorBucketName=s,this.indexName=u}putVectors(a){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return te(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return te(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return te(this,arguments,void 0,function*(r={}){return a.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return te(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return te(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class z_ extends S_{constructor(a,r={},s,u){super(a,r,s,u)}from(a){return new w_(this.url,this.headers,a,this.fetch)}get vectors(){return new k_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new E_(this.url+"/iceberg",this.headers,this.fetch)}}const M_="2.76.1";let Lr="";typeof Deno<"u"?Lr="deno":typeof document<"u"?Lr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lr="react-native":Lr="node";const B_={"X-Client-Info":`supabase-js-${Lr}/${M_}`},L_={headers:B_},q_={schema:"public"},H_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$_={},V_=l=>{let a;return l?a=l:typeof fetch>"u"?a=xv:a=fetch,(...r)=>a(...r)},G_=()=>typeof Headers>"u"?Tv:Headers,Y_=(l,a,r)=>{const s=V_(r),u=G_();return async(c,d)=>{var h;const v=(h=await a())!==null&&h!==void 0?h:l;let g=new u(d==null?void 0:d.headers);return g.has("apikey")||g.set("apikey",l),g.has("Authorization")||g.set("Authorization",`Bearer ${v}`),s(c,Object.assign(Object.assign({},d),{headers:g}))}};function K_(l){return l.endsWith("/")?l:l+"/"}function Q_(l,a){var r,s;const{db:u,auth:c,realtime:d,global:h}=l,{db:v,auth:g,realtime:p,global:b}=a,S={db:Object.assign(Object.assign({},v),u),auth:Object.assign(Object.assign({},g),c),realtime:Object.assign(Object.assign({},p),d),storage:{},global:Object.assign(Object.assign(Object.assign({},b),h),{headers:Object.assign(Object.assign({},(r=b==null?void 0:b.headers)!==null&&r!==void 0?r:{}),(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return l.accessToken?S.accessToken=l.accessToken:delete S.accessToken,S}function J_(l){const a=l==null?void 0:l.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(K_(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Bv="2.76.1",Di=30*1e3,xc=3,ac=xc*Di,X_="http://localhost:9999",I_="supabase.auth.token",Z_={"X-Client-Info":`gotrue-js/${Bv}`},Tc="X-Supabase-Api-Version",Lv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},P_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,W_=600*1e3;class Qr extends Error{constructor(a,r,s){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function se(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class F_ extends Qr{constructor(a,r,s){super(a,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function ew(l){return se(l)&&l.name==="AuthApiError"}class Ba extends Qr{constructor(a,r){super(a),this.name="AuthUnknownError",this.originalError=r}}class da extends Qr{constructor(a,r,s,u){super(a,s,u),this.name=r,this.status=s}}class sa extends da{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tw(l){return se(l)&&l.name==="AuthSessionMissingError"}class Ai extends da{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _l extends da{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class wl extends da{constructor(a,r=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nw(l){return se(l)&&l.name==="AuthImplicitGrantRedirectError"}class Eg extends da{constructor(a,r=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Oc extends da{constructor(a,r){super(a,"AuthRetryableFetchError",r,void 0)}}function ic(l){return se(l)&&l.name==="AuthRetryableFetchError"}class xg extends da{constructor(a,r,s){super(a,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class jc extends da{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Tl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tg=` 	
\r=`.split(""),aw=(()=>{const l=new Array(128);for(let a=0;a<l.length;a+=1)l[a]=-1;for(let a=0;a<Tg.length;a+=1)l[Tg[a].charCodeAt(0)]=-2;for(let a=0;a<Tl.length;a+=1)l[Tl[a].charCodeAt(0)]=a;return l})();function Og(l,a,r){if(l!==null)for(a.queue=a.queue<<8|l,a.queuedBits+=8;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;r(Tl[s]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;r(Tl[s]),a.queuedBits-=6}}function qv(l,a,r){const s=aw[l];if(s>-1)for(a.queue=a.queue<<6|s,a.queuedBits+=6;a.queuedBits>=8;)r(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function jg(l){const a=[],r=d=>{a.push(String.fromCodePoint(d))},s={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},c=d=>{sw(d,s,r)};for(let d=0;d<l.length;d+=1)qv(l.charCodeAt(d),u,c);return a.join("")}function iw(l,a){if(l<=127){a(l);return}else if(l<=2047){a(192|l>>6),a(128|l&63);return}else if(l<=65535){a(224|l>>12),a(128|l>>6&63),a(128|l&63);return}else if(l<=1114111){a(240|l>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function rw(l,a){for(let r=0;r<l.length;r+=1){let s=l.charCodeAt(r);if(s>55295&&s<=56319){const u=(s-55296)*1024&65535;s=(l.charCodeAt(r+1)-56320&65535|u)+65536,r+=1}iw(s,a)}}function sw(l,a,r){if(a.utf8seq===0){if(l<=127){r(l);return}for(let s=1;s<6;s+=1)if((l>>7-s&1)===0){a.utf8seq=s;break}if(a.utf8seq===2)a.codepoint=l&31;else if(a.utf8seq===3)a.codepoint=l&15;else if(a.utf8seq===4)a.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|l&63,a.utf8seq-=1,a.utf8seq===0&&r(a.codepoint)}}function zi(l){const a=[],r={queue:0,queuedBits:0},s=u=>{a.push(u)};for(let u=0;u<l.length;u+=1)qv(l.charCodeAt(u),r,s);return new Uint8Array(a)}function lw(l){const a=[];return rw(l,r=>a.push(r)),new Uint8Array(a)}function La(l){const a=[],r={queue:0,queuedBits:0},s=u=>{a.push(u)};return l.forEach(u=>Og(u,r,s)),Og(null,r,s),a.join("")}function ow(l){return Math.round(Date.now()/1e3)+l}function uw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const a=Math.random()*16|0;return(l=="x"?a:a&3|8).toString(16)})}const qt=()=>typeof window<"u"&&typeof document<"u",Da={tested:!1,writable:!1},Hv=()=>{if(!qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Da.tested)return Da.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),Da.tested=!0,Da.writable=!0}catch{Da.tested=!0,Da.writable=!1}return Da.writable};function cw(l){const a={},r=new URL(l);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((u,c)=>{a[c]=u})}catch{}return r.searchParams.forEach((s,u)=>{a[u]=s}),a}const $v=l=>{let a;return l?a=l:typeof fetch>"u"?a=(...r)=>Hi(async()=>{const{default:s}=await Promise.resolve().then(()=>Ha);return{default:s}},void 0).then(({default:s})=>s(...r)):a=fetch,(...r)=>a(...r)},fw=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",Ui=async(l,a,r)=>{await l.setItem(a,JSON.stringify(r))},Ua=async(l,a)=>{const r=await l.getItem(a);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ra=async(l,a)=>{await l.removeItem(a)};class Nl{constructor(){this.promise=new Nl.promiseConstructor((a,r)=>{this.resolve=a,this.reject=r})}}Nl.promiseConstructor=Promise;function rc(l){const a=l.split(".");if(a.length!==3)throw new jc("Invalid JWT structure");for(let s=0;s<a.length;s++)if(!P_.test(a[s]))throw new jc("JWT not in base64url format");return{header:JSON.parse(jg(a[0])),payload:JSON.parse(jg(a[1])),signature:zi(a[2]),raw:{header:a[0],payload:a[1]}}}async function dw(l){return await new Promise(a=>{setTimeout(()=>a(null),l)})}function hw(l,a){return new Promise((s,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await l(c);if(!a(c,null,d)){s(d);return}}catch(d){if(!a(c,d)){u(d);return}}})()})}function mw(l){return("0"+l.toString(16)).substr(-2)}function gw(){const a=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let u="";for(let c=0;c<56;c++)u+=r.charAt(Math.floor(Math.random()*s));return u}return crypto.getRandomValues(a),Array.from(a,mw).join("")}async function vw(l){const r=new TextEncoder().encode(l),s=await crypto.subtle.digest("SHA-256",r),u=new Uint8Array(s);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}async function yw(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const r=await vw(l);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ci(l,a,r=!1){const s=gw();let u=s;r&&(u+="/PASSWORD_RECOVERY"),await Ui(l,`${a}-code-verifier`,u);const c=await yw(s);return[c,s===c?"plain":"s256"]}const pw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bw(l){const a=l.headers.get(Tc);if(!a||!a.match(pw))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function _w(l){if(!l)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(l<=a)throw new Error("JWT has expired")}function ww(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Sw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ri(l){if(!Sw.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sc(){const l={};return new Proxy(l,{get:(a,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ag(l){return JSON.parse(JSON.stringify(l))}const za=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Ew=[502,503,504];async function Cg(l){var a;if(!fw(l))throw new Oc(za(l),0);if(Ew.includes(l.status))throw new Oc(za(l),l.status);let r;try{r=await l.json()}catch(c){throw new Ba(za(c),c)}let s;const u=bw(l);if(u&&u.getTime()>=Lv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new xg(za(r),l.status,((a=r.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(s==="session_not_found")throw new sa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new xg(za(r),l.status,r.weak_password.reasons);throw new F_(za(r),l.status||500,s)}const xw=(l,a,r,s)=>{const u={method:l,headers:(a==null?void 0:a.headers)||{}};return l==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a==null?void 0:a.headers),u.body=JSON.stringify(s),Object.assign(Object.assign({},u),r))};async function ce(l,a,r,s){var u;const c=Object.assign({},s==null?void 0:s.headers);c[Tc]||(c[Tc]=Lv["2024-01-01"].name),s!=null&&s.jwt&&(c.Authorization=`Bearer ${s.jwt}`);const d=(u=s==null?void 0:s.query)!==null&&u!==void 0?u:{};s!=null&&s.redirectTo&&(d.redirect_to=s.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",v=await Tw(l,a,r+h,{headers:c,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(v):{data:Object.assign({},v),error:null}}async function Tw(l,a,r,s,u,c){const d=xw(a,s,u,c);let h;try{h=await l(r,Object.assign({},d))}catch(v){throw console.error(v),new Oc(za(v),0)}if(h.ok||await Cg(h),s!=null&&s.noResolveJson)return h;try{return await h.json()}catch(v){await Cg(v)}}function nn(l){var a;let r=null;Aw(l)&&(r=Object.assign({},l),l.expires_at||(r.expires_at=ow(l.expires_in)));const s=(a=l.user)!==null&&a!==void 0?a:l;return{data:{session:r,user:s},error:null}}function Rg(l){const a=nn(l);return!a.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(a.data.weak_password=l.weak_password),a}function la(l){var a;return{data:{user:(a=l.user)!==null&&a!==void 0?a:l},error:null}}function Ow(l){return{data:l,error:null}}function jw(l){const{action_link:a,email_otp:r,hashed_token:s,redirect_to:u,verification_type:c}=l,d=qi(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:a,email_otp:r,hashed_token:s,redirect_to:u,verification_type:c},v=Object.assign({},d);return{data:{properties:h,user:v},error:null}}function Ng(l){return l}function Aw(l){return l.access_token&&l.refresh_token&&l.expires_in}const lc=["global","local","others"];class Cw{constructor({url:a="",headers:r={},fetch:s}){this.url=a,this.headers=r,this.fetch=$v(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,r=lc[0]){if(lc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${lc.join(", ")}`);try{return await ce(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}}async inviteUserByEmail(a,r={}){try{return await ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:la})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async generateLink(a){try{const{options:r}=a,s=qi(a,["options"]),u=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(u.new_email=s==null?void 0:s.newEmail,delete u.newEmail),await ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:jw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(se(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(a){try{return await ce(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:la})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async listUsers(a){var r,s,u,c,d,h,v;try{const g={nextPage:null,lastPage:0,total:0},p=await ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=a==null?void 0:a.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(c=(u=a==null?void 0:a.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:Ng});if(p.error)throw p.error;const b=await p.json(),S=(d=p.headers.get("x-total-count"))!==null&&d!==void 0?d:0,T=(v=(h=p.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&v!==void 0?v:[];return T.length>0&&(T.forEach(M=>{const k=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(M.split(";")[1].split("=")[1]);g[`${j}Page`]=k}),g.total=parseInt(S)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(se(g))return{data:{users:[]},error:g};throw g}}async getUserById(a){Ri(a);try{return await ce(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:la})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async updateUserById(a,r){Ri(a);try{return await ce(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:r,headers:this.headers,xform:la})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async deleteUser(a,r=!1){Ri(a);try{return await ce(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:r},xform:la})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async _listFactors(a){Ri(a.userId);try{const{data:r,error:s}=await ce(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:r,error:s}}catch(r){if(se(r))return{data:null,error:r};throw r}}async _deleteFactor(a){Ri(a.userId),Ri(a.id);try{return{data:await ce(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async _listOAuthClients(a){var r,s,u,c,d,h,v;try{const g={nextPage:null,lastPage:0,total:0},p=await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=a==null?void 0:a.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(c=(u=a==null?void 0:a.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:Ng});if(p.error)throw p.error;const b=await p.json(),S=(d=p.headers.get("x-total-count"))!==null&&d!==void 0?d:0,T=(v=(h=p.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&v!==void 0?v:[];return T.length>0&&(T.forEach(M=>{const k=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(M.split(";")[1].split("=")[1]);g[`${j}Page`]=k}),g.total=parseInt(S)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(se(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(a){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _getOAuthClient(a){try{return await ce(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(a){try{return await ce(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(a){try{return await ce(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}}function kg(l={}){return{getItem:a=>l[a]||null,setItem:(a,r)=>{l[a]=r},removeItem:a=>{delete l[a]}}}const Ni={debug:!!(globalThis&&Hv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vv extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Rw extends Vv{}async function Nw(l,a,r){Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,a);const s=new globalThis.AbortController;return a>0&&setTimeout(()=>{s.abort(),Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async u=>{if(u){Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,u.name);try{return await r()}finally{Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,u.name)}}else{if(a===0)throw Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new Rw(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(Ni.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function kw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Gv(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function Dw(l){return parseInt(l,16)}function Uw(l){const a=new TextEncoder().encode(l);return"0x"+Array.from(a,s=>s.toString(16).padStart(2,"0")).join("")}function zw(l){var a;const{chainId:r,domain:s,expirationTime:u,issuedAt:c=new Date,nonce:d,notBefore:h,requestId:v,resources:g,scheme:p,uri:b,version:S}=l;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((a=l.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const T=Gv(l.address),M=p?`${p}://${s}`:s,k=l.statement?`${l.statement}
`:"",j=`${M} wants you to sign in with your Ethereum account:
${T}

${k}`;let Y=`URI: ${b}
Version: ${S}
Chain ID: ${r}${d?`
Nonce: ${d}`:""}
Issued At: ${c.toISOString()}`;if(u&&(Y+=`
Expiration Time: ${u.toISOString()}`),h&&(Y+=`
Not Before: ${h.toISOString()}`),v&&(Y+=`
Request ID: ${v}`),g){let L=`
Resources:`;for(const z of g){if(!z||typeof z!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${z}`);L+=`
- ${z}`}Y+=L}return`${j}
${Y}`}class tt extends Error{constructor({message:a,code:r,cause:s,name:u}){var c;super(a,{cause:s}),this.__isWebAuthnError=!0,this.name=(c=u??(s instanceof Error?s.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=r}}class Ol extends tt{constructor(a,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:a}),this.name="WebAuthnUnknownError",this.originalError=r}}function Mw({error:l,options:a}){var r,s,u;const{publicKey:c}=a;if(!c)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((r=c.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(a.mediation==="conditional"&&((s=c.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((u=c.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new tt({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return c.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const d=window.location.hostname;if(Yv(d)){if(c.rp.id!==d)return new tt({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function Bw({error:l,options:a}){const{publicKey:r}=a;if(!r)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new tt({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const s=window.location.hostname;if(Yv(s)){if(r.rpId!==s)return new tt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class Lw{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const qw=new Lw;function Hw(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:a,user:r,excludeCredentials:s}=l,u=qi(l,["challenge","user","excludeCredentials"]),c=zi(a).buffer,d=Object.assign(Object.assign({},r),{id:zi(r.id).buffer}),h=Object.assign(Object.assign({},u),{challenge:c,user:d});if(s&&s.length>0){h.excludeCredentials=new Array(s.length);for(let v=0;v<s.length;v++){const g=s[v];h.excludeCredentials[v]=Object.assign(Object.assign({},g),{id:zi(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function $w(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:a,allowCredentials:r}=l,s=qi(l,["challenge","allowCredentials"]),u=zi(a).buffer,c=Object.assign(Object.assign({},s),{challenge:u});if(r&&r.length>0){c.allowCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const h=r[d];c.allowCredentials[d]=Object.assign(Object.assign({},h),{id:zi(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function Vw(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const r=l;return{id:l.id,rawId:l.id,response:{attestationObject:La(new Uint8Array(l.response.attestationObject)),clientDataJSON:La(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Gw(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const r=l,s=l.getClientExtensionResults(),u=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:La(new Uint8Array(u.authenticatorData)),clientDataJSON:La(new Uint8Array(u.clientDataJSON)),signature:La(new Uint8Array(u.signature)),userHandle:u.userHandle?La(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Yv(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function Dg(){var l,a;return!!(qt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator==null?void 0:navigator.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.get)=="function")}async function Yw(l){try{const a=await navigator.credentials.create(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Ol("Browser returned unexpected credential type",a)}:{data:null,error:new Ol("Empty credential response",a)}}catch(a){return{data:null,error:Mw({error:a,options:l})}}}async function Kw(l){try{const a=await navigator.credentials.get(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Ol("Browser returned unexpected credential type",a)}:{data:null,error:new Ol("Empty credential response",a)}}catch(a){return{data:null,error:Bw({error:a,options:l})}}}const Qw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Jw={userVerification:"preferred",hints:["security-key"]};function jl(...l){const a=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),r=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),s={};for(const u of l)if(u)for(const c in u){const d=u[c];if(d!==void 0)if(Array.isArray(d))s[c]=d;else if(r(d))s[c]=d;else if(a(d)){const h=s[c];a(h)?s[c]=jl(h,d):s[c]=jl(d)}else s[c]=d}return s}function Xw(l,a){return jl(Qw,l,a||{})}function Iw(l,a){return jl(Jw,l,a||{})}class Zw{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:r,friendlyName:s,signal:u},c){try{const{data:d,error:h}=await this.client.mfa.challenge({factorId:a,webauthn:r});if(!d)return{data:null,error:h};const v=u??qw.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:g}=d.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${s}`),g.displayName||(g.displayName=g.name)}switch(d.webauthn.type){case"create":{const g=Xw(d.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:p,error:b}=await Yw({publicKey:g,signal:v});return p?{data:{factorId:a,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:p}},error:null}:{data:null,error:b}}case"request":{const g=Iw(d.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:p,error:b}=await Kw(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:g,signal:v}));return p?{data:{factorId:a,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:p}},error:null}:{data:null,error:b}}}}catch(d){return se(d)?{data:null,error:d}:{data:null,error:new Ba("Unexpected error in challenge",d)}}}async _verify({challengeId:a,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:a,webauthn:s})}async _authenticate({factorId:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:u}},c){if(!r)return{data:null,error:new Qr("rpId is required for WebAuthn authentication")};try{if(!Dg())return{data:null,error:new Ba("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this.challenge({factorId:a,webauthn:{rpId:r,rpOrigins:s},signal:u},{request:c});if(!d)return{data:null,error:h};const{webauthn:v}=d;return this._verify({factorId:a,challengeId:d.challengeId,webauthn:{type:v.type,rpId:r,rpOrigins:s,credential_response:v.credential_response}})}catch(d){return se(d)?{data:null,error:d}:{data:null,error:new Ba("Unexpected error in authenticate",d)}}}async _register({friendlyName:a,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:u},c){if(!r)return{data:null,error:new Qr("rpId is required for WebAuthn registration")};try{if(!Dg())return{data:null,error:new Ba("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this._enroll({friendlyName:a});if(!d)return await this.client.mfa.listFactors().then(p=>{var b;return(b=p.data)===null||b===void 0?void 0:b.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===a&&S.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:h};const{data:v,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:u},{create:c});return v?this._verify({factorId:d.id,challengeId:v.challengeId,webauthn:{rpId:r,rpOrigins:s,type:v.webauthn.type,credential_response:v.webauthn.credential_response}}):{data:null,error:g}}catch(d){return se(d)?{data:null,error:d}:{data:null,error:new Ba("Unexpected error in register",d)}}}}kw();const Pw={url:X_,storageKey:I_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Z_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ug(l,a,r){return await r()}const ki={};class Jr{get jwks(){var a,r;return(r=(a=ki[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(a){ki[this.storageKey]=Object.assign(Object.assign({},ki[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,r;return(r=(a=ki[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){ki[this.storageKey]=Object.assign(Object.assign({},ki[this.storageKey]),{cachedAt:a})}constructor(a){var r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jr.nextInstanceID,Jr.nextInstanceID+=1,this.instanceID>0&&qt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},Pw),a);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Cw({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=$v(u.fetch),this.lock=u.lock||Ug,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:qt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Nw:this.lock=Ug,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Zw(this)},this.persistSession?(u.storage?this.storage=u.storage:Hv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kg(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=kg(this.memoryStorage)),qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...a){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Bv}) ${new Date().toISOString()}`,...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{const r=cw(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),qt()&&this.detectSessionInUrl&&s!=="none"){const{data:u,error:c}=await this._getSessionFromURL(r,s);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),nw(c)){const v=(a=c.details)===null||a===void 0?void 0:a.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:d,redirectType:h}=u;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return se(r)?{error:r}:{error:new Ba("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var r,s,u;try{const c=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=a==null?void 0:a.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(u=a==null?void 0:a.options)===null||u===void 0?void 0:u.captchaToken}},xform:nn}),{data:d,error:h}=c;if(h||!d)return{data:{user:null,session:null},error:h};const v=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:g,session:v},error:null}}catch(c){if(se(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(a){var r,s,u;try{let c;if("email"in a){const{email:p,password:b,options:S}=a;let T=null,M=null;this.flowType==="pkce"&&([T,M]=await Ci(this.storage,this.storageKey)),c=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:p,password:b,data:(r=S==null?void 0:S.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:T,code_challenge_method:M},xform:nn})}else if("phone"in a){const{phone:p,password:b,options:S}=a;c=await ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:b,data:(s=S==null?void 0:S.data)!==null&&s!==void 0?s:{},channel:(u=S==null?void 0:S.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:nn})}else throw new _l("You must provide either an email or phone number and a password");const{data:d,error:h}=c;if(h||!d)return{data:{user:null,session:null},error:h};const v=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:g,session:v},error:null}}catch(c){if(se(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(a){try{let r;if("email"in a){const{email:c,password:d,options:h}=a;r=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Rg})}else if("phone"in a){const{phone:c,password:d,options:h}=a;r=await ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Rg})}else throw new _l("You must provide either an email or phone number and a password");const{data:s,error:u}=r;return u?{data:{user:null,session:null},error:u}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Ai}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:u})}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(a){var r,s,u,c;return await this._handleProviderSignIn(a.provider,{redirectTo:(r=a.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=a.options)===null||s===void 0?void 0:s.scopes,queryParams:(u=a.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=a.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:r}=a;switch(r){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(a){var r,s,u,c,d,h,v,g,p,b,S;let T,M;if("message"in a)T=a.message,M=a.signature;else{const{chain:k,wallet:j,statement:Y,options:L}=a;let z;if(qt())if(typeof j=="object")z=j;else{const ne=window;if("ethereum"in ne&&typeof ne.ethereum=="object"&&"request"in ne.ethereum&&typeof ne.ethereum.request=="function")z=ne.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=j}const Q=new URL((r=L==null?void 0:L.url)!==null&&r!==void 0?r:window.location.href),K=await z.request({method:"eth_requestAccounts"}).then(ne=>ne).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!K||K.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const H=Gv(K[0]);let D=(s=L==null?void 0:L.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!D){const ne=await z.request({method:"eth_chainId"});D=Dw(ne)}const Z={domain:Q.host,address:H,statement:Y,uri:Q.href,version:"1",chainId:D,nonce:(u=L==null?void 0:L.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(d=(c=L==null?void 0:L.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(h=L==null?void 0:L.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(v=L==null?void 0:L.signInWithEthereum)===null||v===void 0?void 0:v.notBefore,requestId:(g=L==null?void 0:L.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(p=L==null?void 0:L.signInWithEthereum)===null||p===void 0?void 0:p.resources};T=zw(Z),M=await z.request({method:"personal_sign",params:[Uw(T),H]})}try{const{data:k,error:j}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:M},!((b=a.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(S=a.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:nn});if(j)throw j;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Ai}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:j})}catch(k){if(se(k))return{data:{user:null,session:null},error:k};throw k}}async signInWithSolana(a){var r,s,u,c,d,h,v,g,p,b,S,T;let M,k;if("message"in a)M=a.message,k=a.signature;else{const{chain:j,wallet:Y,statement:L,options:z}=a;let Q;if(qt())if(typeof Y=="object")Q=Y;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))Q=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Y!="object"||!(z!=null&&z.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Q=Y}const K=new URL((r=z==null?void 0:z.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Q&&Q.signIn){const H=await Q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},z==null?void 0:z.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),L?{statement:L}:null));let D;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")D=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)D=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)M=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),k=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Q)||typeof Q.signMessage!="function"||!("publicKey"in Q)||typeof Q!="object"||!Q.publicKey||!("toBase58"in Q.publicKey)||typeof Q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");M=[`${K.host} wants you to sign in with your Solana account:`,Q.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(u=(s=z==null?void 0:z.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((c=z==null?void 0:z.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...!((d=z==null?void 0:z.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...!((h=z==null?void 0:z.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...!((v=z==null?void 0:z.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...!((g=z==null?void 0:z.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...!((b=(p=z==null?void 0:z.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||b===void 0)&&b.length?["Resources",...z.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const H=await Q.signMessage(new TextEncoder().encode(M),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=H}}try{const{data:j,error:Y}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:M,signature:La(k)},!((S=a.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(T=a.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:nn});if(Y)throw Y;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Ai}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:Y})}catch(j){if(se(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(a){const r=await Ua(this.storage,`${this.storageKey}-code-verifier`),[s,u]=(r??"").split("/");try{const{data:c,error:d}=await ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:s},xform:nn});if(await ra(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new Ai}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:d})}catch(c){if(se(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(a){try{const{options:r,provider:s,token:u,access_token:c,nonce:d}=a,h=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:u,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:nn}),{data:v,error:g}=h;return g?{data:{user:null,session:null},error:g}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new Ai}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:v,error:g})}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(a){var r,s,u,c,d;try{if("email"in a){const{email:h,options:v}=a;let g=null,p=null;this.flowType==="pkce"&&([g,p]=await Ci(this.storage,this.storageKey));const{error:b}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},create_user:(s=v==null?void 0:v.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:g,code_challenge_method:p},redirectTo:v==null?void 0:v.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in a){const{phone:h,options:v}=a,{data:g,error:p}=await ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(u=v==null?void 0:v.data)!==null&&u!==void 0?u:{},create_user:(c=v==null?void 0:v.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},channel:(d=v==null?void 0:v.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:p}}throw new _l("You must provide either an email or phone number.")}catch(h){if(se(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(a){var r,s;try{let u,c;"options"in a&&(u=(r=a.options)===null||r===void 0?void 0:r.redirectTo,c=(s=a.options)===null||s===void 0?void 0:s.captchaToken);const{data:d,error:h}=await ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:nn});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const v=d.session,g=d.user;return v!=null&&v.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),{data:{user:g,session:v},error:null}}catch(u){if(se(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(a){var r,s,u;try{let c=null,d=null;return this.flowType==="pkce"&&([c,d]=await Ci(this.storage,this.storageKey)),await ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(s=(r=a.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((u=a==null?void 0:a.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:Ow})}catch(c){if(se(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:r},error:s}=a;if(s)throw s;if(!r)throw new sa;const{error:u}=await ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:u}})}catch(a){if(se(a))return{data:{user:null,session:null},error:a};throw a}}async resend(a){try{const r=`${this.url}/resend`;if("email"in a){const{email:s,type:u,options:c}=a,{error:d}=await ce(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in a){const{phone:s,type:u,options:c}=a,{data:d,error:h}=await ce(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new _l("You must provide either an email or phone number and a type")}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(a,r){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await a(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const r=await Ua(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?a=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const s=a.expires_at?a.expires_at*1e3-Date.now()<ac:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",a.expires_at),!s){if(this.userStorage){const d=await Ua(this.userStorage,this.storageKey+"-user");d!=null&&d.user?a.user=d.user:a.user=sc()}if(this.storage.isServer&&a.user){let d=this.suppressGetSessionWarning;a=new Proxy(a,{get:(v,g,p)=>(!d&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(v,g,p))})}return{data:{session:a},error:null}}const{data:u,error:c}=await this._callRefreshToken(a.refresh_token);return c?{data:{session:null},error:c}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(a){return a?await this._getUser(a):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(a){try{return a?await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:la}):await this._useSession(async r=>{var s,u,c;const{data:d,error:h}=r;if(h)throw h;return!(!((s=d.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new sa}:await ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:la})})}catch(r){if(se(r))return tw(r)&&(await this._removeSession(),await ra(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(a,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,r))}async _updateUser(a,r={}){try{return await this._useSession(async s=>{const{data:u,error:c}=s;if(c)throw c;if(!u.session)throw new sa;const d=u.session;let h=null,v=null;this.flowType==="pkce"&&a.email!=null&&([h,v]=await Ci(this.storage,this.storageKey));const{data:g,error:p}=await ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:h,code_challenge_method:v}),jwt:d.access_token,xform:la});if(p)throw p;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(s){if(se(s))return{data:{user:null},error:s};throw s}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new sa;const r=Date.now()/1e3;let s=r,u=!0,c=null;const{payload:d}=rc(a.access_token);if(d.exp&&(s=d.exp,u=s<=r),u){const{data:h,error:v}=await this._callRefreshToken(a.refresh_token);if(v)return{data:{user:null,session:null},error:v};if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:v}=await this._getUser(a.access_token);if(v)throw v;c={access_token:a.access_token,refresh_token:a.refresh_token,user:h.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(r){if(se(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async r=>{var s;if(!a){const{data:d,error:h}=r;if(h)throw h;a=(s=d.session)!==null&&s!==void 0?s:void 0}if(!(a!=null&&a.refresh_token))throw new sa;const{data:u,error:c}=await this._callRefreshToken(a.refresh_token);return c?{data:{user:null,session:null},error:c}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(se(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(a,r){try{if(!qt())throw new wl("No browser detected.");if(a.error||a.error_description||a.error_code)throw new wl(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Eg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Eg("No code detected.");const{data:L,error:z}=await this._exchangeCodeForSession(a.code);if(z)throw z;const Q=new URL(window.location.href);return Q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Q.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:u,access_token:c,refresh_token:d,expires_in:h,expires_at:v,token_type:g}=a;if(!c||!h||!d||!g)throw new wl("No session defined in URL");const p=Math.round(Date.now()/1e3),b=parseInt(h);let S=p+b;v&&(S=parseInt(v));const T=S-p;T*1e3<=Di&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${b}s`);const M=S-b;p-M>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",M,S,p):p-M<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",M,S,p);const{data:k,error:j}=await this._getUser(c);if(j)throw j;const Y={provider_token:s,provider_refresh_token:u,access_token:c,expires_in:b,expires_at:S,refresh_token:d,token_type:g,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:Y,redirectType:a.type},error:null}}catch(s){if(se(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const r=await Ua(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&r)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:u,error:c}=r;if(c)return{error:c};const d=(s=u.session)===null||s===void 0?void 0:s.access_token;if(d){const{error:h}=await this.admin.signOut(d,a);if(h&&!(ew(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return a!=="others"&&(await this._removeSession(),await ra(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(a){const r=uw(),s={id:r,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(a){return await this._useSession(async r=>{var s,u;try{const{data:{session:c},error:d}=r;if(d)throw d;await((s=this.stateChangeEmitters.get(a))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",a,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(a))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",c),console.error(c)}})}async resetPasswordForEmail(a,r={}){let s=null,u=null;this.flowType==="pkce"&&([s,u]=await Ci(this.storage,this.storageKey,!0));try{return await ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:s,code_challenge_method:u,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(se(c))return{data:null,error:c};throw c}}async getUserIdentities(){var a;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(a=r.user.identities)!==null&&a!==void 0?a:[]},error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var r;try{const{data:s,error:u}=await this._useSession(async c=>{var d,h,v,g,p;const{data:b,error:S}=c;if(S)throw S;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(d=a.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=a.options)===null||h===void 0?void 0:h.scopes,queryParams:(v=a.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await ce(this.fetch,"GET",T,{headers:this.headers,jwt:(p=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&p!==void 0?p:void 0})});if(u)throw u;return qt()&&!(!((r=a.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:a.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(se(s))return{data:{provider:a.provider,url:null},error:s};throw s}}async linkIdentityIdToken(a){return await this._useSession(async r=>{var s;try{const{error:u,data:{session:c}}=r;if(u)throw u;const{options:d,provider:h,token:v,access_token:g,nonce:p}=a,b=await ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=c==null?void 0:c.access_token)!==null&&s!==void 0?s:void 0,body:{provider:h,id_token:v,access_token:g,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:nn}),{data:S,error:T}=b;return T?{data:{user:null,session:null},error:T}:!S||!S.session||!S.user?{data:{user:null,session:null},error:new Ai}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),{data:S,error:T})}catch(u){if(se(u))return{data:{user:null,session:null},error:u};throw u}})}async unlinkIdentity(a){try{return await this._useSession(async r=>{var s,u;const{data:c,error:d}=r;if(d)throw d;return await ce(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(u=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&u!==void 0?u:void 0})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _refreshAccessToken(a){const r=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await hw(async u=>(u>0&&await dw(200*Math.pow(2,u-1)),this._debug(r,"refreshing attempt",u),await ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:nn})),(u,c)=>{const d=200*Math.pow(2,u);return c&&ic(c)&&Date.now()+d-s<Di})}catch(s){if(this._debug(r,"error",s),se(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",r,"url",s),qt()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:a,url:s},error:null}}async _recoverAndRefresh(){var a,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const u=await Ua(this.storage,this.storageKey);if(u&&this.userStorage){let d=await Ua(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:u.user},await Ui(this.userStorage,this.storageKey+"-user",d)),u.user=(a=d==null?void 0:d.user)!==null&&a!==void 0?a:sc()}else if(u&&!u.user&&!u.user){const d=await Ua(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(u.user=d.user,await ra(this.storage,this.storageKey+"-user"),await Ui(this.storage,this.storageKey,u)):u.user=sc()}if(this._debug(s,"session from storage",u),!this._isValidSession(u)){this._debug(s,"session is not valid"),u!==null&&await this._removeSession();return}const c=((r=u.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ac;if(this._debug(s,`session has${c?"":" not"} expired with margin of ${ac}s`),c){if(this.autoRefreshToken&&u.refresh_token){const{error:d}=await this._callRefreshToken(u.refresh_token);d&&(console.error(d),ic(d)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:h}=await this._getUser(u.access_token);!h&&(d!=null&&d.user)?(u.user=d.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(s,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(s,"error",u),console.error(u);return}finally{this._debug(s,"end")}}async _callRefreshToken(a){var r,s;if(!a)throw new sa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new Nl;const{data:c,error:d}=await this._refreshAccessToken(a);if(d)throw d;if(!c.session)throw new sa;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={data:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(u,"error",c),se(c)){const d={data:null,error:c};return ic(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(a,r,s=!0){const u=`#_notifyAllSubscribers(${a})`;this._debug(u,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:a,session:r});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(a,r)}catch(v){c.push(v)}});if(await Promise.all(d),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0;const r=Object.assign({},a),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Ui(this.userStorage,this.storageKey+"-user",{user:r.user});const u=Object.assign({},r);delete u.user;const c=Ag(u);await Ui(this.storage,this.storageKey,c)}else{const u=Ag(r);await Ui(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await ra(this.storage,this.storageKey),await ra(this.storage,this.storageKey+"-code-verifier"),await ra(this.storage,this.storageKey+"-user"),this.userStorage&&await ra(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&qt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",a)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Di);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((s.expires_at*1e3-a)/Di);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Di}ms, refresh threshold is ${xc} ticks`),u<=xc&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Vv)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const r=`#_onVisibilityChanged(${a})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,r,s){const u=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&u.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&u.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[c,d]=await Ci(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});u.push(h.toString())}if(s!=null&&s.queryParams){const c=new URLSearchParams(s.queryParams);u.push(c.toString())}return s!=null&&s.skipBrowserRedirect&&u.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${a}?${u.join("&")}`}async _unenroll(a){try{return await this._useSession(async r=>{var s;const{data:u,error:c}=r;return c?{data:null,error:c}:await ce(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(s=u==null?void 0:u.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _enroll(a){try{return await this._useSession(async r=>{var s,u;const{data:c,error:d}=r;if(d)return{data:null,error:d};const h=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:v,error:g}=await ce(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=c==null?void 0:c.session)===null||s===void 0?void 0:s.access_token});return g?{data:null,error:g}:(a.factorType==="totp"&&v.type==="totp"&&(!((u=v==null?void 0:v.totp)===null||u===void 0)&&u.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),{data:v,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:u,error:c}=r;if(c)return{data:null,error:c};const d=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Vw(a.webauthn.credential_response):Gw(a.webauthn.credential_response)})}:{code:a.code}),{data:h,error:v}=await ce(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:d,headers:this.headers,jwt:(s=u==null?void 0:u.session)===null||s===void 0?void 0:s.access_token});return v?{data:null,error:v}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:v})})}catch(r){if(se(r))return{data:null,error:r};throw r}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:u,error:c}=r;if(c)return{data:null,error:c};const d=await ce(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(s=u==null?void 0:u.session)===null||s===void 0?void 0:s.access_token});if(d.error)return d;const{data:h}=d;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:Hw(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:$w(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(se(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(a){const{data:r,error:s}=await this._challenge({factorId:a.factorId});return s?{data:null,error:s}:await this._verify({factorId:a.factorId,challengeId:r.id,code:a.code})}async _listFactors(){var a;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const u={all:[],phone:[],totp:[],webauthn:[]};for(const c of(a=r==null?void 0:r.factors)!==null&&a!==void 0?a:[])u.all.push(c),c.status==="verified"&&u[c.factor_type].push(c);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async a=>{var r,s;const{data:{session:u},error:c}=a;if(c)return{data:null,error:c};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=rc(u.access_token);let h=null;d.aal&&(h=d.aal);let v=h;((s=(r=u.user.factors)===null||r===void 0?void 0:r.filter(b=>b.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(v="aal2");const p=d.amr||[];return{data:{currentLevel:h,nextLevel:v,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(a,r={keys:[]}){let s=r.keys.find(h=>h.kid===a);if(s)return s;const u=Date.now();if(s=this.jwks.keys.find(h=>h.kid===a),s&&this.jwks_cached_at+W_>u)return s;const{data:c,error:d}=await ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=u,s=c.keys.find(h=>h.kid===a),!s)?null:s}async getClaims(a,r={}){try{let s=a;if(!s){const{data:T,error:M}=await this.getSession();if(M||!T.session)return{data:null,error:M};s=T.session.access_token}const{header:u,payload:c,signature:d,raw:{header:h,payload:v}}=rc(s);r!=null&&r.allowExpired||_w(c.exp);const g=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!g){const{error:T}=await this.getUser(s);if(T)throw T;return{data:{claims:c,header:u,signature:d},error:null}}const p=ww(u.alg),b=await crypto.subtle.importKey("jwk",g,p,!0,["verify"]);if(!await crypto.subtle.verify(p,b,d,lw(`${h}.${v}`)))throw new jc("Invalid JWT signature");return{data:{claims:c,header:u,signature:d},error:null}}catch(s){if(se(s))return{data:null,error:s};throw s}}}Jr.nextInstanceID=0;const Ww=Jr;class Fw extends Ww{constructor(a){super(a)}}class eS{constructor(a,r,s){var u,c,d;this.supabaseUrl=a,this.supabaseKey=r;const h=J_(a);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const v=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:q_,realtime:$_,auth:Object.assign(Object.assign({},H_),{storageKey:v}),global:L_},p=Q_(s??{},g);this.storageKey=(u=p.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(c=p.global.headers)!==null&&c!==void 0?c:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(b,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=p.auth)!==null&&d!==void 0?d:{},this.headers,p.global.fetch),this.fetch=Y_(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new Xb(new URL("rest/v1",h).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new z_(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Lb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,r,s)}channel(a,r={config:{}}){return this.realtime.channel(a,r)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a,r;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(r=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:r,detectSessionInUrl:s,storage:u,userStorage:c,storageKey:d,flowType:h,lock:v,debug:g},p,b){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fw({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),p),storageKey:d,autoRefreshToken:a,persistSession:r,detectSessionInUrl:s,storage:u,userStorage:c,flowType:h,lock:v,debug:g,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new f_(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a==null?void 0:a.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(a,r,s){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tS=(l,a,r)=>new eS(l,a,r);function nS(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const a=l.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}nS()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const aS="https://sxkgemidgdggpvtkjqev.supabase.co",iS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN4a2dlbWlkZ2RnZ3B2dGtqcWV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMDI4MzEsImV4cCI6MjA3Njc3ODgzMX0.vjWI2vgqhTkSNMhHu2JFezGLvMjF_4f-tNw5eGPexsg",re=tS(aS,iS,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"sb-auth-whizkidanime"}}),Kv=R.createContext(void 0),rS=({children:l})=>{const[a,r]=R.useState(null),[s,u]=R.useState(null),[c,d]=R.useState(!0);R.useEffect(()=>{(async()=>{try{const{data:{session:b}}=await re.auth.getSession();r(b),u((b==null?void 0:b.user)??null)}catch(b){console.error("Error getting session:",b)}finally{d(!1)}})();const{data:{subscription:p}}=re.auth.onAuthStateChange((b,S)=>{r(S),u((S==null?void 0:S.user)??null)});return()=>{p==null||p.unsubscribe()}},[]);const v={session:a,user:s,loading:c,signOut:async()=>{await re.auth.signOut()}};return _.jsx(Kv.Provider,{value:v,children:!c&&l})},$a=()=>{const l=R.useContext(Kv);if(l===void 0)throw new Error("useAuth must be used within an AuthProvider");return l},oc=new Map;function Yc({key:l,initialState:a,ttl:r=600*1e3}){const s=R.useRef(!1),[u,c]=R.useState(()=>{const h=oc.get(l);if(h){if(Date.now()-h.timestamp<r)return h.data;oc.delete(l)}return a}),d=R.useCallback(()=>{oc.set(l,{data:u,timestamp:Date.now()})},[l,u]);return R.useEffect(()=>(s.current=!0,()=>{s.current=!1,d()}),[d]),[u,c,d]}const Qv="tab_navigation_paths",sS=1800*1e3,uc={calendar:"/calendar",templates:"/templates",profile:"/profile",lastUpdated:Date.now()},Jv=()=>{try{const l=localStorage.getItem(Qv);if(!l)return uc;const a=JSON.parse(l);return Date.now()-a.lastUpdated>sS?uc:a}catch{return uc}},lS=(l,a)=>{try{const s={...Jv(),[l]:a,lastUpdated:Date.now()};localStorage.setItem(Qv,JSON.stringify(s))}catch{}},zg=l=>l.startsWith("/calendar")||l.startsWith("/workout")?"calendar":l.startsWith("/templates")?"templates":l.startsWith("/profile")?"profile":null,oS=()=>{const l=Dn(),a=fa();return R.useEffect(()=>{const s=zg(l.pathname);s&&lS(s,l.pathname)},[l.pathname]),{navigateToTab:s=>{const c=Jv()[s];zg(l.pathname)!==s&&a(c)}}},uS=()=>{const l=Dn(),{navigateToTab:a}=oS(),r=R.useRef(null),s=[{key:"calendar",label:"Календарь",icon:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{key:"templates",label:"Шаблоны",icon:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})},{key:"profile",label:"Профиль",icon:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}],u=R.useMemo(()=>{const h=l.pathname;return h.startsWith("/calendar")||h.startsWith("/workout")?0:h.startsWith("/templates")?1:h.startsWith("/profile")?2:0},[l.pathname]),c=h=>{if(h.key!=="ArrowLeft"&&h.key!=="ArrowRight")return;h.preventDefault();const v=h.key==="ArrowRight"?1:-1,g=(u+v+s.length)%s.length;a(s[g].key)},d={"--tabs-count":s.length,"--active-index":u};return R.useLayoutEffect(()=>{const h=r.current;if(!h)return;const v=()=>{const p=h.offsetHeight;document.documentElement.style.setProperty("--dock-total-h",`${p}px`)};v();const g=new ResizeObserver(v);return g.observe(h),window.addEventListener("resize",v),window.addEventListener("orientationchange",v),()=>{g.disconnect(),window.removeEventListener("resize",v),window.removeEventListener("orientationchange",v)}},[]),_.jsx("nav",{ref:r,className:"bottom-dock-wrapper","aria-label":"Нижняя навигация",children:_.jsx("div",{className:"bottom-dock glass-dock",role:"tablist","aria-orientation":"horizontal",onKeyDown:c,style:d,children:_.jsxs("div",{className:"dock-track",children:[_.jsx("div",{className:"dock-indicator","aria-hidden":"true"}),s.map((h,v)=>_.jsxs("button",{onClick:()=>a(h.key),className:`dock-item ${u===v?"active":""}`,role:"tab","aria-selected":u===v,children:[_.jsx("span",{className:"icon","aria-hidden":"true",children:h.icon}),_.jsx("span",{className:"label",children:h.label})]},h.key))]})})})},cS=()=>_.jsxs("div",{className:"flex flex-col h-[100svh]",children:[_.jsx("main",{className:"flex-1",style:{paddingBottom:"var(--dock-total-h, 96px)"},children:_.jsx(pb,{})}),_.jsx(uS,{})]}),fS=({children:l})=>{const{session:a,loading:r}=$a(),s=Dn();return r?_.jsx("div",{className:"flex items-center justify-center h-screen bg-background text-foreground",children:_.jsx("p",{children:"Загрузка..."})}):a?l??null:_.jsx(Pg,{to:"/login",state:{from:s},replace:!0})},dS=()=>{const{session:l}=$a(),a=fa(),[r,s]=R.useState(!1),[u,c]=R.useState(""),[d,h]=R.useState(""),[v,g]=R.useState(!1),[p,b]=R.useState(""),[S,T]=R.useState("");R.useEffect(()=>{l&&a("/calendar",{replace:!0})},[l,a]);const M=async j=>{j.preventDefault(),g(!0),b(""),T("");const Y=u.includes("@")?u:`${u}@gymlog.app`;try{if(r){const{error:L}=await re.auth.signUp({email:Y,password:d});if(L)throw L;b("Регистрация успешна! Теперь вы можете войти."),s(!1)}else{const{error:L}=await re.auth.signInWithPassword({email:Y,password:d});if(L)throw L}}catch(L){T(L.message||"Произошла ошибка")}finally{g(!1)}},k=async()=>{g(!0),T("");const j=`${window.location.origin}/GymLog/`,{error:Y}=await re.auth.signInWithOAuth({provider:"google",options:{redirectTo:j}});Y&&(T(Y.message),g(!1))};return _.jsx("div",{className:"flex items-center justify-center min-h-screen px-4",style:{background:"#0a0a0b"},children:_.jsxs("div",{className:"w-full max-w-sm p-8 space-y-4 glass card-dark rounded-lg shadow-md",children:[_.jsx("h1",{className:"text-2xl font-bold text-center",style:{color:"#e4e4e7"},children:"GymLog"}),_.jsx("p",{className:"text-center",style:{color:"#a1a1aa"},children:r?"Создайте аккаунт":"Войдите в свой аккаунт"}),_.jsxs("form",{onSubmit:M,className:"space-y-4",autoComplete:"off",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"nickname",className:"sr-only",children:"Никнейм"}),_.jsx("input",{id:"nickname",type:"text",placeholder:r?"Придумайте никнейм":"Ваш никнейм",value:u,onChange:j=>c(j.target.value),required:!0,name:"nickname",autoComplete:"off",className:"w-full px-4 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",style:{backgroundColor:"#18181b",color:"#0a0a0a",border:"1px solid #3f3f46"}})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"password",className:"sr-only",children:"Пароль"}),_.jsx("input",{id:"password",type:"password",placeholder:"••••••••",value:d,onChange:j=>h(j.target.value),required:!0,minLength:6,name:r?"new-password":"current-password",autoComplete:r?"new-password":"off",className:"w-full px-4 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",style:{backgroundColor:"#18181b",color:"#0a0a0a",border:"1px solid #3f3f46"}})]}),_.jsx("button",{type:"submit",disabled:v,className:"w-full px-4 py-2 font-semibold text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:v?"Загрузка...":r?"Зарегистрироваться":"Войти"})]}),p&&_.jsx("p",{className:"text-center text-sm text-green-600",children:p}),S&&_.jsx("p",{className:"text-center text-sm text-red-500",children:S}),_.jsxs("p",{className:"text-sm text-center text-gray-600",children:[r?"Уже есть аккаунт?":"Нет аккаунта?",_.jsx("button",{type:"button",onClick:()=>{s(!r),b(""),T("")},className:"ml-1 font-semibold text-blue-600 hover:underline",children:r?"Войти":"Зарегистрироваться"})]}),_.jsxs("div",{className:"relative flex items-center py-2",children:[_.jsx("div",{className:"flex-grow border-t border-gray-300"}),_.jsx("span",{className:"flex-shrink mx-4 text-xs text-gray-500",children:"ИЛИ"}),_.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),_.jsxs("button",{onClick:k,disabled:v,className:"w-full flex items-center justify-center px-4 py-2 font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 transition-colors",children:[_.jsx("svg",{className:"w-5 h-5 mr-2","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:_.jsx("path",{fill:"currentColor",d:"M488 261.8C488 403.3 381.5 512 244 512 110.3 512 0 398.8 0 256S110.3 0 244 0c73 0 135.5 28.2 182.3 74.3l-64.3 62.1C337 113.4 294.3 96 244 96c-85.6 0-154.5 68.9-154.5 160s68.9 160 154.5 160c97.9 0 135-71.2 138.6-106.2H244v-75.3h236.1c2.4 12.6 3.9 26.2 3.9 41z"})}),"Войти через Google"]})]})})},hS=l=>new Date(l.getFullYear(),l.getMonth()+1,0).getDate(),mS=l=>{const a=new Date(l.getFullYear(),l.getMonth(),1).getDay();return a===0?6:a-1},qr=l=>{const a=l.getFullYear(),r=(l.getMonth()+1).toString().padStart(2,"0"),s=l.getDate().toString().padStart(2,"0");return`${a}-${r}-${s}`},gS=l=>l.toLocaleString("ru-RU",{month:"long",year:"numeric"}),cc=l=>{if(!l||!/^\d{4}-\d{2}-\d{2}$/.test(l))return l;const[a,r,s]=l.split("-");return`${s}.${r}.${a}`},Br=new Map,Mg=3e4,vS=()=>{var K,H;const{user:l}=$a(),a=fa(),r=Dn(),[s,u]=Yc({key:"calendar-page",initialState:{currentDate:new Date,workouts:[],loading:!0,hasInitialData:!1},ttl:1800*1e3}),{currentDate:c,workouts:d,loading:h,hasInitialData:v}=s,g=D=>{u(Z=>({...Z,currentDate:D}))},p=D=>{u(Z=>({...Z,workouts:D}))},b=D=>{u(Z=>({...Z,loading:D}))},S=D=>{u(Z=>({...Z,hasInitialData:D}))},T=R.useCallback(async(D=!1,Z=!1)=>{if(!l)return;const ne=`${l.id}:${c.getFullYear()}-${c.getMonth()}`,he=Date.now();let Le=Z;if(Br.has(ne)){const B=Br.get(ne),X=he-B.timestamp;if(D&&X<Mg){v||(p(B.workouts),b(!1),S(!0));return}X>=Mg&&(v||(p(B.workouts),S(!0)),Le=!0)}Le||b(!0);const Ge=new Date(c.getFullYear(),c.getMonth(),1),vt=new Date(c.getFullYear(),c.getMonth()+1,0),{data:pt,error:rt}=await re.from("workouts").select("id, workout_date").eq("user_id",l.id).gte("workout_date",qr(Ge)).lte("workout_date",qr(vt));if(rt)console.error("Error fetching workouts:",rt);else{const B=pt||[];p(B),Br.set(ne,{workouts:B,timestamp:he})}b(!1),S(!0)},[l,c,v]);R.useEffect(()=>{v||T()},[c.getFullYear(),c.getMonth(),l]),R.useEffect(()=>{var ne;if(!l||!((ne=r.state)==null?void 0:ne.removedDate))return;const Z=`${l.id}:${c.getFullYear()}-${c.getMonth()}`;Br.delete(Z),T(!1,!1)},[(K=r.state)==null?void 0:K.removedDate,l,c,T]),R.useEffect(()=>{var ne;if(!l||!((ne=r.state)==null?void 0:ne.refreshDate))return;const Z=`${l.id}:${c.getFullYear()}-${c.getMonth()}`;Br.delete(Z),T(!1,!1)},[(H=r.state)==null?void 0:H.refreshDate,l,c,T]),R.useEffect(()=>{const D=()=>{document.visibilityState==="visible"&&T(!0)};return document.addEventListener("visibilitychange",D),()=>document.removeEventListener("visibilitychange",D)},[T]);const M=hS(c),k=mS(c),j=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],Y=new Date,L=D=>{const Z=new Date(c.getFullYear(),c.getMonth(),D);a(`/workout/${qr(Z)}`)},z=D=>{const Z=new Date(c.getFullYear(),c.getMonth()+D,1);g(Z),S(!1)},Q=new Set(d.map(D=>D.workout_date));return _.jsx("div",{className:"px-4 pt-4 pb-4 w-full max-w-5xl mx-auto flex flex-col items-center",children:h&&!v?_.jsx("div",{className:"fixed inset-0 flex items-center justify-center",style:{background:"transparent"},children:_.jsxs("div",{className:"flex flex-col items-center gap-4",children:[_.jsx("div",{className:"relative w-12 h-12",children:_.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-blue-500 border-r-blue-500 rounded-full animate-spin"})}),_.jsx("p",{className:"text-white text-center",children:"Загрузка календаря..."})]})}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex justify-between items-center mb-6 glass p-2 rounded-xl w-full max-w-xl",children:[_.jsx("button",{onClick:()=>z(-1),className:"p-2 rounded-full border border-transparent text-white hover:border-white active:border-white transition-colors",children:"<"}),_.jsx("h1",{className:"text-xl font-bold text-center capitalize",children:gS(c)}),_.jsx("button",{onClick:()=>z(1),className:"p-2 rounded-full border border-transparent text-white hover:border-white active:border-white transition-colors",children:">"})]}),_.jsx("div",{className:"grid grid-cols-7 gap-3 text-center text-sm text-gray-500 mb-3 w-full max-w-xl",children:j.map(D=>_.jsx("div",{children:D},D))}),_.jsxs("div",{className:"grid grid-cols-7 gap-2 w-full max-w-xl",children:[Array.from({length:k}).map((D,Z)=>_.jsx("div",{},`empty-${Z}`)),Array.from({length:M},(D,Z)=>Z+1).map(D=>{const Z=D===Y.getDate()&&c.getMonth()===Y.getMonth()&&c.getFullYear()===Y.getFullYear(),ne=qr(new Date(c.getFullYear(),c.getMonth(),D)),he=Q.has(ne);return _.jsxs("div",{onClick:()=>L(D),className:"relative flex items-center justify-center h-10 w-10 sm:h-11 sm:w-11 md:h-12 md:w-12 lg:h-14 lg:w-14 rounded-full cursor-pointer mx-auto overflow-visible",children:[_.jsx("span",{className:`flex items-center justify-center h-8 w-8 sm:h-9 sm:w-9 md:h-10 md:w-10 lg:h-12 lg:w-12 rounded-full border ${Z?"bg-blue-600 text-white border-transparent":"text-gray-100 border-transparent hover:border-white active:border-white"} transition-colors`,children:D}),he&&_.jsx("div",{className:"pointer-events-none absolute bottom-0 translate-y-1/2 h-1.5 w-1.5 bg-blue-500 rounded-full"})]},D)})]})]})})};function Al(l,a){const[r,s]=R.useState(l);return R.useEffect(()=>{const u=setTimeout(()=>{s(l)},a);return()=>{clearTimeout(u)}},[l,a]),r}const yS=({set:l,onChange:a})=>{const r=`workout_set_draft:${l.id}`,[s,u]=R.useState(l.weight??""),[c,d]=R.useState(l.reps??""),[h,v]=R.useState(l.is_done),[g,p]=R.useState(!1),b=Al(s,500),S=Al(c,500);R.useEffect(()=>{try{const j=localStorage.getItem(r);if(!j)return;const Y=JSON.parse(j),L=new Date(l.updated_at).getTime();Y.updatedAt>L&&(u(Y.weight===null?"":Y.weight),d(Y.reps??""),v(Y.isDone))}catch{}},[]),R.useEffect(()=>{v(l.is_done)},[l.is_done]),R.useEffect(()=>{(async()=>{if(b!==(l.weight??"")||S!==(l.reps??"")){const Y={weight:b===""?"":Number(b),reps:S===""?null:S,isDone:h,updatedAt:Date.now()};try{localStorage.setItem(r,JSON.stringify(Y))}catch{}p(!0);const{error:L}=await re.from("workout_sets").update({weight:b===""?null:Number(b),reps:S===""?null:S,updated_at:new Date().toISOString()}).eq("id",l.id);if(L)console.error("Error saving set:",L);else{try{localStorage.removeItem(r)}catch{}a==null||a({...l,weight:b===""?null:Number(b),reps:S===""?null:S,is_done:h,updated_at:new Date().toISOString()})}setTimeout(()=>p(!1),500)}})()},[b,S,l.id,l.weight,l.reps,h,r]),R.useEffect(()=>{const L=b!==""&&b!==0&&b!=="0"&&(S!==""&&S!==null);L&&!h?v(!0):!L&&h&&v(!1)},[b,S,h]);const T=async()=>{const j=!h;v(j),p(!0);try{localStorage.setItem(r,JSON.stringify({weight:s===""?"":Number(s),reps:c===""?null:c,isDone:j,updatedAt:Date.now()}))}catch{}const{error:Y}=await re.from("workout_sets").update({is_done:j,updated_at:new Date().toISOString()}).eq("id",l.id);Y&&(console.error("Error updating done status:",Y),v(!j));try{localStorage.removeItem(r)}catch{}setTimeout(()=>p(!1),500),a==null||a({...l,is_done:j,updated_at:new Date().toISOString()})},M=h?"bg-green-500":"bg-transparent",k=h?"text-black":"text-inherit";return _.jsxs("div",{className:`relative grid grid-cols-5 gap-2 items-center p-2 rounded-md transition-colors duration-300 ${M}`,children:[_.jsx("div",{className:`col-span-1 text-center font-medium ${k}`,children:l.set_index}),_.jsx("div",{className:"col-span-2",children:_.jsx("input",{type:"number",step:"0.25",placeholder:"0",value:s,onChange:j=>u(j.target.value),className:`w-full p-1 text-center rounded-md border-gray-600 shadow-sm ${k}`,style:{backgroundColor:h?"#ffffff":"#18181b",color:h?"#0a0a0a":"#fafafa"}})}),_.jsx("div",{className:"col-span-1",children:_.jsx("input",{type:"text",placeholder:"0",value:c,onChange:j=>d(j.target.value),className:`w-full p-1 text-center rounded-md border-gray-600 shadow-sm ${k}`,style:{backgroundColor:h?"#ffffff":"#18181b",color:h?"#0a0a0a":"#fafafa"}})}),_.jsx("div",{className:"col-span-1 flex justify-center",children:_.jsx("input",{type:"checkbox",checked:h,onChange:T,className:"h-6 w-6 rounded-sm border border-gray-300 bg-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500",style:{accentColor:"#000000",color:"#0a0a0a"}})}),g&&_.jsx("div",{className:"absolute right-2 top-2 h-2 w-2 bg-blue-500 rounded-full animate-ping"})]})},pS=({restSeconds:l,exerciseId:a,onAdjustRestSeconds:r})=>{const s=a?`rest_timer:${a}`:void 0,u=R.useRef(null),c=R.useRef(l),d=R.useRef({time:l,isActive:!1,endAt:null}),[h,v]=R.useState(()=>{if(!s)return{time:l,isActive:!1,endAt:null};try{const L=localStorage.getItem(s);if(!L)return{time:l,isActive:!1,endAt:null};const z=JSON.parse(L),Q=360*60*1e3;if(Date.now()-z.savedAt>Q)return localStorage.removeItem(s),{time:l,isActive:!1,endAt:null};if(z.isActive&&z.endAt){const K=Math.max(0,Math.floor((z.endAt-Date.now())/1e3));return K>0?{time:K,isActive:!0,endAt:z.endAt}:(localStorage.removeItem(s),{time:z.restSeconds,isActive:!1,endAt:null})}return{time:z.restSeconds,isActive:!1,endAt:null}}catch(L){return console.error("Error restoring timer state:",L),{time:l,isActive:!1,endAt:null}}}),{time:g,isActive:p,endAt:b}=h,S=R.useCallback((L,z)=>{if(s)try{const Q={endAt:L.endAt,isActive:L.isActive,restSeconds:z??d.current.time??l,savedAt:Date.now()};localStorage.setItem(s,JSON.stringify(Q))}catch(Q){console.error("Error persisting timer:",Q)}},[s,l]),T=R.useRef(S);R.useEffect(()=>{T.current=S},[S]),R.useEffect(()=>{d.current={time:g,isActive:p,endAt:b}},[g,p,b]),R.useEffect(()=>{if(!p||!b){u.current&&(window.clearInterval(u.current),u.current=null);return}let L=!1;const z=()=>{if(L)return;const K=Date.now(),H=Math.max(0,b-K),D=Math.floor(H/1e3);v(Z=>({...Z,time:D})),D<=0&&(L=!0,v(Z=>({...Z,isActive:!1,endAt:null,time:l})),u.current&&(window.clearInterval(u.current),u.current=null),s&&localStorage.removeItem(s))};z();const Q=window.setInterval(z,1e3);return u.current=Q,()=>{L=!0,u.current&&(window.clearInterval(u.current),u.current=null)}},[p,b,s,l]),R.useEffect(()=>{!p&&l!==c.current&&v(L=>({...L,time:l})),c.current=l},[l,p]),R.useEffect(()=>()=>{u.current&&(window.clearInterval(u.current),u.current=null);const{isActive:L,endAt:z}=d.current;L&&z&&T.current({endAt:z,isActive:!0})},[]);const M=()=>{v(L=>{if(L.isActive)return S({endAt:null,isActive:!1},L.time),u.current&&(window.clearInterval(u.current),u.current=null),{time:L.time,isActive:!1,endAt:null};const z=Date.now()+L.time*1e3;return S({endAt:z,isActive:!0},L.time),{time:L.time,isActive:!0,endAt:z}})},k=()=>{v({time:l,isActive:!1,endAt:null}),u.current&&(window.clearInterval(u.current),u.current=null),s&&localStorage.removeItem(s)},j=L=>{v(z=>{const Q=Math.max(0,z.time+L);if(Q===0)return S({endAt:null,isActive:!1},0),u.current&&(window.clearInterval(u.current),u.current=null),{time:0,isActive:!1,endAt:null};if(z.isActive){const K=Date.now()+Q*1e3;return S({endAt:K,isActive:!0},Q),{time:Q,isActive:!0,endAt:K}}return S({endAt:null,isActive:!1},Q),{time:Q,isActive:!1,endAt:null}}),r==null||r(L)},Y=L=>{const z=Math.floor(L/60),Q=L%60;return`${z}:${Q<10?"0":""}${Q}`};return _.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"flex items-center justify-center gap-4",children:[_.jsx("button",{onClick:()=>j(-30),disabled:g<=0&&!p,className:"btn-glass btn-glass-icon-round btn-glass-secondary",children:"-"}),_.jsx("div",{className:`text-6xl font-mono font-semibold leading-none min-w-[4ch] text-center ${p?"text-blue-500":""}`,children:Y(g)}),_.jsx("button",{onClick:()=>j(30),className:"btn-glass btn-glass-icon-round btn-glass-secondary",children:"+"})]}),_.jsxs("div",{className:"mt-4 flex items-center justify-center gap-3",children:[_.jsx("button",{onClick:M,className:`btn-glass btn-glass-icon-sm ${p?"btn-glass-danger":"btn-glass-primary"}`,children:p?"Стоп":"Старт"}),_.jsx("button",{onClick:k,className:"btn-glass btn-glass-icon-sm btn-glass-secondary",children:"Сброс"})]})]})},kl=({open:l,title:a="Подтвердите действие",description:r,confirmText:s="Подтвердить",cancelText:u="Отмена",variant:c="primary",onConfirm:d,onOpenChange:h})=>{const[v,g]=R.useState(!1);if(R.useEffect(()=>{const b=S=>{l&&S.key==="Escape"&&h(!1)};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[l,h]),!l)return null;const p=async()=>{try{g(!0),await d(),h(!1)}catch{}finally{g(!1)}};return O0.createPortal(_.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",role:"dialog","aria-modal":"true",children:[_.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>h(!1)}),_.jsxs("div",{className:"relative w-full max-w-md glass card-dark rounded-xl shadow-xl p-5",children:[_.jsxs("div",{className:"mb-3",children:[_.jsx("h2",{className:"text-lg font-semibold text-white",children:a}),r&&_.jsx("p",{className:"mt-1 text-sm",style:{color:"#a1a1aa"},children:r})]}),_.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[_.jsx("button",{type:"button",className:"btn-glass btn-glass-sm btn-glass-secondary",onClick:()=>h(!1),disabled:v,children:u}),_.jsx("button",{type:"button",className:`btn-glass btn-glass-sm ${c==="danger"?"btn-glass-danger":"btn-glass-primary"}`,onClick:p,disabled:v,children:v?"Выполнение...":s})]})]})]}),document.body)},bS=({exercise:l,onUpdateExercise:a,onDeleteExercise:r})=>{var K;const[s,u]=R.useState(l.name),[c,d]=R.useState(l.sets),[h,v]=R.useState(l.rest_seconds),[g,p]=R.useState(!1),b=R.useRef(null),S=Al(s,500),T=Al(h,500),[M,k]=R.useState(!1),j=R.useRef(l.name),Y=R.useCallback(()=>{const H=b.current;H&&(H.style.height="auto",H.style.height=`${H.scrollHeight}px`)},[]);R.useEffect(()=>{l.name!==j.current&&(u(l.name),j.current=l.name),d(l.sets),v(l.rest_seconds)},[l.id,l.sets,l.rest_seconds]),R.useLayoutEffect(()=>{Y()},[Y,s]),R.useLayoutEffect(()=>{if(typeof ResizeObserver>"u")return;const H=b.current;if(!H)return;const D=new ResizeObserver(()=>{Y()});return D.observe(H),()=>D.disconnect()},[Y]),R.useEffect(()=>{(async()=>{if(!(S.trim()===""||S===l.name))try{await re.from("workout_exercises").update({name:S}).eq("id",l.id);const D={...l,name:S};j.current=S,a(D)}catch(D){console.error("Failed to update exercise name",D)}})()},[S]),R.useEffect(()=>{(async()=>{if(T!==l.rest_seconds)try{await re.from("workout_exercises").update({rest_seconds:T}).eq("id",l.id);const D={...l,rest_seconds:T};a(D)}catch(D){console.error("Failed to update rest seconds",D)}})()},[T,l,a]);const L=H=>{v(D=>Math.max(0,D+H))},z=async H=>{if(!(H<1||H===c||g)){p(!0);try{if(H>c){const D=Array.from({length:H-c},(Ge,vt)=>({workout_exercise_id:l.id,set_index:c+vt+1})),{data:Z,error:ne}=await re.from("workout_sets").insert(D).select();if(ne)throw ne;const he=[...l.workout_sets,...Z||[]].sort((Ge,vt)=>Ge.set_index-vt.set_index);await re.from("workout_exercises").update({sets:H}).eq("id",l.id);const Le={...l,sets:H,workout_sets:he};a(Le)}else{const{error:D}=await re.from("workout_sets").delete().eq("workout_exercise_id",l.id).gt("set_index",H);if(D)throw D;const Z=l.workout_sets.filter(he=>he.set_index<=H);await re.from("workout_exercises").update({sets:H}).eq("id",l.id);const ne={...l,sets:H,workout_sets:Z};a(ne)}d(H)}catch(D){console.error("Failed to change sets count",D),alert("Не удалось изменить количество подходов")}finally{p(!1)}}},Q=async()=>{const{error:H}=await re.from("workout_sets").delete().eq("workout_exercise_id",l.id);if(H){console.error("Failed to delete sets of exercise",H),alert("Не удалось удалить подходы упражнения. Попробуйте снова.");return}const{error:D}=await re.from("workout_exercises").delete().eq("id",l.id);if(D){console.error("Failed to delete exercise",D),alert("Не удалось удалить упражнение. Попробуйте снова.");return}r&&r(l.id)};return _.jsxs("div",{className:"glass card-dark p-4 exercise-card",children:[_.jsxs("div",{className:"exercise-card-header mb-3",children:[_.jsx("div",{className:"name-wrap",children:_.jsx("textarea",{value:s,onChange:H=>u(H.target.value),ref:b,rows:1,className:"w-full text-base sm:text-lg font-bold text-white whitespace-pre-wrap bg-white/10 hover:bg-white/15 focus:bg-white/10 border border-white/20 hover:border-white/30 focus:border-white/50 focus:ring-2 focus:ring-white/25 focus:outline-none rounded-xl px-4 py-3 min-h-[3rem] resize-none overflow-y-hidden leading-relaxed transition-colors"})}),_.jsx("button",{"aria-label":"Удалить упражнение",className:"delete-btn btn-glass btn-glass-icon btn-glass-outline",onClick:()=>k(!0),type:"button",children:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),_.jsxs("div",{className:"space-y-3",children:[_.jsx("div",{className:"flex justify-center",children:_.jsx(pS,{restSeconds:h,exerciseId:l.id,onAdjustRestSeconds:L})}),_.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm py-4 sm:py-5 px-2 rounded-lg",style:{color:"#a1a1aa",backgroundColor:"rgba(255,255,255,0.02)"},children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("span",{className:"whitespace-nowrap font-medium",children:"Подходы:"}),_.jsxs("div",{className:"inline-flex items-center gap-2",children:[_.jsx("button",{disabled:g||c<=1,onClick:()=>z(c-1),className:"btn-glass btn-glass-icon-round btn-glass-secondary",children:"−"}),_.jsx("span",{className:"min-w-[3ch] text-center text-white font-semibold text-base sm:text-lg",children:c}),_.jsx("button",{disabled:g||c>=30,onClick:()=>z(c+1),className:"btn-glass btn-glass-icon-round btn-glass-secondary",children:"+"})]})]}),((K=l.reps)==null?void 0:K.trim())&&_.jsxs("div",{className:"ml-3 flex-1 text-right whitespace-nowrap text-sm sm:text-base font-medium",children:["Повторы: ",l.reps]})]})]}),_.jsxs("div",{className:"space-y-3 pt-2",children:[_.jsxs("div",{className:"grid grid-cols-5 gap-3 text-center text-sm sm:text-base font-semibold px-3 py-3 rounded-lg",style:{color:"#a1a1aa",backgroundColor:"rgba(255,255,255,0.03)"},children:[_.jsx("div",{className:"col-span-1",children:"Подход"}),_.jsx("div",{className:"col-span-2",children:"Вес (кг)"}),_.jsx("div",{className:"col-span-1",children:"Повторы"}),_.jsx("div",{className:"col-span-1",children:"Готово"})]}),_.jsx("div",{className:"space-y-2",children:l.workout_sets.map(H=>_.jsx(yS,{set:H,onChange:D=>{const Z={...l,workout_sets:l.workout_sets.map(ne=>ne.id===D.id?D:ne)};a(Z)}},H.id))})]}),_.jsx(kl,{open:M,onOpenChange:k,title:"Удалить упражнение?",description:l.name?`Вы собираетесь удалить упражнение "${l.name}". Действие необратимо.`:"Вы собираетесь удалить упражнение. Действие необратимо.",confirmText:"Удалить",cancelText:"Отмена",variant:"danger",onConfirm:Q})]})},Lt=new Map,Bg=3e4,_S=l=>{if(!l)return null;if(/^\d{4}-\d{2}-\d{2}$/.test(l))return l;const a=new Date(l);return Number.isNaN(a.getTime())?null:qr(a)},wS=()=>{const{date:l}=Qg(),{user:a}=$a(),r=fa(),s=R.useMemo(()=>_S(l),[l]),u=s?`workout-page:${s}`:"workout-page",[c,d]=Yc({key:u,initialState:{workout:null,exercises:[],templates:[],loading:!0,isCreating:!1,isSelectTemplateOpen:!1,hasInitialData:!1,isAddingExercise:!1,workoutName:"",isSavingWorkoutName:!1},ttl:1800*1e3}),{workout:h,exercises:v,templates:g,loading:p,isCreating:b,isSelectTemplateOpen:S,hasInitialData:T,isAddingExercise:M,workoutName:k,isSavingWorkoutName:j}=c,[Y,L]=R.useState(!1),z=J=>d(P=>({...P,workout:J,workoutName:(J==null?void 0:J.name)??"",isSavingWorkoutName:!1})),Q=J=>d(P=>({...P,exercises:typeof J=="function"?J(P.exercises):J})),K=J=>d(P=>({...P,templates:typeof J=="function"?J(P.templates):J})),H=J=>d(P=>({...P,loading:J})),D=J=>d(P=>({...P,isCreating:J})),Z=J=>d(P=>({...P,isSelectTemplateOpen:J})),ne=J=>d(P=>({...P,hasInitialData:J})),he=J=>d(P=>({...P,isAddingExercise:J})),Le=J=>d(P=>({...P,workoutName:J})),Ge=J=>d(P=>({...P,isSavingWorkoutName:J})),[vt,pt]=R.useState(!1),[rt,B]=R.useState(!1),[X,ie]=R.useState(k),Ee=R.useRef(null),we=`scroll:workout:${s??""}`,x=R.useRef(!1),V=R.useRef(0),I=R.useCallback(async(J=!1,P=!1)=>{if(!a||!s){z(null),Q([]),H(!1),ne(!0);return}const Se=`${a.id}:${s}`,ze=Date.now();if(Lt.has(Se)){const ge=Lt.get(Se),Je=ze-ge.timestamp;if(J&&Je<Bg){T||(z(ge.workout),Q(ge.exercises),H(!1),ne(!0));return}Je>=Bg&&(T||(z(ge.workout),Q(ge.exercises),ne(!0)),P=!0)}P||H(!0);const{data:Qe,error:bt}=await re.from("workouts").select("*").eq("user_id",a.id).eq("workout_date",s).order("created_at",{ascending:!1}).limit(1),_t=(Qe==null?void 0:Qe[0])??null;if(bt)console.error("Error fetching workout:",bt);else if(_t){z(_t);const{data:ge,error:Je}=await re.from("workout_exercises").select("id, name, sets, reps, rest_seconds, position, workout_id, workout_sets ( id, workout_exercise_id, set_index, weight, reps, is_done, updated_at )").eq("workout_id",_t.id).order("position");if(Je)console.error("Error fetching exercises:",Je);else{const wt=ge||[];wt.forEach(Vt=>{Vt.workout_sets&&Vt.workout_sets.sort(($e,ma)=>$e.set_index-ma.set_index)}),Q(wt),Lt.set(Se,{workout:_t,exercises:wt,timestamp:ze})}}else z(null),Q([]),Lt.set(Se,{workout:null,exercises:[],timestamp:ze});const nt=a?`templates-cache:${a.id}`:void 0;if(nt)try{const ge=localStorage.getItem(nt);if(ge){const Je=JSON.parse(ge);Je.data&&K(Je.data)}}catch{}re.from("workout_templates").select("id, name, created_at, user_id").eq("user_id",a.id).then(({data:ge,error:Je})=>{if(Je)console.error("Error fetching templates:",Je.message);else if(K(ge||[]),nt)try{localStorage.setItem(nt,JSON.stringify({ts:Date.now(),data:ge}))}catch{}}),H(!1),ne(!0)},[a,s,T]);R.useEffect(()=>{I()},[I]),R.useEffect(()=>{const J=()=>{document.visibilityState==="visible"&&I(!0)};return document.addEventListener("visibilitychange",J),()=>document.removeEventListener("visibilitychange",J)},[I]),R.useEffect(()=>{s&&localStorage.setItem("lastWorkoutPath",`/workout/${s}`)},[s]),R.useEffect(()=>{rt&&Ee.current&&(Ee.current.focus(),Ee.current.select())},[rt]),R.useEffect(()=>{if(!s||v.length===0)return;(()=>{try{const P=localStorage.getItem(we);if(P){const Se=parseInt(P,10);Number.isNaN(Se)||(x.current=!0,requestAnimationFrame(()=>{requestAnimationFrame(()=>{window.scrollTo({top:Se,behavior:"auto"}),V.current=Se,setTimeout(()=>{x.current=!1},100)})}))}}catch(P){console.error("Error restoring scroll:",P)}})()},[s,v.length,we]),R.useEffect(()=>{if(!s)return;let J=!1;const P=()=>{V.current=window.scrollY,L(window.scrollY>0),!J&&!x.current&&(window.requestAnimationFrame(()=>{try{localStorage.setItem(we,String(V.current))}catch{}J=!1}),J=!0)};return window.addEventListener("scroll",P,{passive:!0}),()=>window.removeEventListener("scroll",P)},[s,we]),R.useEffect(()=>()=>{if(s&&V.current>0)try{localStorage.setItem(we,String(V.current))}catch{}},[s,we]);const F=J=>{d(P=>{const Se=P.exercises.map(ze=>ze.id===J.id?J:ze);if(a&&s&&P.workout){const ze=`${a.id}:${s}`;Lt.set(ze,{workout:P.workout,exercises:Se,timestamp:Date.now()})}return{...P,exercises:Se}})},oe=async()=>{if(!(!a||!s||!h||M)){he(!0);try{const J=v.length>0?Math.max(...v.map(ge=>typeof ge.position=="number"?ge.position:0))+1:1,{data:P,error:Se}=await re.from("workout_exercises").insert({workout_id:h.id,name:"",sets:1,reps:"",rest_seconds:150,position:J}).select("id, name, sets, reps, rest_seconds, position, workout_id");if(Se)throw Se;const ze=P==null?void 0:P[0];if(!ze)throw new Error("Не удалось создать упражнение");const{data:Qe,error:bt}=await re.from("workout_sets").insert({workout_exercise_id:ze.id,set_index:1,weight:null,reps:null,is_done:!1,updated_at:new Date().toISOString()}).select("id, workout_exercise_id, set_index, weight, reps, is_done, updated_at");if(bt)throw bt;const _t=Qe==null?void 0:Qe[0];if(!_t)throw new Error("Не удалось создать подход");const nt={...ze,workout_sets:[_t]};d(ge=>{if(!ge.workout)return ge;const Je=[...ge.exercises,nt].sort((wt,Vt)=>wt.position-Vt.position);if(a&&s){const wt=`${a.id}:${s}`,Vt=Lt.get(wt);Vt&&Lt.set(wt,{workout:Vt.workout,exercises:Je,timestamp:Date.now()})}return{...ge,exercises:Je}})}catch(J){console.error("Failed to add exercise:",J),alert("Не удалось добавить упражнение. Попробуйте снова.")}finally{he(!1)}}},me=async()=>{if(!(!a||!s)){D(!0);try{const{data:J,error:P}=await re.from("workouts").insert({user_id:a.id,workout_date:s,name:"Новая тренировка",template_id:null}).select().single();if(P)throw P;if(!J)throw new Error("Не удалось создать тренировку");z(J),Q([]),Le(J.name);const Se=`${a.id}:${s}`;Lt.set(Se,{workout:J,exercises:[],timestamp:Date.now()})}catch(J){console.error("Failed to create custom workout:",J),alert("Не удалось создать тренировку. Попробуйте снова.")}finally{D(!1)}}},xe=async J=>{if(!(!a||!s)){D(!0);try{const{data:P}=await re.from("template_exercises").select("*").eq("template_id",J.id),{data:Se}=await re.from("workouts").insert({user_id:a.id,workout_date:s,name:J.name,template_id:J.id}).select().single();if(!Se)throw new Error("Failed to create workout entry.");const ze=(P||[]).map(nt=>({workout_id:Se.id,name:nt.name,sets:nt.sets,reps:nt.reps,rest_seconds:nt.rest_seconds,position:nt.position})),{data:Qe}=await re.from("workout_exercises").insert(ze).select();if(!Qe)throw new Error("Failed to create workout exercises.");const bt=Qe.flatMap(nt=>Array.from({length:nt.sets},(ge,Je)=>({workout_exercise_id:nt.id,set_index:Je+1})));await re.from("workout_sets").insert(bt);const _t=`${a.id}:${s}`;Lt.delete(_t),await I()}catch(P){console.error("Failed to create workout from template:",P),alert(`Не удалось создать тренировку: ${P.message}`)}finally{D(!1)}}},ot=()=>{ie(k),B(!0)},He=async()=>{if(!a||!s||!h)return;const J=X.trim();if(J.length===0){ie(k),B(!1);return}if(J===h.name){B(!1);return}Ge(!0);try{const{data:P,error:Se}=await re.from("workouts").update({name:J}).eq("id",h.id).select().single();if(Se)throw Se;if(!P)throw new Error("Не удалось обновить название тренировки");z(P),ie(J),B(!1);const ze=`${a.id}:${s}`;Lt.set(ze,{workout:P,exercises:v,timestamp:Date.now()})}catch(P){console.error("Failed to update workout name:",P),alert("Не удалось сохранить название. Попробуйте снова.")}finally{Ge(!1)}},ha=()=>{ie(k),B(!1)},Va=()=>{h&&pt(!0)},Vi=async()=>{if(!h)return;const{error:J}=await re.from("workouts").delete().eq("id",h.id);if(J){console.error("Error deleting workout:",J),alert("Не удалось удалить тренировку.");return}if(a&&s){const P=`${a.id}:${s}`;Lt.delete(P)}r("/calendar",{state:{removedDate:s}})},Ir=()=>{Z(!0)},dn=async J=>{if(!(!a||!s||!h))try{D(!0);const{data:P,error:Se}=await re.from("template_exercises").select("*").eq("template_id",J.id);if(Se)throw Se;const{data:ze,error:Qe}=await re.from("workout_exercises").select("id").eq("workout_id",h.id);if(Qe)throw Qe;const bt=(ze||[]).map($e=>$e.id);if(bt.length>0){const{error:$e}=await re.from("workout_sets").delete().in("workout_exercise_id",bt);if($e)throw $e;const{error:ma}=await re.from("workout_exercises").delete().eq("workout_id",h.id);if(ma)throw ma}const{error:_t}=await re.from("workouts").update({name:J.name,template_id:J.id}).eq("id",h.id);if(_t)throw _t;const nt=(P||[]).map($e=>({workout_id:h.id,name:$e.name,sets:$e.sets,reps:$e.reps,rest_seconds:$e.rest_seconds,position:$e.position})),{data:ge,error:Je}=await re.from("workout_exercises").insert(nt).select();if(Je)throw Je;const wt=(ge||[]).flatMap($e=>Array.from({length:$e.sets},(ma,Zr)=>({workout_exercise_id:$e.id,set_index:Zr+1})));if(wt.length>0){const{error:$e}=await re.from("workout_sets").insert(wt);if($e)throw $e}const Vt=`${a.id}:${s}`;Lt.delete(Vt),Z(!1),await I()}catch(P){console.error("Failed to replace workout from template:",P),alert(`Не удалось изменить тренировку: ${P.message}`)}finally{D(!1)}},Ga=({className:J=""})=>_.jsx("button",{onClick:()=>r("/calendar",{state:{refreshDate:s}}),className:`inline-flex items-center justify-center p-2 rounded-full border border-transparent text-white transition-colors z-10 bg-transparent hover:border-white active:border-white focus:outline-none ${J}`,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})});return T?s?h?_.jsxs("div",{className:"relative px-4 space-y-4 pt-safe pb-24",children:[p&&!T&&_.jsx("div",{className:"fixed inset-0 flex items-center justify-center",style:{background:"transparent"},children:_.jsxs("div",{className:"flex flex-col items-center gap-4",children:[_.jsx("div",{className:"relative w-12 h-12",children:_.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-blue-500 border-r-blue-500 rounded-full animate-spin"})}),_.jsx("p",{className:"text-white text-center",children:"Загрузка данных..."})]})}),_.jsx("style",{children:`
        @keyframes slideDown {
          from {
            transform: translateY(-100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
        .header-container {
          transition: all 0.3s ease-out;
          position: sticky;
          top: 1rem;
          z-index: 30;
        }
        .header-container.scrolling {
          padding: 0.5rem 1rem;
        }
        .header-container.scrolling input {
          font-size: 1.25rem;
          pointer-events: none;
          cursor: default;
        }
        .header-container.scrolling p {
          font-size: 0.875rem;
        }
      `}),_.jsxs("div",{className:`glass card-dark p-4 flex items-center gap-4 header-container ${Y?"scrolling":""}`,children:[_.jsx(Ga,{className:"shrink-0"}),_.jsx("div",{className:"flex-1 text-center",children:rt?_.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[_.jsx("input",{ref:Ee,type:"text",value:X,onChange:J=>ie(J.target.value),disabled:j,className:"w-full bg-white/10 text-lg font-bold text-white placeholder:text-gray-500 focus:outline-none focus:bg-white/20 rounded-md px-3 py-2 transition-colors disabled:opacity-70",placeholder:"Название тренировки"}),_.jsxs("div",{className:"flex items-center justify-center gap-2",children:[_.jsx("button",{onClick:He,disabled:j,className:"shrink-0 p-1.5 rounded-full hover:bg-green-500/20 transition-colors disabled:opacity-50",title:"Сохранить",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),_.jsx("button",{onClick:ha,disabled:j,className:"shrink-0 p-1.5 rounded-full hover:bg-red-500/20 transition-colors disabled:opacity-50",title:"Отмена",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}):_.jsxs("div",{className:"flex items-center justify-center gap-2",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold text-white",children:k}),_.jsxs("p",{className:"text-lg transition-all duration-300",style:{color:"#a1a1aa"},children:["Дата: ",cc(s)]})]}),_.jsx("button",{onClick:ot,className:"shrink-0 p-1.5 rounded-full hover:bg-white/10 transition-colors",title:"Редактировать название",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]})})]}),_.jsxs("div",{className:"glass card-dark p-3 rounded-md flex items-center justify-center gap-3",children:[_.jsx("button",{type:"button",onClick:Ir,className:"glass-button-create",children:"Изменить тренировку"}),_.jsx("button",{type:"button",onClick:Va,className:"glass-button-danger",children:"Удалить"})]}),_.jsx("div",{className:"space-y-4",children:v.map(J=>_.jsx(bS,{exercise:J,onUpdateExercise:F,onDeleteExercise:P=>{d(Se=>{const ze=Se.exercises.filter(Qe=>Qe.id!==P);if(a&&s&&Se.workout){const Qe=`${a.id}:${s}`;Lt.set(Qe,{workout:Se.workout,exercises:ze,timestamp:Date.now()})}return{...Se,exercises:ze}})}},J.id))}),_.jsx("div",{children:_.jsx("button",{type:"button",onClick:oe,disabled:M,className:"btn-glass btn-glass-full btn-glass-md btn-glass-primary disabled:opacity-50",children:M?"Добавление...":"Добавить упражнение"})}),S&&_.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/60 p-4",children:_.jsxs("div",{className:"w-full max-w-md glass card-dark rounded-xl shadow-xl p-5",children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx("h2",{className:"text-lg font-semibold",children:"Выберите шаблон"}),_.jsx("button",{onClick:()=>Z(!1),className:"px-2 py-1 text-sm text-gray-300 hover:text-white",children:"✕"})]}),g.length===0?_.jsx("p",{className:"text-gray-400",children:"Нет доступных шаблонов."}):_.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:g.map(J=>_.jsx("button",{onClick:()=>dn(J),disabled:b,className:"w-full text-left px-4 py-2 rounded-md border border-white/20 text-gray-100 hover:bg-white/5 disabled:opacity-50",children:b?"Применение...":J.name},J.id))})]})}),_.jsx(kl,{open:vt,onOpenChange:pt,title:"Удалить тренировку?",description:`Вы собираетесь удалить тренировку на ${cc(s)}. Действие необратимо.`,confirmText:"Удалить",cancelText:"Отмена",variant:"danger",onConfirm:Vi})]}):_.jsxs("div",{className:"max-w-lg mx-auto px-4 pt-safe",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[_.jsx(Ga,{}),_.jsxs("h1",{className:"flex-1 text-xl font-bold text-center",children:["Тренировка на ",cc(s)]})]}),_.jsxs("div",{className:"mt-4 p-6 text-center",children:[_.jsx("p",{className:"text-gray-500 mb-4",children:"Тренировка не запланирована."}),g.length>0?_.jsxs(_.Fragment,{children:[_.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Выбрать шаблон"}),_.jsx("div",{className:"space-y-2",children:g.map(J=>_.jsx("button",{onClick:()=>xe(J),disabled:b,className:"btn-glass btn-glass-primary btn-glass-full btn-glass-md disabled:opacity-50",children:b?"Создание...":J.name},J.id))})]}):_.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[_.jsx("p",{className:"text-gray-400",children:"Сначала создайте шаблон."}),_.jsxs(Wg,{to:"/templates/new",className:"btn-glass btn-glass-primary btn-glass-full btn-glass-md",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Создать шаблон"]})]}),_.jsx("div",{className:"mt-4",children:_.jsx("button",{type:"button",onClick:me,disabled:b,className:"btn-dashed",children:b?"Создание...":"Создать свой день"})})]})]}):null:_.jsx("div",{className:"p-4 text-center",children:"Загрузка..."})},SS=({id:l,onDeleted:a})=>{const[r,s]=kn.useState(!1),[u,c]=kn.useState(!1),d=async()=>{if(!r){s(!0);try{const{error:h}=await re.from("template_exercises").delete().eq("template_id",l);if(h)throw h;const{error:v}=await re.from("workout_templates").delete().eq("id",l);if(v)throw v;a(l),c(!1)}catch(h){console.error("Error deleting template",h),alert("Не удалось удалить шаблон.")}finally{s(!1)}}};return _.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:()=>c(!0),disabled:r,className:"glass-button-danger",children:r?"...":"Удалить"}),_.jsx(kl,{open:u,onOpenChange:c,title:"Удалить шаблон?",description:"Шаблон и все его упражнения будут удалены. Действие необратимо.",confirmText:"Удалить",cancelText:"Отмена",variant:"danger",onConfirm:d})]})},ES=()=>{const{user:l}=$a(),[a,r]=Yc({key:"templates-page",initialState:{templates:[],loading:!0},ttl:1800*1e3}),{templates:s,loading:u}=a,c=g=>{r(p=>({...p,templates:g,loading:!1}))},d=g=>{r(p=>({...p,loading:g}))},h=kn.useCallback(async()=>{if(!l)return;a.templates.length>0||d(!0);const{data:p,error:b}=await re.from("workout_templates").select("id, name, created_at, user_id").eq("user_id",l.id).order("created_at",{ascending:!1});b?console.error("Error fetching templates:",b):c(p||[])},[l,a.templates.length]),v=g=>{r(p=>({...p,templates:p.templates.filter(b=>b.id!==g)})),h()};return R.useEffect(()=>{h()},[l,h]),R.useEffect(()=>{const g=re.channel("workout_templates_changes").on("postgres_changes",{event:"*",schema:"public",table:"workout_templates",filter:l?`user_id=eq.${l.id}`:void 0},()=>{(async()=>{if(!l)return;const{data:p}=await re.from("workout_templates").select("id, name, created_at, user_id").eq("user_id",l.id).order("created_at",{ascending:!1});c(p||[])})()}).subscribe();return()=>{re.removeChannel(g)}},[l]),_.jsxs("div",{className:"p-4 pb-24",children:[_.jsxs("div",{className:"relative flex justify-start items-center mb-4",children:[_.jsx("h1",{className:"text-3xl font-bold",children:"Шаблоны"}),_.jsx("div",{className:"absolute right-0 -top-3 h-10 w-28","aria-hidden":"true"})]}),u?_.jsx("div",{className:"fixed inset-0 flex items-center justify-center",style:{background:"transparent"},children:_.jsxs("div",{className:"flex flex-col items-center gap-4",children:[_.jsx("div",{className:"relative w-12 h-12",children:_.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-blue-500 border-r-blue-500 rounded-full animate-spin"})}),_.jsx("p",{className:"text-white text-center",children:"Загрузка шаблонов..."})]})}):s.length===0?_.jsx("div",{className:"mt-4 p-8 text-center glass",children:_.jsx("p",{className:"text-gray-500",children:"У вас еще нет шаблонов. Создайте первый!"})}):_.jsx("div",{className:"space-y-3",children:s.map(g=>_.jsxs("div",{className:"p-4 glass card-dark flex items-center justify-between gap-3",children:[_.jsx("button",{onClick:()=>window.location.hash=`#/templates/${g.id}`,className:"text-left flex-1 hover:opacity-90",children:_.jsx("h2",{className:"font-semibold text-lg text-gray-100",children:g.name})}),_.jsx(SS,{id:g.id,onDeleted:v})]},g.id))}),_.jsx("div",{className:"fixed left-1/2 -translate-x-1/2 bottom-[calc(env(safe-area-inset-bottom)+5.75rem)] z-30",children:_.jsx(Wg,{to:"/templates/new",className:"glass-button-create",children:"Создать"})})]})},fc=()=>({_tempId:Date.now()+Math.random(),name:"",sets:void 0,reps:"",rest_seconds:void 0}),Lg=()=>{const{id:l}=Qg(),{user:a}=$a(),r=fa(),[s,u]=R.useState(""),[c,d]=R.useState([fc()]),[h,v]=R.useState(!0),[g,p]=R.useState(!1),[b,S]=R.useState({open:!1}),T=kn.useRef({}),M=kn.useCallback(K=>{K&&(K.style.height="auto",K.style.height=`${K.scrollHeight}px`)},[]);kn.useLayoutEffect(()=>{c.forEach(K=>{const H=T.current[K._tempId];H&&M(H)})},[c,M]);const k=({className:K=""})=>_.jsx("button",{type:"button",onClick:()=>r("/templates"),className:`inline-flex items-center justify-center p-2 rounded-full border border-transparent text-white transition-colors bg-transparent hover:border-white active:border-white focus:outline-none ${K}`,"aria-label":"Назад к шаблонам",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})});R.useEffect(()=>{l?(async()=>{v(!0);const[{data:H,error:D},{data:Z,error:ne}]=await Promise.all([re.from("workout_templates").select("id, name").eq("id",l).single(),re.from("template_exercises").select("id, name, sets, reps, rest_seconds, position").eq("template_id",l).order("position")]);if(D){console.error("Error fetching template",D),r("/templates");return}if(ne&&console.error("Error fetching exercises",ne),H){u(H.name);const he=(Z||[]).map(Le=>({...Le,_tempId:Math.random()}));d(he.length>0?he:[fc()])}v(!1)})():v(!1)},[l,r]);const j=(K,H,D)=>{d(Z=>Z.map(ne=>{if(ne._tempId===K){const he={...ne};if(H==="sets"||H==="rest_seconds"){const Le=parseInt(D,10);he[H]=isNaN(Le)?"":Le}else he[H]=D;return he}return ne}))},Y=()=>{d([...c,fc()])},L=K=>{S({open:!0,tempId:K})},z=K=>{d(H=>H.map(D=>D._tempId===K?{...D,_state:"deleting"}:D)),setTimeout(()=>{d(H=>H.filter(D=>D._tempId!==K))},300)},Q=async K=>{if(K.preventDefault(),!a){alert("You must be logged in to save a template.");return}p(!0);try{const{data:H,error:D}=await re.from("workout_templates").upsert({id:l,name:s,user_id:a.id}).select("id").single();if(D||!H)throw D||new Error("Failed to save template.");const Z=H.id;if(l){const{error:he}=await re.from("template_exercises").delete().eq("template_id",Z);if(he)throw he}const ne=c.filter(he=>he.name&&he.name.trim()!=="").map((he,Le)=>({template_id:Z,name:he.name,sets:Number(he.sets)||1,reps:he.reps||"1",rest_seconds:Number(he.rest_seconds)||0,position:Le}));if(ne.length>0){const{error:he}=await re.from("template_exercises").insert(ne);if(he)throw he}alert("Шаблон сохранен!"),r("/templates")}catch(H){console.error("Error saving template:",H);try{const Z=l?re.from("workout_templates").select("id").eq("id",l).maybeSingle():re.from("workout_templates").select("id").eq("user_id",a.id).eq("name",s).order("created_at",{ascending:!1}).limit(1).maybeSingle(),{data:ne}=await Z;if(ne!=null&&ne.id){const{count:he}=await re.from("template_exercises").select("id",{count:"exact",head:!0}).eq("template_id",ne.id);alert("Шаблон сохранен!"),r("/templates");return}}catch{}const D=(H.message||"").includes("invalid input syntax for type integer")?'Не удалось сохранить диапазон повторений (например, "10-12"). Пожалуйста, убедитесь, что схема вашей базы данных обновлена. В Supabase SQL Editor нужно выполнить скрипт, чтобы колонка "reps" имела тип TEXT.':`Ошибка сохранения: ${H.message}`;alert(D)}finally{p(!1)}};return h?_.jsx("div",{className:"fixed inset-0 flex items-center justify-center",style:{background:"transparent"},children:_.jsxs("div",{className:"flex flex-col items-center gap-4",children:[_.jsx("div",{className:"relative w-12 h-12",children:_.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-blue-500 border-r-blue-500 rounded-full animate-spin"})}),_.jsx("p",{className:"text-white text-center",children:"Загрузка редактора..."})]})}):_.jsxs("div",{className:"relative p-4 max-w-lg mx-auto",children:[_.jsxs("div",{className:"mb-4 glass card-dark p-4 flex items-center gap-4",children:[_.jsx(k,{className:"shrink-0"}),_.jsx("div",{className:"flex-1 text-center",children:_.jsx("h1",{className:"text-3xl font-bold",children:l?"Редактировать шаблон":"Новый шаблон"})})]}),_.jsxs("form",{onSubmit:Q,className:"space-y-6",style:{paddingBottom:"calc(3rem + env(safe-area-inset-bottom, 0px))"},children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"template-name",className:"block text-sm font-medium",style:{color:"#e4e4e7"},children:"Название дня"}),_.jsx("input",{id:"template-name",type:"text",value:s,onChange:K=>u(K.target.value),placeholder:"Например, Push Day",required:!0,className:"mt-1 block w-full px-3 py-2 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",style:{backgroundColor:"#18181b",color:"#fafafa",border:"1px solid #3f3f46"}})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("h2",{className:"text-xl font-semibold",children:"Упражнения"}),c.map(K=>_.jsx("div",{className:`exercise-card relative transition-all duration-300 ease-in-out ${K._state==="deleting"?"opacity-0 max-h-0 p-0 border-0 m-0":"glass card-dark"}`,children:_.jsxs("div",{className:`${K._state==="deleting"?"hidden":"p-4 space-y-3"}`,children:[_.jsxs("div",{className:"exercise-card-header mb-3",children:[_.jsx("div",{className:"name-wrap",children:_.jsx("textarea",{ref:H=>T.current[K._tempId]=H,placeholder:"Название упражнения",value:K.name||"",onChange:H=>{j(K._tempId,"name",H.target.value),M(H.currentTarget)},rows:1,className:"w-full px-3 py-2 rounded-md resize-none overflow-y-hidden min-h-[2.5rem] leading-relaxed",style:{backgroundColor:"#18181b",color:"#fafafa",border:"1px solid #3f3f46",fontFamily:"inherit"}})}),_.jsx("button",{type:"button",onClick:()=>L(K._tempId),className:"delete-btn btn-glass btn-glass-icon btn-glass-outline","aria-label":"Удалить упражнение",children:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),_.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs",style:{color:"#e4e4e7"},children:"Подходы"}),_.jsx("input",{type:"number",placeholder:"3",value:K.sets??"",onChange:H=>j(K._tempId,"sets",H.target.value),className:"w-full p-1 text-center rounded-md",style:{backgroundColor:"#18181b",color:"#fafafa",border:"1px solid #3f3f46"}})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs",style:{color:"#e4e4e7"},children:"Повторы"}),_.jsx("input",{type:"text",placeholder:"10-12",value:K.reps||"",onChange:H=>j(K._tempId,"reps",H.target.value),className:"w-full p-1 text-center rounded-md",style:{backgroundColor:"#18181b",color:"#fafafa",border:"1px solid #3f3f46"}})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs",style:{color:"#e4e4e7"},children:"Отдых (сек)"}),_.jsx("input",{type:"number",placeholder:"60",value:K.rest_seconds??"",onChange:H=>j(K._tempId,"rest_seconds",H.target.value),className:"w-full p-1 text-center rounded-md",style:{backgroundColor:"#18181b",color:"#fafafa",border:"1px solid #3f3f46"}})]})]})]})},K._tempId)),_.jsx("button",{type:"button",onClick:Y,className:"btn-dashed",children:"+ Добавить упражнение"})]}),_.jsx("button",{type:"submit",disabled:g,className:"btn-glass btn-glass-full btn-glass-md btn-glass-primary",children:g?"Сохранение...":"Сохранить шаблон"})]}),_.jsx(kl,{open:b.open,onOpenChange:K=>S({open:K}),title:"Удалить упражнение?",description:"Это упражнение будет удалено из шаблона. Действие необратимо.",confirmText:"Удалить",cancelText:"Отмена",variant:"danger",onConfirm:async()=>{b.tempId!==void 0&&z(b.tempId)}})]})},xS=()=>{const{user:l,signOut:a}=$a(),r=fa(),[s,u]=R.useState(!1),[c,d]=R.useState(!1),h=kn.useRef(null);kn.useEffect(()=>{const p=b=>{h.current&&!h.current.contains(b.target)&&d(!1)};if(c)return document.addEventListener("click",p),()=>document.removeEventListener("click",p)},[c]);const v=async()=>{try{await a(),r("/login",{replace:!0})}catch(p){console.error("Error logging out:",p)}},g=async()=>{if(!l||!l.email)return;if(prompt(`Это действие необратимо и удалит все ваши данные.

Для подтверждения введите ваш e-mail: ${l.email}`)!==l.email){alert("Ввод не совпадает. Удаление отменено.");return}u(!0);try{const{error:b}=await re.rpc("delete_user_account");if(b)throw b;alert("Ваш аккаунт и все данные были успешно удалены."),await a(),r("/login",{replace:!0})}catch(b){console.error("Error deleting account:",b),alert(`Не удалось удалить аккаунт: ${b.message}`)}finally{u(!1)}};return _.jsxs("div",{className:"p-4 space-y-4 max-w-lg mx-auto pt-safe relative",style:{background:"#0a0a0b"},children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h1",{className:"text-3xl font-bold",children:"Профиль"}),_.jsxs("div",{className:"relative",ref:h,children:[_.jsx("button",{onClick:()=>d(!c),className:"p-2 text-white hover:text-gray-300 transition-colors","aria-label":"Меню",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M12 8c1.1 0 2-1 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 1-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 1-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})})}),c&&_.jsx("div",{className:"absolute right-0 mt-2 w-48 glass card-dark rounded-lg shadow-lg z-50",children:_.jsx("button",{onClick:()=>{d(!1),g()},disabled:s,className:"w-full text-left px-4 py-2 text-red-400 hover:bg-red-500/10 disabled:opacity-50 transition-colors rounded-lg",children:s?"Удаление...":"Удалить аккаунт и все данные"})})]})]}),_.jsx("div",{className:"p-4 glass card-dark rounded-lg shadow",children:l&&_.jsxs("p",{children:["Вы вошли как: ",_.jsx("span",{className:"font-semibold",children:l.email})]})}),_.jsx("div",{className:"space-y-2",children:_.jsx("button",{onClick:v,className:"btn-glass btn-glass-logout btn-glass-full btn-glass-md",children:"Выйти"})})]})},TS=()=>_.jsx(Pg,{to:"/calendar",replace:!0}),OS=()=>_.jsxs(_b,{children:[_.jsx(cn,{path:"/login",element:_.jsx(dS,{})}),_.jsxs(cn,{path:"/",element:_.jsx(fS,{children:_.jsx(cS,{})}),children:[_.jsx(cn,{index:!0,element:_.jsx(TS,{})}),_.jsx(cn,{path:"calendar",element:_.jsx(vS,{})}),_.jsx(cn,{path:"workout/:date",element:_.jsx(wS,{})}),_.jsx(cn,{path:"templates",element:_.jsx(ES,{})}),_.jsx(cn,{path:"templates/new",element:_.jsx(Lg,{})}),_.jsx(cn,{path:"templates/:id",element:_.jsx(Lg,{})}),_.jsx(cn,{path:"profile",element:_.jsx(xS,{})})]})]}),jS=()=>_.jsx(jb,{children:_.jsx(rS,{children:_.jsx("div",{style:{minHeight:"100svh"},children:_.jsx(OS,{})})})}),AS=async()=>{const{data:l}=await re.auth.getSession();return l.session?l.session:new Promise(a=>{const{data:{subscription:r}}=re.auth.onAuthStateChange((s,u)=>{r.unsubscribe(),a(u??null)})})};if("serviceWorker"in navigator){const l=()=>{navigator.serviceWorker.register("/GymLog/sw.js",{scope:"/GymLog/",updateViaCache:"none"}).then(r=>{let s=!1;const u=()=>{s||(s=!0,window.location.reload())},c=()=>{var d;(d=r.waiting)==null||d.postMessage("SKIP_WAITING")};if(navigator.serviceWorker.addEventListener("controllerchange",u),r.waiting){c();return}r.addEventListener("updatefound",()=>{const d=r.installing;d&&d.addEventListener("statechange",()=>{d.state==="installed"&&c()})})}).catch(r=>{console.error("Service worker registration failed:",r)})};window.addEventListener("load",l)}const Xv=document.getElementById("root");if(!Xv)throw new Error("Could not find root element to mount to");const Iv=x0.createRoot(Xv),CS=()=>{Iv.render(_.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background text-foreground",children:_.jsx("p",{children:"Загрузка..."})}))},RS=async()=>{CS();try{await AS()}catch(l){console.error("Не удалось восстановить сессию:",l)}Iv.render(_.jsx(jS,{}))};RS();
