function g0(l,a){for(var r=0;r<a.length;r++){const s=a[r];if(typeof s!="string"&&!Array.isArray(s)){for(const u in s)if(u!=="default"&&!(u in l)){const c=Object.getOwnPropertyDescriptor(s,u);c&&Object.defineProperty(l,u,c.get?c:{enumerable:!0,get:()=>s[u]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const c of u)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(u){const c={};return u.integrity&&(c.integrity=u.integrity),u.referrerPolicy&&(c.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?c.credentials="include":u.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(u){if(u.ep)return;u.ep=!0;const c=r(u);fetch(u.href,c)}})();function Rc(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function $g(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var a=l.default;if(typeof a=="function"){var r=function s(){return this instanceof s?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};r.prototype=a.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(l).forEach(function(s){var u=Object.getOwnPropertyDescriptor(l,s);Object.defineProperty(r,s,u.get?u:{enumerable:!0,get:function(){return l[s]}})}),r}var Xu={exports:{}},Mr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym;function v0(){if(Ym)return Mr;Ym=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(s,u,c){var d=null;if(c!==void 0&&(d=""+c),u.key!==void 0&&(d=""+u.key),"key"in u){c={};for(var h in u)h!=="key"&&(c[h]=u[h])}else c=u;return u=c.ref,{$$typeof:l,type:s,key:d,ref:u!==void 0?u:null,props:c}}return Mr.Fragment=a,Mr.jsx=r,Mr.jsxs=r,Mr}var Km;function y0(){return Km||(Km=1,Xu.exports=v0()),Xu.exports}var _=y0(),Iu={exports:{}},Br={},Zu={exports:{}},Pu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm;function p0(){return Qm||(Qm=1,(function(l){function a(B,X){var se=B.length;B.push(X);e:for(;0<se;){var Te=se-1>>>1,xe=B[Te];if(0<u(xe,X))B[Te]=X,B[se]=xe,se=Te;else break e}}function r(B){return B.length===0?null:B[0]}function s(B){if(B.length===0)return null;var X=B[0],se=B.pop();if(se!==X){B[0]=se;e:for(var Te=0,xe=B.length,x=xe>>>1;Te<x;){var $=2*(Te+1)-1,I=B[$],P=$+1,oe=B[P];if(0>u(I,se))P<xe&&0>u(oe,I)?(B[Te]=oe,B[P]=se,Te=P):(B[Te]=I,B[$]=se,Te=$);else if(P<xe&&0>u(oe,se))B[Te]=oe,B[P]=se,Te=P;else break e}}return X}function u(B,X){var se=B.sortIndex-X.sortIndex;return se!==0?se:B.id-X.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;l.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();l.unstable_now=function(){return d.now()-h}}var v=[],g=[],p=1,b=null,S=3,T=!1,M=!1,D=!1,j=!1,V=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function J(B){for(var X=r(g);X!==null;){if(X.callback===null)s(g);else if(X.startTime<=B)s(g),X.sortIndex=X.expirationTime,a(v,X);else break;X=r(g)}}function ee(B){if(D=!1,J(B),!M)if(r(v)!==null)M=!0,Q||(Q=!0,ue());else{var X=r(g);X!==null&&at(ee,X.startTime-B)}}var Q=!1,N=-1,K=5,F=-1;function Ne(){return j?!0:!(l.unstable_now()-F<K)}function Se(){if(j=!1,Q){var B=l.unstable_now();F=B;var X=!0;try{e:{M=!1,D&&(D=!1,z(N),N=-1),T=!0;var se=S;try{t:{for(J(B),b=r(v);b!==null&&!(b.expirationTime>B&&Ne());){var Te=b.callback;if(typeof Te=="function"){b.callback=null,S=b.priorityLevel;var xe=Te(b.expirationTime<=B);if(B=l.unstable_now(),typeof xe=="function"){b.callback=xe,J(B),X=!0;break t}b===r(v)&&s(v),J(B)}else s(v);b=r(v)}if(b!==null)X=!0;else{var x=r(g);x!==null&&at(ee,x.startTime-B),X=!1}}break e}finally{b=null,S=se,T=!1}X=void 0}}finally{X?ue():Q=!1}}}var ue;if(typeof L=="function")ue=function(){L(Se)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,_t=Ye.port2;Ye.port1.onmessage=Se,ue=function(){_t.postMessage(null)}}else ue=function(){V(Se,0)};function at(B,X){N=V(function(){B(l.unstable_now())},X)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(B){B.callback=null},l.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<B?Math.floor(1e3/B):5},l.unstable_getCurrentPriorityLevel=function(){return S},l.unstable_next=function(B){switch(S){case 1:case 2:case 3:var X=3;break;default:X=S}var se=S;S=X;try{return B()}finally{S=se}},l.unstable_requestPaint=function(){j=!0},l.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var se=S;S=B;try{return X()}finally{S=se}},l.unstable_scheduleCallback=function(B,X,se){var Te=l.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?Te+se:Te):se=Te,B){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=se+xe,B={id:p++,callback:X,priorityLevel:B,startTime:se,expirationTime:xe,sortIndex:-1},se>Te?(B.sortIndex=se,a(g,B),r(v)===null&&B===r(g)&&(D?(z(N),N=-1):D=!0,at(ee,se-Te))):(B.sortIndex=xe,a(v,B),M||T||(M=!0,Q||(Q=!0,ue()))),B},l.unstable_shouldYield=Ne,l.unstable_wrapCallback=function(B){var X=S;return function(){var se=S;S=X;try{return B.apply(this,arguments)}finally{S=se}}}})(Pu)),Pu}var Jm;function b0(){return Jm||(Jm=1,Zu.exports=p0()),Zu.exports}var Wu={exports:{}},ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xm;function _0(){if(Xm)return ce;Xm=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function T(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,j={};function V(x,$,I){this.props=x,this.context=$,this.refs=j,this.updater=I||M}V.prototype.isReactComponent={},V.prototype.setState=function(x,$){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,$,"setState")},V.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function z(){}z.prototype=V.prototype;function L(x,$,I){this.props=x,this.context=$,this.refs=j,this.updater=I||M}var J=L.prototype=new z;J.constructor=L,D(J,V.prototype),J.isPureReactComponent=!0;var ee=Array.isArray;function Q(){}var N={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function F(x,$,I){var P=I.ref;return{$$typeof:l,type:x,key:$,ref:P!==void 0?P:null,props:I}}function Ne(x,$){return F(x.type,$,x.props)}function Se(x){return typeof x=="object"&&x!==null&&x.$$typeof===l}function ue(x){var $={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(I){return $[I]})}var Ye=/\/+/g;function _t(x,$){return typeof x=="object"&&x!==null&&x.key!=null?ue(""+x.key):$.toString(36)}function at(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Q,Q):(x.status="pending",x.then(function($){x.status==="pending"&&(x.status="fulfilled",x.value=$)},function($){x.status==="pending"&&(x.status="rejected",x.reason=$)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function B(x,$,I,P,oe){var de=typeof x;(de==="undefined"||de==="boolean")&&(x=null);var ge=!1;if(x===null)ge=!0;else switch(de){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(x.$$typeof){case l:case a:ge=!0;break;case p:return ge=x._init,B(ge(x._payload),$,I,P,oe)}}if(ge)return oe=oe(x),ge=P===""?"."+_t(x,0):P,ee(oe)?(I="",ge!=null&&(I=ge.replace(Ye,"$&/")+"/"),B(oe,$,I,"",function(ha){return ha})):oe!=null&&(Se(oe)&&(oe=Ne(oe,I+(oe.key==null||x&&x.key===oe.key?"":(""+oe.key).replace(Ye,"$&/")+"/")+ge)),$.push(oe)),1;ge=0;var ct=P===""?".":P+":";if(ee(x))for(var Ve=0;Ve<x.length;Ve++)P=x[Ve],de=ct+_t(P,Ve),ge+=B(P,$,I,de,oe);else if(Ve=T(x),typeof Ve=="function")for(x=Ve.call(x),Ve=0;!(P=x.next()).done;)P=P.value,de=ct+_t(P,Ve++),ge+=B(P,$,I,de,oe);else if(de==="object"){if(typeof x.then=="function")return B(at(x),$,I,P,oe);throw $=String(x),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return ge}function X(x,$,I){if(x==null)return x;var P=[],oe=0;return B(x,P,"","",function(de){return $.call(I,de,oe++)}),P}function se(x){if(x._status===-1){var $=x._result;$=$(),$.then(function(I){(x._status===0||x._status===-1)&&(x._status=1,x._result=I)},function(I){(x._status===0||x._status===-1)&&(x._status=2,x._result=I)}),x._status===-1&&(x._status=0,x._result=$)}if(x._status===1)return x._result.default;throw x._result}var Te=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},xe={map:X,forEach:function(x,$,I){X(x,function(){$.apply(this,arguments)},I)},count:function(x){var $=0;return X(x,function(){$++}),$},toArray:function(x){return X(x,function($){return $})||[]},only:function(x){if(!Se(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return ce.Activity=b,ce.Children=xe,ce.Component=V,ce.Fragment=r,ce.Profiler=u,ce.PureComponent=L,ce.StrictMode=s,ce.Suspense=v,ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ce.__COMPILER_RUNTIME={__proto__:null,c:function(x){return N.H.useMemoCache(x)}},ce.cache=function(x){return function(){return x.apply(null,arguments)}},ce.cacheSignal=function(){return null},ce.cloneElement=function(x,$,I){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var P=D({},x.props),oe=x.key;if($!=null)for(de in $.key!==void 0&&(oe=""+$.key),$)!K.call($,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&$.ref===void 0||(P[de]=$[de]);var de=arguments.length-2;if(de===1)P.children=I;else if(1<de){for(var ge=Array(de),ct=0;ct<de;ct++)ge[ct]=arguments[ct+2];P.children=ge}return F(x.type,oe,P)},ce.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},ce.createElement=function(x,$,I){var P,oe={},de=null;if($!=null)for(P in $.key!==void 0&&(de=""+$.key),$)K.call($,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(oe[P]=$[P]);var ge=arguments.length-2;if(ge===1)oe.children=I;else if(1<ge){for(var ct=Array(ge),Ve=0;Ve<ge;Ve++)ct[Ve]=arguments[Ve+2];oe.children=ct}if(x&&x.defaultProps)for(P in ge=x.defaultProps,ge)oe[P]===void 0&&(oe[P]=ge[P]);return F(x,de,oe)},ce.createRef=function(){return{current:null}},ce.forwardRef=function(x){return{$$typeof:h,render:x}},ce.isValidElement=Se,ce.lazy=function(x){return{$$typeof:p,_payload:{_status:-1,_result:x},_init:se}},ce.memo=function(x,$){return{$$typeof:g,type:x,compare:$===void 0?null:$}},ce.startTransition=function(x){var $=N.T,I={};N.T=I;try{var P=x(),oe=N.S;oe!==null&&oe(I,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(Q,Te)}catch(de){Te(de)}finally{$!==null&&I.types!==null&&($.types=I.types),N.T=$}},ce.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ce.use=function(x){return N.H.use(x)},ce.useActionState=function(x,$,I){return N.H.useActionState(x,$,I)},ce.useCallback=function(x,$){return N.H.useCallback(x,$)},ce.useContext=function(x){return N.H.useContext(x)},ce.useDebugValue=function(){},ce.useDeferredValue=function(x,$){return N.H.useDeferredValue(x,$)},ce.useEffect=function(x,$){return N.H.useEffect(x,$)},ce.useEffectEvent=function(x){return N.H.useEffectEvent(x)},ce.useId=function(){return N.H.useId()},ce.useImperativeHandle=function(x,$,I){return N.H.useImperativeHandle(x,$,I)},ce.useInsertionEffect=function(x,$){return N.H.useInsertionEffect(x,$)},ce.useLayoutEffect=function(x,$){return N.H.useLayoutEffect(x,$)},ce.useMemo=function(x,$){return N.H.useMemo(x,$)},ce.useOptimistic=function(x,$){return N.H.useOptimistic(x,$)},ce.useReducer=function(x,$,I){return N.H.useReducer(x,$,I)},ce.useRef=function(x){return N.H.useRef(x)},ce.useState=function(x){return N.H.useState(x)},ce.useSyncExternalStore=function(x,$,I){return N.H.useSyncExternalStore(x,$,I)},ce.useTransition=function(){return N.H.useTransition()},ce.version="19.2.0",ce}var Im;function Nc(){return Im||(Im=1,Wu.exports=_0()),Wu.exports}var Fu={exports:{}},vt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm;function w0(){if(Zm)return vt;Zm=1;var l=Nc();function a(v){var g="https://react.dev/errors/"+v;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)g+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+v+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},u=Symbol.for("react.portal");function c(v,g,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:v,containerInfo:g,implementation:p}}var d=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(v,g){if(v==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,vt.createPortal=function(v,g){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(a(299));return c(v,g,null,p)},vt.flushSync=function(v){var g=d.T,p=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=g,s.p=p,s.d.f()}},vt.preconnect=function(v,g){typeof v=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(v,g))},vt.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},vt.preinit=function(v,g){if(typeof v=="string"&&g&&typeof g.as=="string"){var p=g.as,b=h(p,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,T=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;p==="style"?s.d.S(v,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:T}):p==="script"&&s.d.X(v,{crossOrigin:b,integrity:S,fetchPriority:T,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},vt.preinitModule=function(v,g){if(typeof v=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var p=h(g.as,g.crossOrigin);s.d.M(v,{crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(v)},vt.preload=function(v,g){if(typeof v=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var p=g.as,b=h(p,g.crossOrigin);s.d.L(v,p,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},vt.preloadModule=function(v,g){if(typeof v=="string")if(g){var p=h(g.as,g.crossOrigin);s.d.m(v,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:p,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(v)},vt.requestFormReset=function(v){s.d.r(v)},vt.unstable_batchedUpdates=function(v,g){return v(g)},vt.useFormState=function(v,g,p){return d.H.useFormState(v,g,p)},vt.useFormStatus=function(){return d.H.useHostTransitionStatus()},vt.version="19.2.0",vt}var Pm;function Vg(){if(Pm)return Fu.exports;Pm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Fu.exports=w0(),Fu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wm;function S0(){if(Wm)return Br;Wm=1;var l=b0(),a=Nc(),r=Vg();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(s(188))}function g(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var f=o.alternate;if(f===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===f.child){for(f=o.child;f;){if(f===n)return v(o),e;if(f===i)return v(o),t;f=f.sibling}throw Error(s(188))}if(n.return!==i.return)n=o,i=f;else{for(var m=!1,y=o.child;y;){if(y===n){m=!0,n=o,i=f;break}if(y===i){m=!0,i=o,n=f;break}y=y.sibling}if(!m){for(y=f.child;y;){if(y===n){m=!0,n=f,i=o;break}if(y===i){m=!0,i=f,n=o;break}y=y.sibling}if(!m)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),L=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),Ne=Symbol.for("react.memo_cache_sentinel"),Se=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=Se&&e[Se]||e["@@iterator"],typeof e=="function"?e:null)}var Ye=Symbol.for("react.client.reference");function _t(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ye?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case D:return"Fragment";case V:return"Profiler";case j:return"StrictMode";case ee:return"Suspense";case Q:return"SuspenseList";case F:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case L:return e.displayName||"Context";case z:return(e._context.displayName||"Context")+".Consumer";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return t=e.displayName||null,t!==null?t:_t(e.type)||"Memo";case K:t=e._payload,e=e._init;try{return _t(e(t))}catch{}}return null}var at=Array.isArray,B=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},Te=[],xe=-1;function x(e){return{current:e}}function $(e){0>xe||(e.current=Te[xe],Te[xe]=null,xe--)}function I(e,t){xe++,Te[xe]=e.current,e.current=t}var P=x(null),oe=x(null),de=x(null),ge=x(null);function ct(e,t){switch(I(de,t),I(oe,e),I(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?hm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=hm(t),e=mm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(P),I(P,e)}function Ve(){$(P),$(oe),$(de)}function ha(e){e.memoizedState!==null&&I(ge,e);var t=P.current,n=mm(t,e.type);t!==n&&(I(oe,e),I(P,n))}function $a(e){oe.current===e&&($(P),$(oe)),ge.current===e&&($(ge),kr._currentValue=se)}var Vi,Zr;function hn(e){if(Vi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Vi=t&&t[1]||"",Zr=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vi+e+Zr}var Va=!1;function Gi(e,t){if(!e||Va)return"";Va=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(U){var k=U}Reflect.construct(e,[],G)}else{try{G.call()}catch(U){k=U}e.call(G.prototype)}}else{try{throw Error()}catch(U){k=U}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(U){if(U&&k&&typeof U.stack=="string")return[U.stack,k.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=i.DetermineComponentFrameRoot(),m=f[0],y=f[1];if(m&&y){var w=m.split(`
`),R=y.split(`
`);for(o=i=0;i<w.length&&!w[i].includes("DetermineComponentFrameRoot");)i++;for(;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;if(i===w.length||o===R.length)for(i=w.length-1,o=R.length-1;1<=i&&0<=o&&w[i]!==R[o];)o--;for(;1<=i&&0<=o;i--,o--)if(w[i]!==R[o]){if(i!==1||o!==1)do if(i--,o--,0>o||w[i]!==R[o]){var q=`
`+w[i].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=i&&0<=o);break}}}finally{Va=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?hn(n):""}function Ul(e,t){switch(e.tag){case 26:case 27:case 5:return hn(e.type);case 16:return hn("Lazy");case 13:return e.child!==t&&t!==null?hn("Suspense Fallback"):hn("Suspense");case 19:return hn("SuspenseList");case 0:case 15:return Gi(e.type,!1);case 11:return Gi(e.type.render,!1);case 1:return Gi(e.type,!0);case 31:return hn("Activity");default:return""}}function Pr(e){try{var t="",n=null;do t+=Ul(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Yi=Object.prototype.hasOwnProperty,Ga=l.unstable_scheduleCallback,Y=l.unstable_cancelCallback,Z=l.unstable_shouldYield,be=l.unstable_requestPaint,ve=l.unstable_now,it=l.unstable_getCurrentPriorityLevel,Ct=l.unstable_ImmediatePriority,pt=l.unstable_UserBlockingPriority,Ke=l.unstable_NormalPriority,Me=l.unstable_LowPriority,Qe=l.unstable_IdlePriority,Rt=l.log,Wt=l.unstable_setDisableYieldValue,He=null,rt=null;function sn(e){if(typeof Rt=="function"&&Wt(e),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(He,e)}catch{}}var Nt=Math.clz32?Math.clz32:ty,Fv=Math.log,ey=Math.LN2;function ty(e){return e>>>=0,e===0?32:31-(Fv(e)/ey|0)|0}var Wr=256,Fr=262144,es=4194304;function ma(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ts(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var o=0,f=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var y=i&134217727;return y!==0?(i=y&~f,i!==0?o=ma(i):(m&=y,m!==0?o=ma(m):n||(n=y&~e,n!==0&&(o=ma(n))))):(y=i&~f,y!==0?o=ma(y):m!==0?o=ma(m):n||(n=i&~e,n!==0&&(o=ma(n)))),o===0?0:t!==0&&t!==o&&(t&f)===0&&(f=o&-o,n=t&-t,f>=n||f===32&&(n&4194048)!==0)?t:o}function Ki(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ny(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jc(){var e=es;return es<<=1,(es&62914560)===0&&(es=4194304),e}function zl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ay(e,t,n,i,o,f){var m=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var y=e.entanglements,w=e.expirationTimes,R=e.hiddenUpdates;for(n=m&~n;0<n;){var q=31-Nt(n),G=1<<q;y[q]=0,w[q]=-1;var k=R[q];if(k!==null)for(R[q]=null,q=0;q<k.length;q++){var U=k[q];U!==null&&(U.lane&=-536870913)}n&=~G}i!==0&&Xc(e,i,0),f!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=f&~(m&~t))}function Xc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Nt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function Ic(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Nt(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}function Zc(e,t){var n=t&-t;return n=(n&42)!==0?1:Ml(n),(n&(e.suspendedLanes|t))!==0?0:n}function Ml(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Bl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Pc(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Bm(e.type))}function Wc(e,t){var n=X.p;try{return X.p=e,t()}finally{X.p=n}}var zn=Math.random().toString(36).slice(2),ft="__reactFiber$"+zn,wt="__reactProps$"+zn,Ya="__reactContainer$"+zn,Ll="__reactEvents$"+zn,iy="__reactListeners$"+zn,ry="__reactHandles$"+zn,Fc="__reactResources$"+zn,Ji="__reactMarker$"+zn;function ql(e){delete e[ft],delete e[wt],delete e[Ll],delete e[iy],delete e[ry]}function Ka(e){var t=e[ft];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ya]||n[ft]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wm(e);e!==null;){if(n=e[ft])return n;e=wm(e)}return t}e=n,n=e.parentNode}return null}function Qa(e){if(e=e[ft]||e[Ya]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Xi(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Ja(e){var t=e[Fc];return t||(t=e[Fc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ot(e){e[Ji]=!0}var ef=new Set,tf={};function ga(e,t){Xa(e,t),Xa(e+"Capture",t)}function Xa(e,t){for(tf[e]=t,e=0;e<t.length;e++)ef.add(t[e])}var sy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nf={},af={};function ly(e){return Yi.call(af,e)?!0:Yi.call(nf,e)?!1:sy.test(e)?af[e]=!0:(nf[e]=!0,!1)}function ns(e,t,n){if(ly(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function as(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function mn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function Vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oy(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,f=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){n=""+m,f.call(this,m)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(m){n=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hl(e){if(!e._valueTracker){var t=rf(e)?"checked":"value";e._valueTracker=oy(e,t,""+e[t])}}function sf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=rf(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function is(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var uy=/[\n"\\]/g;function Gt(e){return e.replace(uy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function $l(e,t,n,i,o,f,m,y){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Vt(t)):e.value!==""+Vt(t)&&(e.value=""+Vt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Vl(e,m,Vt(t)):n!=null?Vl(e,m,Vt(n)):i!=null&&e.removeAttribute("value"),o==null&&f!=null&&(e.defaultChecked=!!f),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Vt(y):e.removeAttribute("name")}function lf(e,t,n,i,o,f,m,y){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||n!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){Hl(e);return}n=n!=null?""+Vt(n):"",t=t!=null?""+Vt(t):n,y||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=y?e.checked:!!i,e.defaultChecked=!!i,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Hl(e)}function Vl(e,t,n){t==="number"&&is(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ia(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Vt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function of(e,t,n){if(t!=null&&(t=""+Vt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Vt(n):""}function uf(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(s(92));if(at(i)){if(1<i.length)throw Error(s(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Vt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Hl(e)}function Za(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cf(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||cy.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function ff(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&n[o]!==i&&cf(e,o,i)}else for(var f in t)t.hasOwnProperty(f)&&cf(e,f,t[f])}function Gl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rs(e){return dy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function gn(){}var Yl=null;function Kl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pa=null,Wa=null;function df(e){var t=Qa(e);if(t&&(e=t.stateNode)){var n=e[wt]||null;e:switch(e=t.stateNode,t.type){case"input":if($l(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Gt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=i[wt]||null;if(!o)throw Error(s(90));$l(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&sf(i)}break e;case"textarea":of(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Ia(e,!!n.multiple,t,!1)}}}var Ql=!1;function hf(e,t,n){if(Ql)return e(t,n);Ql=!0;try{var i=e(t);return i}finally{if(Ql=!1,(Pa!==null||Wa!==null)&&(Qs(),Pa&&(t=Pa,e=Wa,Wa=Pa=null,df(t),e)))for(t=0;t<e.length;t++)df(e[t])}}function Ii(e,t){var n=e.stateNode;if(n===null)return null;var i=n[wt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jl=!1;if(vn)try{var Zi={};Object.defineProperty(Zi,"passive",{get:function(){Jl=!0}}),window.addEventListener("test",Zi,Zi),window.removeEventListener("test",Zi,Zi)}catch{Jl=!1}var Mn=null,Xl=null,ss=null;function mf(){if(ss)return ss;var e,t=Xl,n=t.length,i,o="value"in Mn?Mn.value:Mn.textContent,f=o.length;for(e=0;e<n&&t[e]===o[e];e++);var m=n-e;for(i=1;i<=m&&t[n-i]===o[f-i];i++);return ss=o.slice(e,1<i?1-i:void 0)}function ls(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function os(){return!0}function gf(){return!1}function St(e){function t(n,i,o,f,m){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(n=e[y],this[y]=n?n(f):f[y]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?os:gf,this.isPropagationStopped=gf,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),t}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},us=St(va),Pi=b({},va,{view:0,detail:0}),hy=St(Pi),Il,Zl,Wi,cs=b({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wi&&(Wi&&e.type==="mousemove"?(Il=e.screenX-Wi.screenX,Zl=e.screenY-Wi.screenY):Zl=Il=0,Wi=e),Il)},movementY:function(e){return"movementY"in e?e.movementY:Zl}}),vf=St(cs),my=b({},cs,{dataTransfer:0}),gy=St(my),vy=b({},Pi,{relatedTarget:0}),Pl=St(vy),yy=b({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),py=St(yy),by=b({},va,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_y=St(by),wy=b({},va,{data:0}),yf=St(wy),Sy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ty(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xy[e])?!!t[e]:!1}function Wl(){return Ty}var Oy=b({},Pi,{key:function(e){if(e.key){var t=Sy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ls(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ey[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wl,charCode:function(e){return e.type==="keypress"?ls(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ls(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jy=St(Oy),Ay=b({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pf=St(Ay),Cy=b({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wl}),Ry=St(Cy),Ny=b({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),ky=St(Ny),Dy=b({},cs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uy=St(Dy),zy=b({},va,{newState:0,oldState:0}),My=St(zy),By=[9,13,27,32],Fl=vn&&"CompositionEvent"in window,Fi=null;vn&&"documentMode"in document&&(Fi=document.documentMode);var Ly=vn&&"TextEvent"in window&&!Fi,bf=vn&&(!Fl||Fi&&8<Fi&&11>=Fi),_f=" ",wf=!1;function Sf(e,t){switch(e){case"keyup":return By.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ef(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fa=!1;function qy(e,t){switch(e){case"compositionend":return Ef(t);case"keypress":return t.which!==32?null:(wf=!0,_f);case"textInput":return e=t.data,e===_f&&wf?null:e;default:return null}}function Hy(e,t){if(Fa)return e==="compositionend"||!Fl&&Sf(e,t)?(e=mf(),ss=Xl=Mn=null,Fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bf&&t.locale!=="ko"?null:t.data;default:return null}}var $y={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$y[e.type]:t==="textarea"}function Tf(e,t,n,i){Pa?Wa?Wa.push(i):Wa=[i]:Pa=i,t=Fs(t,"onChange"),0<t.length&&(n=new us("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var er=null,tr=null;function Vy(e){lm(e,0)}function fs(e){var t=Xi(e);if(sf(t))return e}function Of(e,t){if(e==="change")return t}var jf=!1;if(vn){var eo;if(vn){var to="oninput"in document;if(!to){var Af=document.createElement("div");Af.setAttribute("oninput","return;"),to=typeof Af.oninput=="function"}eo=to}else eo=!1;jf=eo&&(!document.documentMode||9<document.documentMode)}function Cf(){er&&(er.detachEvent("onpropertychange",Rf),tr=er=null)}function Rf(e){if(e.propertyName==="value"&&fs(tr)){var t=[];Tf(t,tr,e,Kl(e)),hf(Vy,t)}}function Gy(e,t,n){e==="focusin"?(Cf(),er=t,tr=n,er.attachEvent("onpropertychange",Rf)):e==="focusout"&&Cf()}function Yy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fs(tr)}function Ky(e,t){if(e==="click")return fs(t)}function Qy(e,t){if(e==="input"||e==="change")return fs(t)}function Jy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:Jy;function nr(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!Yi.call(t,o)||!kt(e[o],t[o]))return!1}return!0}function Nf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kf(e,t){var n=Nf(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nf(n)}}function Df(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Df(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=is(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=is(e.document)}return t}function no(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Xy=vn&&"documentMode"in document&&11>=document.documentMode,ei=null,ao=null,ar=null,io=!1;function zf(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;io||ei==null||ei!==is(i)||(i=ei,"selectionStart"in i&&no(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ar&&nr(ar,i)||(ar=i,i=Fs(ao,"onSelect"),0<i.length&&(t=new us("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ei)))}function ya(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ti={animationend:ya("Animation","AnimationEnd"),animationiteration:ya("Animation","AnimationIteration"),animationstart:ya("Animation","AnimationStart"),transitionrun:ya("Transition","TransitionRun"),transitionstart:ya("Transition","TransitionStart"),transitioncancel:ya("Transition","TransitionCancel"),transitionend:ya("Transition","TransitionEnd")},ro={},Mf={};vn&&(Mf=document.createElement("div").style,"AnimationEvent"in window||(delete ti.animationend.animation,delete ti.animationiteration.animation,delete ti.animationstart.animation),"TransitionEvent"in window||delete ti.transitionend.transition);function pa(e){if(ro[e])return ro[e];if(!ti[e])return e;var t=ti[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Mf)return ro[e]=t[n];return e}var Bf=pa("animationend"),Lf=pa("animationiteration"),qf=pa("animationstart"),Iy=pa("transitionrun"),Zy=pa("transitionstart"),Py=pa("transitioncancel"),Hf=pa("transitionend"),$f=new Map,so="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");so.push("scrollEnd");function Ft(e,t){$f.set(e,t),ga(t,[e])}var ds=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yt=[],ni=0,lo=0;function hs(){for(var e=ni,t=lo=ni=0;t<e;){var n=Yt[t];Yt[t++]=null;var i=Yt[t];Yt[t++]=null;var o=Yt[t];Yt[t++]=null;var f=Yt[t];if(Yt[t++]=null,i!==null&&o!==null){var m=i.pending;m===null?o.next=o:(o.next=m.next,m.next=o),i.pending=o}f!==0&&Vf(n,o,f)}}function ms(e,t,n,i){Yt[ni++]=e,Yt[ni++]=t,Yt[ni++]=n,Yt[ni++]=i,lo|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function oo(e,t,n,i){return ms(e,t,n,i),gs(e)}function ba(e,t){return ms(e,null,null,t),gs(e)}function Vf(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var o=!1,f=e.return;f!==null;)f.childLanes|=n,i=f.alternate,i!==null&&(i.childLanes|=n),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(o=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,o&&t!==null&&(o=31-Nt(n),e=f.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=n|536870912),f):null}function gs(e){if(50<Tr)throw Tr=0,pu=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ai={};function Wy(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(e,t,n,i){return new Wy(e,t,n,i)}function uo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yn(e,t){var n=e.alternate;return n===null?(n=Dt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Gf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function vs(e,t,n,i,o,f){var m=0;if(i=e,typeof e=="function")uo(e)&&(m=1);else if(typeof e=="string")m=a0(e,n,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case F:return e=Dt(31,n,t,o),e.elementType=F,e.lanes=f,e;case D:return _a(n.children,o,f,t);case j:m=8,o|=24;break;case V:return e=Dt(12,n,t,o|2),e.elementType=V,e.lanes=f,e;case ee:return e=Dt(13,n,t,o),e.elementType=ee,e.lanes=f,e;case Q:return e=Dt(19,n,t,o),e.elementType=Q,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case L:m=10;break e;case z:m=9;break e;case J:m=11;break e;case N:m=14;break e;case K:m=16,i=null;break e}m=29,n=Error(s(130,e===null?"null":typeof e,"")),i=null}return t=Dt(m,n,t,o),t.elementType=e,t.type=i,t.lanes=f,t}function _a(e,t,n,i){return e=Dt(7,e,i,t),e.lanes=n,e}function co(e,t,n){return e=Dt(6,e,null,t),e.lanes=n,e}function Yf(e){var t=Dt(18,null,null,0);return t.stateNode=e,t}function fo(e,t,n){return t=Dt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kf=new WeakMap;function Kt(e,t){if(typeof e=="object"&&e!==null){var n=Kf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Pr(t)},Kf.set(e,t),t)}return{value:e,source:t,stack:Pr(t)}}var ii=[],ri=0,ys=null,ir=0,Qt=[],Jt=0,Bn=null,ln=1,on="";function pn(e,t){ii[ri++]=ir,ii[ri++]=ys,ys=e,ir=t}function Qf(e,t,n){Qt[Jt++]=ln,Qt[Jt++]=on,Qt[Jt++]=Bn,Bn=e;var i=ln;e=on;var o=32-Nt(i)-1;i&=~(1<<o),n+=1;var f=32-Nt(t)+o;if(30<f){var m=o-o%5;f=(i&(1<<m)-1).toString(32),i>>=m,o-=m,ln=1<<32-Nt(t)+o|n<<o|i,on=f+e}else ln=1<<f|n<<o|i,on=e}function ho(e){e.return!==null&&(pn(e,1),Qf(e,1,0))}function mo(e){for(;e===ys;)ys=ii[--ri],ii[ri]=null,ir=ii[--ri],ii[ri]=null;for(;e===Bn;)Bn=Qt[--Jt],Qt[Jt]=null,on=Qt[--Jt],Qt[Jt]=null,ln=Qt[--Jt],Qt[Jt]=null}function Jf(e,t){Qt[Jt++]=ln,Qt[Jt++]=on,Qt[Jt++]=Bn,ln=t.id,on=t.overflow,Bn=e}var dt=null,Le=null,Ee=!1,Ln=null,Xt=!1,go=Error(s(519));function qn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rr(Kt(t,e)),go}function Xf(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[ft]=e,t[wt]=i,n){case"dialog":pe("cancel",t),pe("close",t);break;case"iframe":case"object":case"embed":pe("load",t);break;case"video":case"audio":for(n=0;n<jr.length;n++)pe(jr[n],t);break;case"source":pe("error",t);break;case"img":case"image":case"link":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"input":pe("invalid",t),lf(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":pe("invalid",t);break;case"textarea":pe("invalid",t),uf(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||fm(t.textContent,n)?(i.popover!=null&&(pe("beforetoggle",t),pe("toggle",t)),i.onScroll!=null&&pe("scroll",t),i.onScrollEnd!=null&&pe("scrollend",t),i.onClick!=null&&(t.onclick=gn),t=!0):t=!1,t||qn(e,!0)}function If(e){for(dt=e.return;dt;)switch(dt.tag){case 5:case 31:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:dt=dt.return}}function si(e){if(e!==dt)return!1;if(!Ee)return If(e),Ee=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Du(e.type,e.memoizedProps)),n=!n),n&&Le&&qn(e),If(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Le=_m(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Le=_m(e)}else t===27?(t=Le,Fn(e.type)?(e=Lu,Lu=null,Le=e):Le=t):Le=dt?Zt(e.stateNode.nextSibling):null;return!0}function wa(){Le=dt=null,Ee=!1}function vo(){var e=Ln;return e!==null&&(Ot===null?Ot=e:Ot.push.apply(Ot,e),Ln=null),e}function rr(e){Ln===null?Ln=[e]:Ln.push(e)}var yo=x(null),Sa=null,bn=null;function Hn(e,t,n){I(yo,t._currentValue),t._currentValue=n}function _n(e){e._currentValue=yo.current,$(yo)}function po(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function bo(e,t,n,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var f=o.dependencies;if(f!==null){var m=o.child;f=f.firstContext;e:for(;f!==null;){var y=f;f=o;for(var w=0;w<t.length;w++)if(y.context===t[w]){f.lanes|=n,y=f.alternate,y!==null&&(y.lanes|=n),po(f.return,n,e),i||(m=null);break e}f=y.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(s(341));m.lanes|=n,f=m.alternate,f!==null&&(f.lanes|=n),po(m,n,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function li(e,t,n,i){e=null;for(var o=t,f=!1;o!==null;){if(!f){if((o.flags&524288)!==0)f=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(s(387));if(m=m.memoizedProps,m!==null){var y=o.type;kt(o.pendingProps.value,m.value)||(e!==null?e.push(y):e=[y])}}else if(o===ge.current){if(m=o.alternate,m===null)throw Error(s(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(kr):e=[kr])}o=o.return}e!==null&&bo(t,e,n,i),t.flags|=262144}function ps(e){for(e=e.firstContext;e!==null;){if(!kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ea(e){Sa=e,bn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ht(e){return Zf(Sa,e)}function bs(e,t){return Sa===null&&Ea(e),Zf(e,t)}function Zf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},bn===null){if(e===null)throw Error(s(308));bn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bn=bn.next=t;return n}var Fy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},ep=l.unstable_scheduleCallback,tp=l.unstable_NormalPriority,We={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _o(){return{controller:new Fy,data:new Map,refCount:0}}function sr(e){e.refCount--,e.refCount===0&&ep(tp,function(){e.controller.abort()})}var lr=null,wo=0,oi=0,ui=null;function np(e,t){if(lr===null){var n=lr=[];wo=0,oi=xu(),ui={status:"pending",value:void 0,then:function(i){n.push(i)}}}return wo++,t.then(Pf,Pf),t}function Pf(){if(--wo===0&&lr!==null){ui!==null&&(ui.status="fulfilled");var e=lr;lr=null,oi=0,ui=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ap(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var Wf=B.S;B.S=function(e,t){zh=ve(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&np(e,t),Wf!==null&&Wf(e,t)};var xa=x(null);function So(){var e=xa.current;return e!==null?e:ze.pooledCache}function _s(e,t){t===null?I(xa,xa.current):I(xa,t.pool)}function Ff(){var e=So();return e===null?null:{parent:We._currentValue,pool:e}}var ci=Error(s(460)),Eo=Error(s(474)),ws=Error(s(542)),Ss={then:function(){}};function ed(e){return e=e.status,e==="fulfilled"||e==="rejected"}function td(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(gn,gn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ad(e),e;default:if(typeof t.status=="string")t.then(gn,gn);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,ad(e),e}throw Oa=t,ci}}function Ta(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Oa=n,ci):n}}var Oa=null;function nd(){if(Oa===null)throw Error(s(459));var e=Oa;return Oa=null,e}function ad(e){if(e===ci||e===ws)throw Error(s(483))}var fi=null,or=0;function Es(e){var t=or;return or+=1,fi===null&&(fi=[]),td(fi,e,t)}function ur(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function xs(e,t){throw t.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function id(e){function t(O,E){if(e){var C=O.deletions;C===null?(O.deletions=[E],O.flags|=16):C.push(E)}}function n(O,E){if(!e)return null;for(;E!==null;)t(O,E),E=E.sibling;return null}function i(O){for(var E=new Map;O!==null;)O.key!==null?E.set(O.key,O):E.set(O.index,O),O=O.sibling;return E}function o(O,E){return O=yn(O,E),O.index=0,O.sibling=null,O}function f(O,E,C){return O.index=C,e?(C=O.alternate,C!==null?(C=C.index,C<E?(O.flags|=67108866,E):C):(O.flags|=67108866,E)):(O.flags|=1048576,E)}function m(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function y(O,E,C,H){return E===null||E.tag!==6?(E=co(C,O.mode,H),E.return=O,E):(E=o(E,C),E.return=O,E)}function w(O,E,C,H){var ae=C.type;return ae===D?q(O,E,C.props.children,H,C.key):E!==null&&(E.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===K&&Ta(ae)===E.type)?(E=o(E,C.props),ur(E,C),E.return=O,E):(E=vs(C.type,C.key,C.props,null,O.mode,H),ur(E,C),E.return=O,E)}function R(O,E,C,H){return E===null||E.tag!==4||E.stateNode.containerInfo!==C.containerInfo||E.stateNode.implementation!==C.implementation?(E=fo(C,O.mode,H),E.return=O,E):(E=o(E,C.children||[]),E.return=O,E)}function q(O,E,C,H,ae){return E===null||E.tag!==7?(E=_a(C,O.mode,H,ae),E.return=O,E):(E=o(E,C),E.return=O,E)}function G(O,E,C){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=co(""+E,O.mode,C),E.return=O,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case T:return C=vs(E.type,E.key,E.props,null,O.mode,C),ur(C,E),C.return=O,C;case M:return E=fo(E,O.mode,C),E.return=O,E;case K:return E=Ta(E),G(O,E,C)}if(at(E)||ue(E))return E=_a(E,O.mode,C,null),E.return=O,E;if(typeof E.then=="function")return G(O,Es(E),C);if(E.$$typeof===L)return G(O,bs(O,E),C);xs(O,E)}return null}function k(O,E,C,H){var ae=E!==null?E.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return ae!==null?null:y(O,E,""+C,H);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case T:return C.key===ae?w(O,E,C,H):null;case M:return C.key===ae?R(O,E,C,H):null;case K:return C=Ta(C),k(O,E,C,H)}if(at(C)||ue(C))return ae!==null?null:q(O,E,C,H,null);if(typeof C.then=="function")return k(O,E,Es(C),H);if(C.$$typeof===L)return k(O,E,bs(O,C),H);xs(O,C)}return null}function U(O,E,C,H,ae){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return O=O.get(C)||null,y(E,O,""+H,ae);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return O=O.get(H.key===null?C:H.key)||null,w(E,O,H,ae);case M:return O=O.get(H.key===null?C:H.key)||null,R(E,O,H,ae);case K:return H=Ta(H),U(O,E,C,H,ae)}if(at(H)||ue(H))return O=O.get(C)||null,q(E,O,H,ae,null);if(typeof H.then=="function")return U(O,E,C,Es(H),ae);if(H.$$typeof===L)return U(O,E,C,bs(E,H),ae);xs(E,H)}return null}function W(O,E,C,H){for(var ae=null,Oe=null,te=E,me=E=0,we=null;te!==null&&me<C.length;me++){te.index>me?(we=te,te=null):we=te.sibling;var je=k(O,te,C[me],H);if(je===null){te===null&&(te=we);break}e&&te&&je.alternate===null&&t(O,te),E=f(je,E,me),Oe===null?ae=je:Oe.sibling=je,Oe=je,te=we}if(me===C.length)return n(O,te),Ee&&pn(O,me),ae;if(te===null){for(;me<C.length;me++)te=G(O,C[me],H),te!==null&&(E=f(te,E,me),Oe===null?ae=te:Oe.sibling=te,Oe=te);return Ee&&pn(O,me),ae}for(te=i(te);me<C.length;me++)we=U(te,O,me,C[me],H),we!==null&&(e&&we.alternate!==null&&te.delete(we.key===null?me:we.key),E=f(we,E,me),Oe===null?ae=we:Oe.sibling=we,Oe=we);return e&&te.forEach(function(ia){return t(O,ia)}),Ee&&pn(O,me),ae}function le(O,E,C,H){if(C==null)throw Error(s(151));for(var ae=null,Oe=null,te=E,me=E=0,we=null,je=C.next();te!==null&&!je.done;me++,je=C.next()){te.index>me?(we=te,te=null):we=te.sibling;var ia=k(O,te,je.value,H);if(ia===null){te===null&&(te=we);break}e&&te&&ia.alternate===null&&t(O,te),E=f(ia,E,me),Oe===null?ae=ia:Oe.sibling=ia,Oe=ia,te=we}if(je.done)return n(O,te),Ee&&pn(O,me),ae;if(te===null){for(;!je.done;me++,je=C.next())je=G(O,je.value,H),je!==null&&(E=f(je,E,me),Oe===null?ae=je:Oe.sibling=je,Oe=je);return Ee&&pn(O,me),ae}for(te=i(te);!je.done;me++,je=C.next())je=U(te,O,me,je.value,H),je!==null&&(e&&je.alternate!==null&&te.delete(je.key===null?me:je.key),E=f(je,E,me),Oe===null?ae=je:Oe.sibling=je,Oe=je);return e&&te.forEach(function(m0){return t(O,m0)}),Ee&&pn(O,me),ae}function Ue(O,E,C,H){if(typeof C=="object"&&C!==null&&C.type===D&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case T:e:{for(var ae=C.key;E!==null;){if(E.key===ae){if(ae=C.type,ae===D){if(E.tag===7){n(O,E.sibling),H=o(E,C.props.children),H.return=O,O=H;break e}}else if(E.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===K&&Ta(ae)===E.type){n(O,E.sibling),H=o(E,C.props),ur(H,C),H.return=O,O=H;break e}n(O,E);break}else t(O,E);E=E.sibling}C.type===D?(H=_a(C.props.children,O.mode,H,C.key),H.return=O,O=H):(H=vs(C.type,C.key,C.props,null,O.mode,H),ur(H,C),H.return=O,O=H)}return m(O);case M:e:{for(ae=C.key;E!==null;){if(E.key===ae)if(E.tag===4&&E.stateNode.containerInfo===C.containerInfo&&E.stateNode.implementation===C.implementation){n(O,E.sibling),H=o(E,C.children||[]),H.return=O,O=H;break e}else{n(O,E);break}else t(O,E);E=E.sibling}H=fo(C,O.mode,H),H.return=O,O=H}return m(O);case K:return C=Ta(C),Ue(O,E,C,H)}if(at(C))return W(O,E,C,H);if(ue(C)){if(ae=ue(C),typeof ae!="function")throw Error(s(150));return C=ae.call(C),le(O,E,C,H)}if(typeof C.then=="function")return Ue(O,E,Es(C),H);if(C.$$typeof===L)return Ue(O,E,bs(O,C),H);xs(O,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,E!==null&&E.tag===6?(n(O,E.sibling),H=o(E,C),H.return=O,O=H):(n(O,E),H=co(C,O.mode,H),H.return=O,O=H),m(O)):n(O,E)}return function(O,E,C,H){try{or=0;var ae=Ue(O,E,C,H);return fi=null,ae}catch(te){if(te===ci||te===ws)throw te;var Oe=Dt(29,te,null,O.mode);return Oe.lanes=H,Oe.return=O,Oe}finally{}}}var ja=id(!0),rd=id(!1),$n=!1;function xo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function To(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Ae&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=gs(e),Vf(e,null,n),t}return ms(e,i,t,n),gs(e)}function cr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Ic(e,n)}}function Oo(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,f=null;if(n=n.firstBaseUpdate,n!==null){do{var m={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};f===null?o=f=m:f=f.next=m,n=n.next}while(n!==null);f===null?o=f=t:f=f.next=t}else o=f=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:f,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var jo=!1;function fr(){if(jo){var e=ui;if(e!==null)throw e}}function dr(e,t,n,i){jo=!1;var o=e.updateQueue;$n=!1;var f=o.firstBaseUpdate,m=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var w=y,R=w.next;w.next=null,m===null?f=R:m.next=R,m=w;var q=e.alternate;q!==null&&(q=q.updateQueue,y=q.lastBaseUpdate,y!==m&&(y===null?q.firstBaseUpdate=R:y.next=R,q.lastBaseUpdate=w))}if(f!==null){var G=o.baseState;m=0,q=R=w=null,y=f;do{var k=y.lane&-536870913,U=k!==y.lane;if(U?(_e&k)===k:(i&k)===k){k!==0&&k===oi&&(jo=!0),q!==null&&(q=q.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var W=e,le=y;k=t;var Ue=n;switch(le.tag){case 1:if(W=le.payload,typeof W=="function"){G=W.call(Ue,G,k);break e}G=W;break e;case 3:W.flags=W.flags&-65537|128;case 0:if(W=le.payload,k=typeof W=="function"?W.call(Ue,G,k):W,k==null)break e;G=b({},G,k);break e;case 2:$n=!0}}k=y.callback,k!==null&&(e.flags|=64,U&&(e.flags|=8192),U=o.callbacks,U===null?o.callbacks=[k]:U.push(k))}else U={lane:k,tag:y.tag,payload:y.payload,callback:y.callback,next:null},q===null?(R=q=U,w=G):q=q.next=U,m|=k;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;U=y,y=U.next,U.next=null,o.lastBaseUpdate=U,o.shared.pending=null}}while(!0);q===null&&(w=G),o.baseState=w,o.firstBaseUpdate=R,o.lastBaseUpdate=q,f===null&&(o.shared.lanes=0),Xn|=m,e.lanes=m,e.memoizedState=G}}function sd(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function ld(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)sd(n[e],t)}var di=x(null),Ts=x(0);function od(e,t){e=Cn,I(Ts,e),I(di,t),Cn=e|t.baseLanes}function Ao(){I(Ts,Cn),I(di,di.current)}function Co(){Cn=Ts.current,$(di),$(Ts)}var Ut=x(null),It=null;function Yn(e){var t=e.alternate;I(Ie,Ie.current&1),I(Ut,e),It===null&&(t===null||di.current!==null||t.memoizedState!==null)&&(It=e)}function Ro(e){I(Ie,Ie.current),I(Ut,e),It===null&&(It=e)}function ud(e){e.tag===22?(I(Ie,Ie.current),I(Ut,e),It===null&&(It=e)):Kn()}function Kn(){I(Ie,Ie.current),I(Ut,Ut.current)}function zt(e){$(Ut),It===e&&(It=null),$(Ie)}var Ie=x(0);function Os(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Mu(n)||Bu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wn=0,he=null,ke=null,Fe=null,js=!1,hi=!1,Aa=!1,As=0,hr=0,mi=null,ip=0;function Je(){throw Error(s(321))}function No(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function ko(e,t,n,i,o,f){return wn=f,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?Qd:Jo,Aa=!1,f=n(i,o),Aa=!1,hi&&(f=fd(t,n,i,o)),cd(e),f}function cd(e){B.H=vr;var t=ke!==null&&ke.next!==null;if(wn=0,Fe=ke=he=null,js=!1,hr=0,mi=null,t)throw Error(s(300));e===null||et||(e=e.dependencies,e!==null&&ps(e)&&(et=!0))}function fd(e,t,n,i){he=e;var o=0;do{if(hi&&(mi=null),hr=0,hi=!1,25<=o)throw Error(s(301));if(o+=1,Fe=ke=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=Jd,f=t(n,i)}while(hi);return f}function rp(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?mr(t):t,e=e.useState()[0],(ke!==null?ke.memoizedState:null)!==e&&(he.flags|=1024),t}function Do(){var e=As!==0;return As=0,e}function Uo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function zo(e){if(js){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}js=!1}wn=0,Fe=ke=he=null,hi=!1,hr=As=0,mi=null}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?he.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function Ze(){if(ke===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=ke.next;var t=Fe===null?he.memoizedState:Fe.next;if(t!==null)Fe=t,ke=e;else{if(e===null)throw he.alternate===null?Error(s(467)):Error(s(310));ke=e,e={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},Fe===null?he.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function Cs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mr(e){var t=hr;return hr+=1,mi===null&&(mi=[]),e=td(mi,e,t),t=he,(Fe===null?t.memoizedState:Fe.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?Qd:Jo),e}function Rs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return mr(e);if(e.$$typeof===L)return ht(e)}throw Error(s(438,String(e)))}function Mo(e){var t=null,n=he.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=he.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Cs(),he.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Ne;return t.index++,n}function Sn(e,t){return typeof t=="function"?t(e):t}function Ns(e){var t=Ze();return Bo(t,ke,e)}function Bo(e,t,n){var i=e.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=n;var o=e.baseQueue,f=i.pending;if(f!==null){if(o!==null){var m=o.next;o.next=f.next,f.next=m}t.baseQueue=o=f,i.pending=null}if(f=e.baseState,o===null)e.memoizedState=f;else{t=o.next;var y=m=null,w=null,R=t,q=!1;do{var G=R.lane&-536870913;if(G!==R.lane?(_e&G)===G:(wn&G)===G){var k=R.revertLane;if(k===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),G===oi&&(q=!0);else if((wn&k)===k){R=R.next,k===oi&&(q=!0);continue}else G={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},w===null?(y=w=G,m=f):w=w.next=G,he.lanes|=k,Xn|=k;G=R.action,Aa&&n(f,G),f=R.hasEagerState?R.eagerState:n(f,G)}else k={lane:G,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},w===null?(y=w=k,m=f):w=w.next=k,he.lanes|=G,Xn|=G;R=R.next}while(R!==null&&R!==t);if(w===null?m=f:w.next=y,!kt(f,e.memoizedState)&&(et=!0,q&&(n=ui,n!==null)))throw n;e.memoizedState=f,e.baseState=m,e.baseQueue=w,i.lastRenderedState=f}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Lo(e){var t=Ze(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,f=t.memoizedState;if(o!==null){n.pending=null;var m=o=o.next;do f=e(f,m.action),m=m.next;while(m!==o);kt(f,t.memoizedState)||(et=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),n.lastRenderedState=f}return[f,i]}function dd(e,t,n){var i=he,o=Ze(),f=Ee;if(f){if(n===void 0)throw Error(s(407));n=n()}else n=t();var m=!kt((ke||o).memoizedState,n);if(m&&(o.memoizedState=n,et=!0),o=o.queue,$o(gd.bind(null,i,o,e),[e]),o.getSnapshot!==t||m||Fe!==null&&Fe.memoizedState.tag&1){if(i.flags|=2048,gi(9,{destroy:void 0},md.bind(null,i,o,n,t),null),ze===null)throw Error(s(349));f||(wn&127)!==0||hd(i,t,n)}return n}function hd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t=Cs(),he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function md(e,t,n,i){t.value=n,t.getSnapshot=i,vd(t)&&yd(e)}function gd(e,t,n){return n(function(){vd(t)&&yd(e)})}function vd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function yd(e){var t=ba(e,2);t!==null&&jt(t,e,2)}function qo(e){var t=bt();if(typeof e=="function"){var n=e;if(e=n(),Aa){sn(!0);try{n()}finally{sn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:e},t}function pd(e,t,n,i){return e.baseState=n,Bo(e,ke,typeof i=="function"?i:Sn)}function sp(e,t,n,i,o){if(Us(e))throw Error(s(485));if(e=t.action,e!==null){var f={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){f.listeners.push(m)}};B.T!==null?n(!0):f.isTransition=!1,i(f),n=t.pending,n===null?(f.next=t.pending=f,bd(t,f)):(f.next=n.next,t.pending=n.next=f)}}function bd(e,t){var n=t.action,i=t.payload,o=e.state;if(t.isTransition){var f=B.T,m={};B.T=m;try{var y=n(o,i),w=B.S;w!==null&&w(m,y),_d(e,t,y)}catch(R){Ho(e,t,R)}finally{f!==null&&m.types!==null&&(f.types=m.types),B.T=f}}else try{f=n(o,i),_d(e,t,f)}catch(R){Ho(e,t,R)}}function _d(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){wd(e,t,i)},function(i){return Ho(e,t,i)}):wd(e,t,n)}function wd(e,t,n){t.status="fulfilled",t.value=n,Sd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,bd(e,n)))}function Ho(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,Sd(t),t=t.next;while(t!==i)}e.action=null}function Sd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ed(e,t){return t}function xd(e,t){if(Ee){var n=ze.formState;if(n!==null){e:{var i=he;if(Ee){if(Le){t:{for(var o=Le,f=Xt;o.nodeType!==8;){if(!f){o=null;break t}if(o=Zt(o.nextSibling),o===null){o=null;break t}}f=o.data,o=f==="F!"||f==="F"?o:null}if(o){Le=Zt(o.nextSibling),i=o.data==="F!";break e}}qn(i)}i=!1}i&&(t=n[0])}}return n=bt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ed,lastRenderedState:t},n.queue=i,n=Gd.bind(null,he,i),i.dispatch=n,i=qo(!1),f=Qo.bind(null,he,!1,i.queue),i=bt(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,n=sp.bind(null,he,o,f,n),o.dispatch=n,i.memoizedState=e,[t,n,!1]}function Td(e){var t=Ze();return Od(t,ke,e)}function Od(e,t,n){if(t=Bo(e,t,Ed)[0],e=Ns(Sn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=mr(t)}catch(m){throw m===ci?ws:m}else i=t;t=Ze();var o=t.queue,f=o.dispatch;return n!==t.memoizedState&&(he.flags|=2048,gi(9,{destroy:void 0},lp.bind(null,o,n),null)),[i,f,e]}function lp(e,t){e.action=t}function jd(e){var t=Ze(),n=ke;if(n!==null)return Od(t,n,e);Ze(),t=t.memoizedState,n=Ze();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function gi(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=he.updateQueue,t===null&&(t=Cs(),he.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Ad(){return Ze().memoizedState}function ks(e,t,n,i){var o=bt();he.flags|=e,o.memoizedState=gi(1|t,{destroy:void 0},n,i===void 0?null:i)}function Ds(e,t,n,i){var o=Ze();i=i===void 0?null:i;var f=o.memoizedState.inst;ke!==null&&i!==null&&No(i,ke.memoizedState.deps)?o.memoizedState=gi(t,f,n,i):(he.flags|=e,o.memoizedState=gi(1|t,f,n,i))}function Cd(e,t){ks(8390656,8,e,t)}function $o(e,t){Ds(2048,8,e,t)}function op(e){he.flags|=4;var t=he.updateQueue;if(t===null)t=Cs(),he.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Rd(e){var t=Ze().memoizedState;return op({ref:t,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Nd(e,t){return Ds(4,2,e,t)}function kd(e,t){return Ds(4,4,e,t)}function Dd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ud(e,t,n){n=n!=null?n.concat([e]):null,Ds(4,4,Dd.bind(null,t,e),n)}function Vo(){}function zd(e,t){var n=Ze();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&No(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Md(e,t){var n=Ze();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&No(t,i[1]))return i[0];if(i=e(),Aa){sn(!0);try{e()}finally{sn(!1)}}return n.memoizedState=[i,t],i}function Go(e,t,n){return n===void 0||(wn&1073741824)!==0&&(_e&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Bh(),he.lanes|=e,Xn|=e,n)}function Bd(e,t,n,i){return kt(n,t)?n:di.current!==null?(e=Go(e,n,i),kt(e,t)||(et=!0),e):(wn&42)===0||(wn&1073741824)!==0&&(_e&261930)===0?(et=!0,e.memoizedState=n):(e=Bh(),he.lanes|=e,Xn|=e,t)}function Ld(e,t,n,i,o){var f=X.p;X.p=f!==0&&8>f?f:8;var m=B.T,y={};B.T=y,Qo(e,!1,t,n);try{var w=o(),R=B.S;if(R!==null&&R(y,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var q=ap(w,i);gr(e,t,q,Lt(e))}else gr(e,t,i,Lt(e))}catch(G){gr(e,t,{then:function(){},status:"rejected",reason:G},Lt())}finally{X.p=f,m!==null&&y.types!==null&&(m.types=y.types),B.T=m}}function up(){}function Yo(e,t,n,i){if(e.tag!==5)throw Error(s(476));var o=qd(e).queue;Ld(e,o,t,se,n===null?up:function(){return Hd(e),n(i)})}function qd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:se},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Hd(e){var t=qd(e);t.next===null&&(t=e.alternate.memoizedState),gr(e,t.next.queue,{},Lt())}function Ko(){return ht(kr)}function $d(){return Ze().memoizedState}function Vd(){return Ze().memoizedState}function cp(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Lt();e=Vn(n);var i=Gn(t,e,n);i!==null&&(jt(i,t,n),cr(i,t,n)),t={cache:_o()},e.payload=t;return}t=t.return}}function fp(e,t,n){var i=Lt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Us(e)?Yd(t,n):(n=oo(e,t,n,i),n!==null&&(jt(n,e,i),Kd(n,t,i)))}function Gd(e,t,n){var i=Lt();gr(e,t,n,i)}function gr(e,t,n,i){var o={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Us(e))Yd(t,o);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var m=t.lastRenderedState,y=f(m,n);if(o.hasEagerState=!0,o.eagerState=y,kt(y,m))return ms(e,t,o,0),ze===null&&hs(),!1}catch{}finally{}if(n=oo(e,t,o,i),n!==null)return jt(n,e,i),Kd(n,t,i),!0}return!1}function Qo(e,t,n,i){if(i={lane:2,revertLane:xu(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Us(e)){if(t)throw Error(s(479))}else t=oo(e,n,i,2),t!==null&&jt(t,e,2)}function Us(e){var t=e.alternate;return e===he||t!==null&&t===he}function Yd(e,t){hi=js=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Kd(e,t,n){if((n&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Ic(e,n)}}var vr={readContext:ht,use:Rs,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};vr.useEffectEvent=Je;var Qd={readContext:ht,use:Rs,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:Cd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ks(4194308,4,Dd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ks(4194308,4,e,t)},useInsertionEffect:function(e,t){ks(4,2,e,t)},useMemo:function(e,t){var n=bt();t=t===void 0?null:t;var i=e();if(Aa){sn(!0);try{e()}finally{sn(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=bt();if(n!==void 0){var o=n(t);if(Aa){sn(!0);try{n(t)}finally{sn(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=fp.bind(null,he,e),[i.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:function(e){e=qo(e);var t=e.queue,n=Gd.bind(null,he,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Vo,useDeferredValue:function(e,t){var n=bt();return Go(n,e,t)},useTransition:function(){var e=qo(!1);return e=Ld.bind(null,he,e.queue,!0,!1),bt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=he,o=bt();if(Ee){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),ze===null)throw Error(s(349));(_e&127)!==0||hd(i,t,n)}o.memoizedState=n;var f={value:n,getSnapshot:t};return o.queue=f,Cd(gd.bind(null,i,f,e),[e]),i.flags|=2048,gi(9,{destroy:void 0},md.bind(null,i,f,n,t),null),n},useId:function(){var e=bt(),t=ze.identifierPrefix;if(Ee){var n=on,i=ln;n=(i&~(1<<32-Nt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=As++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=ip++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ko,useFormState:xd,useActionState:xd,useOptimistic:function(e){var t=bt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Qo.bind(null,he,!0,n),n.dispatch=t,[e,t]},useMemoCache:Mo,useCacheRefresh:function(){return bt().memoizedState=cp.bind(null,he)},useEffectEvent:function(e){var t=bt(),n={impl:e};return t.memoizedState=n,function(){if((Ae&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}},Jo={readContext:ht,use:Rs,useCallback:zd,useContext:ht,useEffect:$o,useImperativeHandle:Ud,useInsertionEffect:Nd,useLayoutEffect:kd,useMemo:Md,useReducer:Ns,useRef:Ad,useState:function(){return Ns(Sn)},useDebugValue:Vo,useDeferredValue:function(e,t){var n=Ze();return Bd(n,ke.memoizedState,e,t)},useTransition:function(){var e=Ns(Sn)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:mr(e),t]},useSyncExternalStore:dd,useId:$d,useHostTransitionStatus:Ko,useFormState:Td,useActionState:Td,useOptimistic:function(e,t){var n=Ze();return pd(n,ke,e,t)},useMemoCache:Mo,useCacheRefresh:Vd};Jo.useEffectEvent=Rd;var Jd={readContext:ht,use:Rs,useCallback:zd,useContext:ht,useEffect:$o,useImperativeHandle:Ud,useInsertionEffect:Nd,useLayoutEffect:kd,useMemo:Md,useReducer:Lo,useRef:Ad,useState:function(){return Lo(Sn)},useDebugValue:Vo,useDeferredValue:function(e,t){var n=Ze();return ke===null?Go(n,e,t):Bd(n,ke.memoizedState,e,t)},useTransition:function(){var e=Lo(Sn)[0],t=Ze().memoizedState;return[typeof e=="boolean"?e:mr(e),t]},useSyncExternalStore:dd,useId:$d,useHostTransitionStatus:Ko,useFormState:jd,useActionState:jd,useOptimistic:function(e,t){var n=Ze();return ke!==null?pd(n,ke,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Mo,useCacheRefresh:Vd};Jd.useEffectEvent=Rd;function Xo(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:b({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Io={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Lt(),o=Vn(i);o.payload=t,n!=null&&(o.callback=n),t=Gn(e,o,i),t!==null&&(jt(t,e,i),cr(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Lt(),o=Vn(i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Gn(e,o,i),t!==null&&(jt(t,e,i),cr(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Lt(),i=Vn(n);i.tag=2,t!=null&&(i.callback=t),t=Gn(e,i,n),t!==null&&(jt(t,e,n),cr(t,e,n))}};function Xd(e,t,n,i,o,f,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,f,m):t.prototype&&t.prototype.isPureReactComponent?!nr(n,i)||!nr(o,f):!0}function Id(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Io.enqueueReplaceState(t,t.state,null)}function Ca(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=b({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function Zd(e){ds(e)}function Pd(e){console.error(e)}function Wd(e){ds(e)}function zs(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function Fd(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Zo(e,t,n){return n=Vn(n),n.tag=3,n.payload={element:null},n.callback=function(){zs(e,t)},n}function eh(e){return e=Vn(e),e.tag=3,e}function th(e,t,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var f=i.value;e.payload=function(){return o(f)},e.callback=function(){Fd(t,n,i)}}var m=n.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Fd(t,n,i),typeof o!="function"&&(In===null?In=new Set([this]):In.add(this));var y=i.stack;this.componentDidCatch(i.value,{componentStack:y!==null?y:""})})}function dp(e,t,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&li(t,n,o,!0),n=Ut.current,n!==null){switch(n.tag){case 31:case 13:return It===null?Js():n.alternate===null&&Xe===0&&(Xe=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===Ss?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),wu(e,i,o)),!1;case 22:return n.flags|=65536,i===Ss?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),wu(e,i,o)),!1}throw Error(s(435,n.tag))}return wu(e,i,o),Js(),!1}if(Ee)return t=Ut.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==go&&(e=Error(s(422),{cause:i}),rr(Kt(e,n)))):(i!==go&&(t=Error(s(423),{cause:i}),rr(Kt(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=Kt(i,n),o=Zo(e.stateNode,i,o),Oo(e,o),Xe!==4&&(Xe=2)),!1;var f=Error(s(520),{cause:i});if(f=Kt(f,n),xr===null?xr=[f]:xr.push(f),Xe!==4&&(Xe=2),t===null)return!0;i=Kt(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=Zo(n.stateNode,i,e),Oo(n,e),!1;case 1:if(t=n.type,f=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(In===null||!In.has(f))))return n.flags|=65536,o&=-o,n.lanes|=o,o=eh(o),th(o,e,n,i),Oo(n,o),!1}n=n.return}while(n!==null);return!1}var Po=Error(s(461)),et=!1;function mt(e,t,n,i){t.child=e===null?rd(t,null,n,i):ja(t,e.child,n,i)}function nh(e,t,n,i,o){n=n.render;var f=t.ref;if("ref"in i){var m={};for(var y in i)y!=="ref"&&(m[y]=i[y])}else m=i;return Ea(t),i=ko(e,t,n,m,f,o),y=Do(),e!==null&&!et?(Uo(e,t,o),En(e,t,o)):(Ee&&y&&ho(t),t.flags|=1,mt(e,t,i,o),t.child)}function ah(e,t,n,i,o){if(e===null){var f=n.type;return typeof f=="function"&&!uo(f)&&f.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=f,ih(e,t,f,i,o)):(e=vs(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!ru(e,o)){var m=f.memoizedProps;if(n=n.compare,n=n!==null?n:nr,n(m,i)&&e.ref===t.ref)return En(e,t,o)}return t.flags|=1,e=yn(f,i),e.ref=t.ref,e.return=t,t.child=e}function ih(e,t,n,i,o){if(e!==null){var f=e.memoizedProps;if(nr(f,i)&&e.ref===t.ref)if(et=!1,t.pendingProps=i=f,ru(e,o))(e.flags&131072)!==0&&(et=!0);else return t.lanes=e.lanes,En(e,t,o)}return Wo(e,t,n,i,o)}function rh(e,t,n,i){var o=i.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|n:n,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~f}else i=0,t.child=null;return sh(e,t,f,n,i)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&_s(t,f!==null?f.cachePool:null),f!==null?od(t,f):Ao(),ud(t);else return i=t.lanes=536870912,sh(e,t,f!==null?f.baseLanes|n:n,n,i)}else f!==null?(_s(t,f.cachePool),od(t,f),Kn(),t.memoizedState=null):(e!==null&&_s(t,null),Ao(),Kn());return mt(e,t,o,n),t.child}function yr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function sh(e,t,n,i,o){var f=So();return f=f===null?null:{parent:We._currentValue,pool:f},t.memoizedState={baseLanes:n,cachePool:f},e!==null&&_s(t,null),Ao(),ud(t),e!==null&&li(e,t,i,!0),t.childLanes=o,null}function Ms(e,t){return t=Ls({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function lh(e,t,n){return ja(t,e.child,null,n),e=Ms(t,t.pendingProps),e.flags|=2,zt(t),t.memoizedState=null,e}function hp(e,t,n){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ee){if(i.mode==="hidden")return e=Ms(t,i),t.lanes=536870912,yr(null,e);if(Ro(t),(e=Le)?(e=bm(e,Xt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Bn!==null?{id:ln,overflow:on}:null,retryLane:536870912,hydrationErrors:null},n=Yf(e),n.return=t,t.child=n,dt=t,Le=null)):e=null,e===null)throw qn(t);return t.lanes=536870912,null}return Ms(t,i)}var f=e.memoizedState;if(f!==null){var m=f.dehydrated;if(Ro(t),o)if(t.flags&256)t.flags&=-257,t=lh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(et||li(e,t,n,!1),o=(n&e.childLanes)!==0,et||o){if(i=ze,i!==null&&(m=Zc(i,n),m!==0&&m!==f.retryLane))throw f.retryLane=m,ba(e,m),jt(i,e,m),Po;Js(),t=lh(e,t,n)}else e=f.treeContext,Le=Zt(m.nextSibling),dt=t,Ee=!0,Ln=null,Xt=!1,e!==null&&Jf(t,e),t=Ms(t,i),t.flags|=4096;return t}return e=yn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Bs(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Wo(e,t,n,i,o){return Ea(t),n=ko(e,t,n,i,void 0,o),i=Do(),e!==null&&!et?(Uo(e,t,o),En(e,t,o)):(Ee&&i&&ho(t),t.flags|=1,mt(e,t,n,o),t.child)}function oh(e,t,n,i,o,f){return Ea(t),t.updateQueue=null,n=fd(t,i,n,o),cd(e),i=Do(),e!==null&&!et?(Uo(e,t,f),En(e,t,f)):(Ee&&i&&ho(t),t.flags|=1,mt(e,t,n,f),t.child)}function uh(e,t,n,i,o){if(Ea(t),t.stateNode===null){var f=ai,m=n.contextType;typeof m=="object"&&m!==null&&(f=ht(m)),f=new n(i,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Io,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=i,f.state=t.memoizedState,f.refs={},xo(t),m=n.contextType,f.context=typeof m=="object"&&m!==null?ht(m):ai,f.state=t.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(Xo(t,n,m,i),f.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(m=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),m!==f.state&&Io.enqueueReplaceState(f,f.state,null),dr(t,i,f,o),fr(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){f=t.stateNode;var y=t.memoizedProps,w=Ca(n,y);f.props=w;var R=f.context,q=n.contextType;m=ai,typeof q=="object"&&q!==null&&(m=ht(q));var G=n.getDerivedStateFromProps;q=typeof G=="function"||typeof f.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y||R!==m)&&Id(t,f,i,m),$n=!1;var k=t.memoizedState;f.state=k,dr(t,i,f,o),fr(),R=t.memoizedState,y||k!==R||$n?(typeof G=="function"&&(Xo(t,n,G,i),R=t.memoizedState),(w=$n||Xd(t,n,w,i,k,R,m))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=R),f.props=i,f.state=R,f.context=m,i=w):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{f=t.stateNode,To(e,t),m=t.memoizedProps,q=Ca(n,m),f.props=q,G=t.pendingProps,k=f.context,R=n.contextType,w=ai,typeof R=="object"&&R!==null&&(w=ht(R)),y=n.getDerivedStateFromProps,(R=typeof y=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m!==G||k!==w)&&Id(t,f,i,w),$n=!1,k=t.memoizedState,f.state=k,dr(t,i,f,o),fr();var U=t.memoizedState;m!==G||k!==U||$n||e!==null&&e.dependencies!==null&&ps(e.dependencies)?(typeof y=="function"&&(Xo(t,n,y,i),U=t.memoizedState),(q=$n||Xd(t,n,q,i,k,U,w)||e!==null&&e.dependencies!==null&&ps(e.dependencies))?(R||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(i,U,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(i,U,w)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||m===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=U),f.props=i,f.state=U,f.context=w,i=q):(typeof f.componentDidUpdate!="function"||m===e.memoizedProps&&k===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&k===e.memoizedState||(t.flags|=1024),i=!1)}return f=i,Bs(e,t),i=(t.flags&128)!==0,f||i?(f=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&i?(t.child=ja(t,e.child,null,o),t.child=ja(t,null,n,o)):mt(e,t,n,o),t.memoizedState=f.state,e=t.child):e=En(e,t,o),e}function ch(e,t,n,i){return wa(),t.flags|=256,mt(e,t,n,i),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eu(e){return{baseLanes:e,cachePool:Ff()}}function tu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Bt),e}function fh(e,t,n){var i=t.pendingProps,o=!1,f=(t.flags&128)!==0,m;if((m=f)||(m=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(o?Yn(t):Kn(),(e=Le)?(e=bm(e,Xt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Bn!==null?{id:ln,overflow:on}:null,retryLane:536870912,hydrationErrors:null},n=Yf(e),n.return=t,t.child=n,dt=t,Le=null)):e=null,e===null)throw qn(t);return Bu(e)?t.lanes=32:t.lanes=536870912,null}var y=i.children;return i=i.fallback,o?(Kn(),o=t.mode,y=Ls({mode:"hidden",children:y},o),i=_a(i,o,n,null),y.return=t,i.return=t,y.sibling=i,t.child=y,i=t.child,i.memoizedState=eu(n),i.childLanes=tu(e,m,n),t.memoizedState=Fo,yr(null,i)):(Yn(t),nu(t,y))}var w=e.memoizedState;if(w!==null&&(y=w.dehydrated,y!==null)){if(f)t.flags&256?(Yn(t),t.flags&=-257,t=au(e,t,n)):t.memoizedState!==null?(Kn(),t.child=e.child,t.flags|=128,t=null):(Kn(),y=i.fallback,o=t.mode,i=Ls({mode:"visible",children:i.children},o),y=_a(y,o,n,null),y.flags|=2,i.return=t,y.return=t,i.sibling=y,t.child=i,ja(t,e.child,null,n),i=t.child,i.memoizedState=eu(n),i.childLanes=tu(e,m,n),t.memoizedState=Fo,t=yr(null,i));else if(Yn(t),Bu(y)){if(m=y.nextSibling&&y.nextSibling.dataset,m)var R=m.dgst;m=R,i=Error(s(419)),i.stack="",i.digest=m,rr({value:i,source:null,stack:null}),t=au(e,t,n)}else if(et||li(e,t,n,!1),m=(n&e.childLanes)!==0,et||m){if(m=ze,m!==null&&(i=Zc(m,n),i!==0&&i!==w.retryLane))throw w.retryLane=i,ba(e,i),jt(m,e,i),Po;Mu(y)||Js(),t=au(e,t,n)}else Mu(y)?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,Le=Zt(y.nextSibling),dt=t,Ee=!0,Ln=null,Xt=!1,e!==null&&Jf(t,e),t=nu(t,i.children),t.flags|=4096);return t}return o?(Kn(),y=i.fallback,o=t.mode,w=e.child,R=w.sibling,i=yn(w,{mode:"hidden",children:i.children}),i.subtreeFlags=w.subtreeFlags&65011712,R!==null?y=yn(R,y):(y=_a(y,o,n,null),y.flags|=2),y.return=t,i.return=t,i.sibling=y,t.child=i,yr(null,i),i=t.child,y=e.child.memoizedState,y===null?y=eu(n):(o=y.cachePool,o!==null?(w=We._currentValue,o=o.parent!==w?{parent:w,pool:w}:o):o=Ff(),y={baseLanes:y.baseLanes|n,cachePool:o}),i.memoizedState=y,i.childLanes=tu(e,m,n),t.memoizedState=Fo,yr(e.child,i)):(Yn(t),n=e.child,e=n.sibling,n=yn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=n,t.memoizedState=null,n)}function nu(e,t){return t=Ls({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ls(e,t){return e=Dt(22,e,null,t),e.lanes=0,e}function au(e,t,n){return ja(t,e.child,null,n),e=nu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dh(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),po(e.return,t,n)}function iu(e,t,n,i,o,f){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o,treeForkCount:f}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=i,m.tail=n,m.tailMode=o,m.treeForkCount=f)}function hh(e,t,n){var i=t.pendingProps,o=i.revealOrder,f=i.tail;i=i.children;var m=Ie.current,y=(m&2)!==0;if(y?(m=m&1|2,t.flags|=128):m&=1,I(Ie,m),mt(e,t,i,n),i=Ee?ir:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dh(e,n,t);else if(e.tag===19)dh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Os(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),iu(t,!1,o,n,f,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Os(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}iu(t,!0,n,null,f,i);break;case"together":iu(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function En(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Xn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(li(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=yn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ru(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ps(e)))}function mp(e,t,n){switch(t.tag){case 3:ct(t,t.stateNode.containerInfo),Hn(t,We,e.memoizedState.cache),wa();break;case 27:case 5:ha(t);break;case 4:ct(t,t.stateNode.containerInfo);break;case 10:Hn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ro(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Yn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?fh(e,t,n):(Yn(t),e=En(e,t,n),e!==null?e.sibling:null);Yn(t);break;case 19:var o=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(li(e,t,n,!1),i=(n&t.childLanes)!==0),o){if(i)return hh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),I(Ie,Ie.current),i)break;return null;case 22:return t.lanes=0,rh(e,t,n,t.pendingProps);case 24:Hn(t,We,e.memoizedState.cache)}return En(e,t,n)}function mh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)et=!0;else{if(!ru(e,n)&&(t.flags&128)===0)return et=!1,mp(e,t,n);et=(e.flags&131072)!==0}else et=!1,Ee&&(t.flags&1048576)!==0&&Qf(t,ir,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Ta(t.elementType),t.type=e,typeof e=="function")uo(e)?(i=Ca(e,i),t.tag=1,t=uh(null,t,e,i,n)):(t.tag=0,t=Wo(null,t,e,i,n));else{if(e!=null){var o=e.$$typeof;if(o===J){t.tag=11,t=nh(null,t,e,i,n);break e}else if(o===N){t.tag=14,t=ah(null,t,e,i,n);break e}}throw t=_t(e)||e,Error(s(306,t,""))}}return t;case 0:return Wo(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,o=Ca(i,t.pendingProps),uh(e,t,i,o,n);case 3:e:{if(ct(t,t.stateNode.containerInfo),e===null)throw Error(s(387));i=t.pendingProps;var f=t.memoizedState;o=f.element,To(e,t),dr(t,i,null,n);var m=t.memoizedState;if(i=m.cache,Hn(t,We,i),i!==f.cache&&bo(t,[We],n,!0),fr(),i=m.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=ch(e,t,i,n);break e}else if(i!==o){o=Kt(Error(s(424)),t),rr(o),t=ch(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Zt(e.firstChild),dt=t,Ee=!0,Ln=null,Xt=!0,n=rd(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(wa(),i===o){t=En(e,t,n);break e}mt(e,t,i,n)}t=t.child}return t;case 26:return Bs(e,t),e===null?(n=Tm(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ee||(n=t.type,e=t.pendingProps,i=el(de.current).createElement(n),i[ft]=t,i[wt]=e,gt(i,n,e),ot(i),t.stateNode=i):t.memoizedState=Tm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ha(t),e===null&&Ee&&(i=t.stateNode=Sm(t.type,t.pendingProps,de.current),dt=t,Xt=!0,o=Le,Fn(t.type)?(Lu=o,Le=Zt(i.firstChild)):Le=o),mt(e,t,t.pendingProps.children,n),Bs(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((o=i=Le)&&(i=Yp(i,t.type,t.pendingProps,Xt),i!==null?(t.stateNode=i,dt=t,Le=Zt(i.firstChild),Xt=!1,o=!0):o=!1),o||qn(t)),ha(t),o=t.type,f=t.pendingProps,m=e!==null?e.memoizedProps:null,i=f.children,Du(o,f)?i=null:m!==null&&Du(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=ko(e,t,rp,null,null,n),kr._currentValue=o),Bs(e,t),mt(e,t,i,n),t.child;case 6:return e===null&&Ee&&((e=n=Le)&&(n=Kp(n,t.pendingProps,Xt),n!==null?(t.stateNode=n,dt=t,Le=null,e=!0):e=!1),e||qn(t)),null;case 13:return fh(e,t,n);case 4:return ct(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ja(t,null,i,n):mt(e,t,i,n),t.child;case 11:return nh(e,t,t.type,t.pendingProps,n);case 7:return mt(e,t,t.pendingProps,n),t.child;case 8:return mt(e,t,t.pendingProps.children,n),t.child;case 12:return mt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Hn(t,t.type,i.value),mt(e,t,i.children,n),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,Ea(t),o=ht(o),i=i(o),t.flags|=1,mt(e,t,i,n),t.child;case 14:return ah(e,t,t.type,t.pendingProps,n);case 15:return ih(e,t,t.type,t.pendingProps,n);case 19:return hh(e,t,n);case 31:return hp(e,t,n);case 22:return rh(e,t,n,t.pendingProps);case 24:return Ea(t),i=ht(We),e===null?(o=So(),o===null&&(o=ze,f=_o(),o.pooledCache=f,f.refCount++,f!==null&&(o.pooledCacheLanes|=n),o=f),t.memoizedState={parent:i,cache:o},xo(t),Hn(t,We,o)):((e.lanes&n)!==0&&(To(e,t),dr(t,null,null,n),fr()),o=e.memoizedState,f=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Hn(t,We,i)):(i=f.cache,Hn(t,We,i),i!==o.cache&&bo(t,[We],n,!0))),mt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function xn(e){e.flags|=4}function su(e,t,n,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if($h())e.flags|=8192;else throw Oa=Ss,Eo}else e.flags&=-16777217}function gh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Rm(t))if($h())e.flags|=8192;else throw Oa=Ss,Eo}function qs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Jc():536870912,e.lanes|=t,bi|=t)}function pr(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function gp(e,t,n){var i=t.pendingProps;switch(mo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return qe(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),_n(We),Ve(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(si(t)?xn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,vo())),qe(t),null;case 26:var o=t.type,f=t.memoizedState;return e===null?(xn(t),f!==null?(qe(t),gh(t,f)):(qe(t),su(t,o,null,i,n))):f?f!==e.memoizedState?(xn(t),qe(t),gh(t,f)):(qe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&xn(t),qe(t),su(t,o,e,i,n)),null;case 27:if($a(t),n=de.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&xn(t);else{if(!i){if(t.stateNode===null)throw Error(s(166));return qe(t),null}e=P.current,si(t)?Xf(t):(e=Sm(o,i,n),t.stateNode=e,xn(t))}return qe(t),null;case 5:if($a(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&xn(t);else{if(!i){if(t.stateNode===null)throw Error(s(166));return qe(t),null}if(f=P.current,si(t))Xf(t);else{var m=el(de.current);switch(f){case 1:f=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:f=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":f=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":f=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":f=m.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof i.is=="string"?m.createElement("select",{is:i.is}):m.createElement("select"),i.multiple?f.multiple=!0:i.size&&(f.size=i.size);break;default:f=typeof i.is=="string"?m.createElement(o,{is:i.is}):m.createElement(o)}}f[ft]=t,f[wt]=i;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)f.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=f;e:switch(gt(f,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&xn(t)}}return qe(t),su(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&xn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(e=de.current,si(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,o=dt,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[ft]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||fm(e.nodeValue,n)),e||qn(t,!0)}else e=el(e).createTextNode(i),e[ft]=t,t.stateNode=e}return qe(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=si(t),n!==null){if(e===null){if(!i)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ft]=t}else wa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),e=!1}else n=vo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(zt(t),t):(zt(t),null);if((t.flags&128)!==0)throw Error(s(558))}return qe(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=si(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(s(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(s(317));o[ft]=t}else wa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;qe(t),o=!1}else o=vo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(zt(t),t):(zt(t),null)}return zt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),f=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(f=i.memoizedState.cachePool.pool),f!==o&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),qs(t,t.updateQueue),qe(t),null);case 4:return Ve(),e===null&&Au(t.stateNode.containerInfo),qe(t),null;case 10:return _n(t.type),qe(t),null;case 19:if($(Ie),i=t.memoizedState,i===null)return qe(t),null;if(o=(t.flags&128)!==0,f=i.rendering,f===null)if(o)pr(i,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Os(e),f!==null){for(t.flags|=128,pr(i,!1),e=f.updateQueue,t.updateQueue=e,qs(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Gf(n,e),n=n.sibling;return I(Ie,Ie.current&1|2),Ee&&pn(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&ve()>Ys&&(t.flags|=128,o=!0,pr(i,!1),t.lanes=4194304)}else{if(!o)if(e=Os(f),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,qs(t,e),pr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!f.alternate&&!Ee)return qe(t),null}else 2*ve()-i.renderingStartTime>Ys&&n!==536870912&&(t.flags|=128,o=!0,pr(i,!1),t.lanes=4194304);i.isBackwards?(f.sibling=t.child,t.child=f):(e=i.last,e!==null?e.sibling=f:t.child=f,i.last=f)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ve(),e.sibling=null,n=Ie.current,I(Ie,o?n&1|2:n&1),Ee&&pn(t,i.treeForkCount),e):(qe(t),null);case 22:case 23:return zt(t),Co(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(n&536870912)!==0&&(t.flags&128)===0&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),n=t.updateQueue,n!==null&&qs(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&$(xa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_n(We),qe(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function vp(e,t){switch(mo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _n(We),Ve(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return $a(t),null;case 31:if(t.memoizedState!==null){if(zt(t),t.alternate===null)throw Error(s(340));wa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(zt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));wa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $(Ie),null;case 4:return Ve(),null;case 10:return _n(t.type),null;case 22:case 23:return zt(t),Co(),e!==null&&$(xa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return _n(We),null;case 25:return null;default:return null}}function vh(e,t){switch(mo(t),t.tag){case 3:_n(We),Ve();break;case 26:case 27:case 5:$a(t);break;case 4:Ve();break;case 31:t.memoizedState!==null&&zt(t);break;case 13:zt(t);break;case 19:$(Ie);break;case 10:_n(t.type);break;case 22:case 23:zt(t),Co(),e!==null&&$(xa);break;case 24:_n(We)}}function br(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&e)===e){i=void 0;var f=n.create,m=n.inst;i=f(),m.destroy=i}n=n.next}while(n!==o)}}catch(y){Re(t,t.return,y)}}function Qn(e,t,n){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var f=o.next;i=f;do{if((i.tag&e)===e){var m=i.inst,y=m.destroy;if(y!==void 0){m.destroy=void 0,o=t;var w=n,R=y;try{R()}catch(q){Re(o,w,q)}}}i=i.next}while(i!==f)}}catch(q){Re(t,t.return,q)}}function yh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{ld(t,n)}catch(i){Re(e,e.return,i)}}}function ph(e,t,n){n.props=Ca(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Re(e,t,i)}}function _r(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(o){Re(e,t,o)}}function un(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){Re(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){Re(e,t,o)}else n.current=null}function bh(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){Re(e,e.return,o)}}function lu(e,t,n){try{var i=e.stateNode;Lp(i,e.type,n,t),i[wt]=t}catch(o){Re(e,e.return,o)}}function _h(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fn(e.type)||e.tag===4}function ou(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_h(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function uu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gn));else if(i!==4&&(i===27&&Fn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(uu(e,t,n),e=e.sibling;e!==null;)uu(e,t,n),e=e.sibling}function Hs(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Fn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Hs(e,t,n),e=e.sibling;e!==null;)Hs(e,t,n),e=e.sibling}function wh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);gt(t,i,n),t[ft]=e,t[wt]=n}catch(f){Re(e,e.return,f)}}var Tn=!1,tt=!1,cu=!1,Sh=typeof WeakSet=="function"?WeakSet:Set,ut=null;function yp(e,t){if(e=e.containerInfo,Nu=ll,e=Uf(e),no(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{n.nodeType,f.nodeType}catch{n=null;break e}var m=0,y=-1,w=-1,R=0,q=0,G=e,k=null;t:for(;;){for(var U;G!==n||o!==0&&G.nodeType!==3||(y=m+o),G!==f||i!==0&&G.nodeType!==3||(w=m+i),G.nodeType===3&&(m+=G.nodeValue.length),(U=G.firstChild)!==null;)k=G,G=U;for(;;){if(G===e)break t;if(k===n&&++R===o&&(y=m),k===f&&++q===i&&(w=m),(U=G.nextSibling)!==null)break;G=k,k=G.parentNode}G=U}n=y===-1||w===-1?null:{start:y,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(ku={focusedElem:e,selectionRange:n},ll=!1,ut=t;ut!==null;)if(t=ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ut=e;else for(;ut!==null;){switch(t=ut,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,n=t,o=f.memoizedProps,f=f.memoizedState,i=n.stateNode;try{var W=Ca(n.type,o);e=i.getSnapshotBeforeUpdate(W,f),i.__reactInternalSnapshotBeforeUpdate=e}catch(le){Re(n,n.return,le)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)zu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":zu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,ut=e;break}ut=t.return}}function Eh(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:jn(e,n),i&4&&br(5,n);break;case 1:if(jn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(m){Re(n,n.return,m)}else{var o=Ca(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Re(n,n.return,m)}}i&64&&yh(n),i&512&&_r(n,n.return);break;case 3:if(jn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{ld(e,t)}catch(m){Re(n,n.return,m)}}break;case 27:t===null&&i&4&&wh(n);case 26:case 5:jn(e,n),t===null&&i&4&&bh(n),i&512&&_r(n,n.return);break;case 12:jn(e,n);break;case 31:jn(e,n),i&4&&Oh(e,n);break;case 13:jn(e,n),i&4&&jh(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Op.bind(null,n),Qp(e,n))));break;case 22:if(i=n.memoizedState!==null||Tn,!i){t=t!==null&&t.memoizedState!==null||tt,o=Tn;var f=tt;Tn=i,(tt=t)&&!f?An(e,n,(n.subtreeFlags&8772)!==0):jn(e,n),Tn=o,tt=f}break;case 30:break;default:jn(e,n)}}function xh(e){var t=e.alternate;t!==null&&(e.alternate=null,xh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ql(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $e=null,Et=!1;function On(e,t,n){for(n=n.child;n!==null;)Th(e,t,n),n=n.sibling}function Th(e,t,n){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(He,n)}catch{}switch(n.tag){case 26:tt||un(n,t),On(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:tt||un(n,t);var i=$e,o=Et;Fn(n.type)&&($e=n.stateNode,Et=!1),On(e,t,n),Cr(n.stateNode),$e=i,Et=o;break;case 5:tt||un(n,t);case 6:if(i=$e,o=Et,$e=null,On(e,t,n),$e=i,Et=o,$e!==null)if(Et)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(n.stateNode)}catch(f){Re(n,t,f)}else try{$e.removeChild(n.stateNode)}catch(f){Re(n,t,f)}break;case 18:$e!==null&&(Et?(e=$e,ym(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ji(e)):ym($e,n.stateNode));break;case 4:i=$e,o=Et,$e=n.stateNode.containerInfo,Et=!0,On(e,t,n),$e=i,Et=o;break;case 0:case 11:case 14:case 15:Qn(2,n,t),tt||Qn(4,n,t),On(e,t,n);break;case 1:tt||(un(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&ph(n,t,i)),On(e,t,n);break;case 21:On(e,t,n);break;case 22:tt=(i=tt)||n.memoizedState!==null,On(e,t,n),tt=i;break;default:On(e,t,n)}}function Oh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ji(e)}catch(n){Re(t,t.return,n)}}}function jh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ji(e)}catch(n){Re(t,t.return,n)}}function pp(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Sh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Sh),t;default:throw Error(s(435,e.tag))}}function $s(e,t){var n=pp(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var o=jp.bind(null,e,i);i.then(o,o)}})}function xt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],f=e,m=t,y=m;e:for(;y!==null;){switch(y.tag){case 27:if(Fn(y.type)){$e=y.stateNode,Et=!1;break e}break;case 5:$e=y.stateNode,Et=!1;break e;case 3:case 4:$e=y.stateNode.containerInfo,Et=!0;break e}y=y.return}if($e===null)throw Error(s(160));Th(f,m,o),$e=null,Et=!1,f=o.alternate,f!==null&&(f.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Ah(t,e),t=t.sibling}var en=null;function Ah(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xt(t,e),Tt(e),i&4&&(Qn(3,e,e.return),br(3,e),Qn(5,e,e.return));break;case 1:xt(t,e),Tt(e),i&512&&(tt||n===null||un(n,n.return)),i&64&&Tn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=en;if(xt(t,e),Tt(e),i&512&&(tt||n===null||un(n,n.return)),i&4){var f=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":f=o.getElementsByTagName("title")[0],(!f||f[Ji]||f[ft]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=o.createElement(i),o.head.insertBefore(f,o.querySelector("head > title"))),gt(f,i,n),f[ft]=e,ot(f),i=f;break e;case"link":var m=Am("link","href",o).get(i+(n.href||""));if(m){for(var y=0;y<m.length;y++)if(f=m[y],f.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&f.getAttribute("rel")===(n.rel==null?null:n.rel)&&f.getAttribute("title")===(n.title==null?null:n.title)&&f.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){m.splice(y,1);break t}}f=o.createElement(i),gt(f,i,n),o.head.appendChild(f);break;case"meta":if(m=Am("meta","content",o).get(i+(n.content||""))){for(y=0;y<m.length;y++)if(f=m[y],f.getAttribute("content")===(n.content==null?null:""+n.content)&&f.getAttribute("name")===(n.name==null?null:n.name)&&f.getAttribute("property")===(n.property==null?null:n.property)&&f.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&f.getAttribute("charset")===(n.charSet==null?null:n.charSet)){m.splice(y,1);break t}}f=o.createElement(i),gt(f,i,n),o.head.appendChild(f);break;default:throw Error(s(468,i))}f[ft]=e,ot(f),i=f}e.stateNode=i}else Cm(o,e.type,e.stateNode);else e.stateNode=jm(o,i,e.memoizedProps);else f!==i?(f===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):f.count--,i===null?Cm(o,e.type,e.stateNode):jm(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&lu(e,e.memoizedProps,n.memoizedProps)}break;case 27:xt(t,e),Tt(e),i&512&&(tt||n===null||un(n,n.return)),n!==null&&i&4&&lu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(xt(t,e),Tt(e),i&512&&(tt||n===null||un(n,n.return)),e.flags&32){o=e.stateNode;try{Za(o,"")}catch(W){Re(e,e.return,W)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,lu(e,o,n!==null?n.memoizedProps:o)),i&1024&&(cu=!0);break;case 6:if(xt(t,e),Tt(e),i&4){if(e.stateNode===null)throw Error(s(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(W){Re(e,e.return,W)}}break;case 3:if(al=null,o=en,en=tl(t.containerInfo),xt(t,e),en=o,Tt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ji(t.containerInfo)}catch(W){Re(e,e.return,W)}cu&&(cu=!1,Ch(e));break;case 4:i=en,en=tl(e.stateNode.containerInfo),xt(t,e),Tt(e),en=i;break;case 12:xt(t,e),Tt(e);break;case 31:xt(t,e),Tt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,$s(e,i)));break;case 13:xt(t,e),Tt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Gs=ve()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,$s(e,i)));break;case 22:o=e.memoizedState!==null;var w=n!==null&&n.memoizedState!==null,R=Tn,q=tt;if(Tn=R||o,tt=q||w,xt(t,e),tt=q,Tn=R,Tt(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||w||Tn||tt||Ra(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){w=n=t;try{if(f=w.stateNode,o)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{y=w.stateNode;var G=w.memoizedProps.style,k=G!=null&&G.hasOwnProperty("display")?G.display:null;y.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(W){Re(w,w.return,W)}}}else if(t.tag===6){if(n===null){w=t;try{w.stateNode.nodeValue=o?"":w.memoizedProps}catch(W){Re(w,w.return,W)}}}else if(t.tag===18){if(n===null){w=t;try{var U=w.stateNode;o?pm(U,!0):pm(w.stateNode,!1)}catch(W){Re(w,w.return,W)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,$s(e,n))));break;case 19:xt(t,e),Tt(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,$s(e,i)));break;case 30:break;case 21:break;default:xt(t,e),Tt(e)}}function Tt(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(_h(i)){n=i;break}i=i.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var o=n.stateNode,f=ou(e);Hs(e,f,o);break;case 5:var m=n.stateNode;n.flags&32&&(Za(m,""),n.flags&=-33);var y=ou(e);Hs(e,y,m);break;case 3:case 4:var w=n.stateNode.containerInfo,R=ou(e);uu(e,R,w);break;default:throw Error(s(161))}}catch(q){Re(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ch(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Ch(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function jn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Eh(e,t.alternate,t),t=t.sibling}function Ra(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Qn(4,t,t.return),Ra(t);break;case 1:un(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&ph(t,t.return,n),Ra(t);break;case 27:Cr(t.stateNode);case 26:case 5:un(t,t.return),Ra(t);break;case 22:t.memoizedState===null&&Ra(t);break;case 30:Ra(t);break;default:Ra(t)}e=e.sibling}}function An(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,f=t,m=f.flags;switch(f.tag){case 0:case 11:case 15:An(o,f,n),br(4,f);break;case 1:if(An(o,f,n),i=f,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(R){Re(i,i.return,R)}if(i=f,o=i.updateQueue,o!==null){var y=i.stateNode;try{var w=o.shared.hiddenCallbacks;if(w!==null)for(o.shared.hiddenCallbacks=null,o=0;o<w.length;o++)sd(w[o],y)}catch(R){Re(i,i.return,R)}}n&&m&64&&yh(f),_r(f,f.return);break;case 27:wh(f);case 26:case 5:An(o,f,n),n&&i===null&&m&4&&bh(f),_r(f,f.return);break;case 12:An(o,f,n);break;case 31:An(o,f,n),n&&m&4&&Oh(o,f);break;case 13:An(o,f,n),n&&m&4&&jh(o,f);break;case 22:f.memoizedState===null&&An(o,f,n),_r(f,f.return);break;case 30:break;default:An(o,f,n)}t=t.sibling}}function fu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&sr(n))}function du(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&sr(e))}function tn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rh(e,t,n,i),t=t.sibling}function Rh(e,t,n,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:tn(e,t,n,i),o&2048&&br(9,t);break;case 1:tn(e,t,n,i);break;case 3:tn(e,t,n,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&sr(e)));break;case 12:if(o&2048){tn(e,t,n,i),e=t.stateNode;try{var f=t.memoizedProps,m=f.id,y=f.onPostCommit;typeof y=="function"&&y(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Re(t,t.return,w)}}else tn(e,t,n,i);break;case 31:tn(e,t,n,i);break;case 13:tn(e,t,n,i);break;case 23:break;case 22:f=t.stateNode,m=t.alternate,t.memoizedState!==null?f._visibility&2?tn(e,t,n,i):wr(e,t):f._visibility&2?tn(e,t,n,i):(f._visibility|=2,vi(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&fu(m,t);break;case 24:tn(e,t,n,i),o&2048&&du(t.alternate,t);break;default:tn(e,t,n,i)}}function vi(e,t,n,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,m=t,y=n,w=i,R=m.flags;switch(m.tag){case 0:case 11:case 15:vi(f,m,y,w,o),br(8,m);break;case 23:break;case 22:var q=m.stateNode;m.memoizedState!==null?q._visibility&2?vi(f,m,y,w,o):wr(f,m):(q._visibility|=2,vi(f,m,y,w,o)),o&&R&2048&&fu(m.alternate,m);break;case 24:vi(f,m,y,w,o),o&&R&2048&&du(m.alternate,m);break;default:vi(f,m,y,w,o)}t=t.sibling}}function wr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,o=i.flags;switch(i.tag){case 22:wr(n,i),o&2048&&fu(i.alternate,i);break;case 24:wr(n,i),o&2048&&du(i.alternate,i);break;default:wr(n,i)}t=t.sibling}}var Sr=8192;function yi(e,t,n){if(e.subtreeFlags&Sr)for(e=e.child;e!==null;)Nh(e,t,n),e=e.sibling}function Nh(e,t,n){switch(e.tag){case 26:yi(e,t,n),e.flags&Sr&&e.memoizedState!==null&&i0(n,en,e.memoizedState,e.memoizedProps);break;case 5:yi(e,t,n);break;case 3:case 4:var i=en;en=tl(e.stateNode.containerInfo),yi(e,t,n),en=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Sr,Sr=16777216,yi(e,t,n),Sr=i):yi(e,t,n));break;default:yi(e,t,n)}}function kh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Er(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ut=i,Uh(i,e)}kh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dh(e),e=e.sibling}function Dh(e){switch(e.tag){case 0:case 11:case 15:Er(e),e.flags&2048&&Qn(9,e,e.return);break;case 3:Er(e);break;case 12:Er(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Vs(e)):Er(e);break;default:Er(e)}}function Vs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ut=i,Uh(i,e)}kh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Qn(8,t,t.return),Vs(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Vs(t));break;default:Vs(t)}e=e.sibling}}function Uh(e,t){for(;ut!==null;){var n=ut;switch(n.tag){case 0:case 11:case 15:Qn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:sr(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ut=i;else e:for(n=e;ut!==null;){i=ut;var o=i.sibling,f=i.return;if(xh(i),i===n){ut=null;break e}if(o!==null){o.return=f,ut=o;break e}ut=f}}}var bp={getCacheForType:function(e){var t=ht(We),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return ht(We).controller.signal}},_p=typeof WeakMap=="function"?WeakMap:Map,Ae=0,ze=null,ye=null,_e=0,Ce=0,Mt=null,Jn=!1,pi=!1,hu=!1,Cn=0,Xe=0,Xn=0,Na=0,mu=0,Bt=0,bi=0,xr=null,Ot=null,gu=!1,Gs=0,zh=0,Ys=1/0,Ks=null,In=null,st=0,Zn=null,_i=null,Rn=0,vu=0,yu=null,Mh=null,Tr=0,pu=null;function Lt(){return(Ae&2)!==0&&_e!==0?_e&-_e:B.T!==null?xu():Pc()}function Bh(){if(Bt===0)if((_e&536870912)===0||Ee){var e=Fr;Fr<<=1,(Fr&3932160)===0&&(Fr=262144),Bt=e}else Bt=536870912;return e=Ut.current,e!==null&&(e.flags|=32),Bt}function jt(e,t,n){(e===ze&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)&&(wi(e,0),Pn(e,_e,Bt,!1)),Qi(e,n),((Ae&2)===0||e!==ze)&&(e===ze&&((Ae&2)===0&&(Na|=n),Xe===4&&Pn(e,_e,Bt,!1)),cn(e))}function Lh(e,t,n){if((Ae&6)!==0)throw Error(s(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ki(e,t),o=i?Ep(e,t):_u(e,t,!0),f=i;do{if(o===0){pi&&!i&&Pn(e,t,0,!1);break}else{if(n=e.current.alternate,f&&!wp(n)){o=_u(e,t,!1),f=!1;continue}if(o===2){if(f=t,e.errorRecoveryDisabledLanes&f)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var y=e;o=xr;var w=y.current.memoizedState.isDehydrated;if(w&&(wi(y,m).flags|=256),m=_u(y,m,!1),m!==2){if(hu&&!w){y.errorRecoveryDisabledLanes|=f,Na|=f,o=4;break e}f=Ot,Ot=o,f!==null&&(Ot===null?Ot=f:Ot.push.apply(Ot,f))}o=m}if(f=!1,o!==2)continue}}if(o===1){wi(e,0),Pn(e,t,0,!0);break}e:{switch(i=e,f=o,f){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Pn(i,t,Bt,!Jn);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(o=Gs+300-ve(),10<o)){if(Pn(i,t,Bt,!Jn),ts(i,0,!0)!==0)break e;Rn=t,i.timeoutHandle=gm(qh.bind(null,i,n,Ot,Ks,gu,t,Bt,Na,bi,Jn,f,"Throttled",-0,0),o);break e}qh(i,n,Ot,Ks,gu,t,Bt,Na,bi,Jn,f,null,-0,0)}}break}while(!0);cn(e)}function qh(e,t,n,i,o,f,m,y,w,R,q,G,k,U){if(e.timeoutHandle=-1,G=t.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:gn},Nh(t,f,G);var W=(f&62914560)===f?Gs-ve():(f&4194048)===f?zh-ve():0;if(W=r0(G,W),W!==null){Rn=f,e.cancelPendingCommit=W(Jh.bind(null,e,t,f,n,i,o,m,y,w,q,G,null,k,U)),Pn(e,f,m,!R);return}}Jh(e,t,f,n,i,o,m,y,w)}function wp(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],f=o.getSnapshot;o=o.value;try{if(!kt(f(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t,n,i){t&=~mu,t&=~Na,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var f=31-Nt(o),m=1<<f;i[f]=-1,o&=~m}n!==0&&Xc(e,n,t)}function Qs(){return(Ae&6)===0?(Or(0),!1):!0}function bu(){if(ye!==null){if(Ce===0)var e=ye.return;else e=ye,bn=Sa=null,zo(e),fi=null,or=0,e=ye;for(;e!==null;)vh(e.alternate,e),e=e.return;ye=null}}function wi(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,$p(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Rn=0,bu(),ze=e,ye=n=yn(e.current,null),_e=t,Ce=0,Mt=null,Jn=!1,pi=Ki(e,t),hu=!1,bi=Bt=mu=Na=Xn=Xe=0,Ot=xr=null,gu=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-Nt(i),f=1<<o;t|=e[o],i&=~f}return Cn=t,hs(),n}function Hh(e,t){he=null,B.H=vr,t===ci||t===ws?(t=nd(),Ce=3):t===Eo?(t=nd(),Ce=4):Ce=t===Po?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Mt=t,ye===null&&(Xe=1,zs(e,Kt(t,e.current)))}function $h(){var e=Ut.current;return e===null?!0:(_e&4194048)===_e?It===null:(_e&62914560)===_e||(_e&536870912)!==0?e===It:!1}function Vh(){var e=B.H;return B.H=vr,e===null?vr:e}function Gh(){var e=B.A;return B.A=bp,e}function Js(){Xe=4,Jn||(_e&4194048)!==_e&&Ut.current!==null||(pi=!0),(Xn&134217727)===0&&(Na&134217727)===0||ze===null||Pn(ze,_e,Bt,!1)}function _u(e,t,n){var i=Ae;Ae|=2;var o=Vh(),f=Gh();(ze!==e||_e!==t)&&(Ks=null,wi(e,t)),t=!1;var m=Xe;e:do try{if(Ce!==0&&ye!==null){var y=ye,w=Mt;switch(Ce){case 8:bu(),m=6;break e;case 3:case 2:case 9:case 6:Ut.current===null&&(t=!0);var R=Ce;if(Ce=0,Mt=null,Si(e,y,w,R),n&&pi){m=0;break e}break;default:R=Ce,Ce=0,Mt=null,Si(e,y,w,R)}}Sp(),m=Xe;break}catch(q){Hh(e,q)}while(!0);return t&&e.shellSuspendCounter++,bn=Sa=null,Ae=i,B.H=o,B.A=f,ye===null&&(ze=null,_e=0,hs()),m}function Sp(){for(;ye!==null;)Yh(ye)}function Ep(e,t){var n=Ae;Ae|=2;var i=Vh(),o=Gh();ze!==e||_e!==t?(Ks=null,Ys=ve()+500,wi(e,t)):pi=Ki(e,t);e:do try{if(Ce!==0&&ye!==null){t=ye;var f=Mt;t:switch(Ce){case 1:Ce=0,Mt=null,Si(e,t,f,1);break;case 2:case 9:if(ed(f)){Ce=0,Mt=null,Kh(t);break}t=function(){Ce!==2&&Ce!==9||ze!==e||(Ce=7),cn(e)},f.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:ed(f)?(Ce=0,Mt=null,Kh(t)):(Ce=0,Mt=null,Si(e,t,f,7));break;case 5:var m=null;switch(ye.tag){case 26:m=ye.memoizedState;case 5:case 27:var y=ye;if(m?Rm(m):y.stateNode.complete){Ce=0,Mt=null;var w=y.sibling;if(w!==null)ye=w;else{var R=y.return;R!==null?(ye=R,Xs(R)):ye=null}break t}}Ce=0,Mt=null,Si(e,t,f,5);break;case 6:Ce=0,Mt=null,Si(e,t,f,6);break;case 8:bu(),Xe=6;break e;default:throw Error(s(462))}}xp();break}catch(q){Hh(e,q)}while(!0);return bn=Sa=null,B.H=i,B.A=o,Ae=n,ye!==null?0:(ze=null,_e=0,hs(),Xe)}function xp(){for(;ye!==null&&!Z();)Yh(ye)}function Yh(e){var t=mh(e.alternate,e,Cn);e.memoizedProps=e.pendingProps,t===null?Xs(e):ye=t}function Kh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=oh(n,t,t.pendingProps,t.type,void 0,_e);break;case 11:t=oh(n,t,t.pendingProps,t.type.render,t.ref,_e);break;case 5:zo(t);default:vh(n,t),t=ye=Gf(t,Cn),t=mh(n,t,Cn)}e.memoizedProps=e.pendingProps,t===null?Xs(e):ye=t}function Si(e,t,n,i){bn=Sa=null,zo(t),fi=null,or=0;var o=t.return;try{if(dp(e,o,t,n,_e)){Xe=1,zs(e,Kt(n,e.current)),ye=null;return}}catch(f){if(o!==null)throw ye=o,f;Xe=1,zs(e,Kt(n,e.current)),ye=null;return}t.flags&32768?(Ee||i===1?e=!0:pi||(_e&536870912)!==0?e=!1:(Jn=e=!0,(i===2||i===9||i===3||i===6)&&(i=Ut.current,i!==null&&i.tag===13&&(i.flags|=16384))),Qh(t,e)):Xs(t)}function Xs(e){var t=e;do{if((t.flags&32768)!==0){Qh(t,Jn);return}e=t.return;var n=gp(t.alternate,t,Cn);if(n!==null){ye=n;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);Xe===0&&(Xe=5)}function Qh(e,t){do{var n=vp(e.alternate,e);if(n!==null){n.flags&=32767,ye=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=n}while(e!==null);Xe=6,ye=null}function Jh(e,t,n,i,o,f,m,y,w){e.cancelPendingCommit=null;do Is();while(st!==0);if((Ae&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(f=t.lanes|t.childLanes,f|=lo,ay(e,n,f,m,y,w),e===ze&&(ye=ze=null,_e=0),_i=t,Zn=e,Rn=n,vu=f,yu=o,Mh=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ap(Ke,function(){return Wh(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=B.T,B.T=null,o=X.p,X.p=2,m=Ae,Ae|=4;try{yp(e,t,n)}finally{Ae=m,X.p=o,B.T=i}}st=1,Xh(),Ih(),Zh()}}function Xh(){if(st===1){st=0;var e=Zn,t=_i,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=B.T,B.T=null;var i=X.p;X.p=2;var o=Ae;Ae|=4;try{Ah(t,e);var f=ku,m=Uf(e.containerInfo),y=f.focusedElem,w=f.selectionRange;if(m!==y&&y&&y.ownerDocument&&Df(y.ownerDocument.documentElement,y)){if(w!==null&&no(y)){var R=w.start,q=w.end;if(q===void 0&&(q=R),"selectionStart"in y)y.selectionStart=R,y.selectionEnd=Math.min(q,y.value.length);else{var G=y.ownerDocument||document,k=G&&G.defaultView||window;if(k.getSelection){var U=k.getSelection(),W=y.textContent.length,le=Math.min(w.start,W),Ue=w.end===void 0?le:Math.min(w.end,W);!U.extend&&le>Ue&&(m=Ue,Ue=le,le=m);var O=kf(y,le),E=kf(y,Ue);if(O&&E&&(U.rangeCount!==1||U.anchorNode!==O.node||U.anchorOffset!==O.offset||U.focusNode!==E.node||U.focusOffset!==E.offset)){var C=G.createRange();C.setStart(O.node,O.offset),U.removeAllRanges(),le>Ue?(U.addRange(C),U.extend(E.node,E.offset)):(C.setEnd(E.node,E.offset),U.addRange(C))}}}}for(G=[],U=y;U=U.parentNode;)U.nodeType===1&&G.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<G.length;y++){var H=G[y];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}ll=!!Nu,ku=Nu=null}finally{Ae=o,X.p=i,B.T=n}}e.current=t,st=2}}function Ih(){if(st===2){st=0;var e=Zn,t=_i,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=B.T,B.T=null;var i=X.p;X.p=2;var o=Ae;Ae|=4;try{Eh(e,t.alternate,t)}finally{Ae=o,X.p=i,B.T=n}}st=3}}function Zh(){if(st===4||st===3){st=0,be();var e=Zn,t=_i,n=Rn,i=Mh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?st=5:(st=0,_i=Zn=null,Ph(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(In=null),Bl(n),t=t.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(He,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=B.T,o=X.p,X.p=2,B.T=null;try{for(var f=e.onRecoverableError,m=0;m<i.length;m++){var y=i[m];f(y.value,{componentStack:y.stack})}}finally{B.T=t,X.p=o}}(Rn&3)!==0&&Is(),cn(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===pu?Tr++:(Tr=0,pu=e):Tr=0,Or(0)}}function Ph(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,sr(t)))}function Is(){return Xh(),Ih(),Zh(),Wh()}function Wh(){if(st!==5)return!1;var e=Zn,t=vu;vu=0;var n=Bl(Rn),i=B.T,o=X.p;try{X.p=32>n?32:n,B.T=null,n=yu,yu=null;var f=Zn,m=Rn;if(st=0,_i=Zn=null,Rn=0,(Ae&6)!==0)throw Error(s(331));var y=Ae;if(Ae|=4,Dh(f.current),Rh(f,f.current,m,n),Ae=y,Or(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(He,f)}catch{}return!0}finally{X.p=o,B.T=i,Ph(e,t)}}function Fh(e,t,n){t=Kt(n,t),t=Zo(e.stateNode,t,2),e=Gn(e,t,2),e!==null&&(Qi(e,2),cn(e))}function Re(e,t,n){if(e.tag===3)Fh(e,e,n);else for(;t!==null;){if(t.tag===3){Fh(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(In===null||!In.has(i))){e=Kt(n,e),n=eh(2),i=Gn(t,n,2),i!==null&&(th(n,i,t,e),Qi(i,2),cn(i));break}}t=t.return}}function wu(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new _p;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(hu=!0,o.add(n),e=Tp.bind(null,e,t,n),t.then(e,e))}function Tp(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ze===e&&(_e&n)===n&&(Xe===4||Xe===3&&(_e&62914560)===_e&&300>ve()-Gs?(Ae&2)===0&&wi(e,0):mu|=n,bi===_e&&(bi=0)),cn(e)}function em(e,t){t===0&&(t=Jc()),e=ba(e,t),e!==null&&(Qi(e,t),cn(e))}function Op(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),em(e,n)}function jp(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(s(314))}i!==null&&i.delete(t),em(e,n)}function Ap(e,t){return Ga(e,t)}var Zs=null,Ei=null,Su=!1,Ps=!1,Eu=!1,Wn=0;function cn(e){e!==Ei&&e.next===null&&(Ei===null?Zs=Ei=e:Ei=Ei.next=e),Ps=!0,Su||(Su=!0,Rp())}function Or(e,t){if(!Eu&&Ps){Eu=!0;do for(var n=!1,i=Zs;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var f=0;else{var m=i.suspendedLanes,y=i.pingedLanes;f=(1<<31-Nt(42|e)+1)-1,f&=o&~(m&~y),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(n=!0,im(i,f))}else f=_e,f=ts(i,i===ze?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(f&3)===0||Ki(i,f)||(n=!0,im(i,f));i=i.next}while(n);Eu=!1}}function Cp(){tm()}function tm(){Ps=Su=!1;var e=0;Wn!==0&&Hp()&&(e=Wn);for(var t=ve(),n=null,i=Zs;i!==null;){var o=i.next,f=nm(i,t);f===0?(i.next=null,n===null?Zs=o:n.next=o,o===null&&(Ei=n)):(n=i,(e!==0||(f&3)!==0)&&(Ps=!0)),i=o}st!==0&&st!==5||Or(e),Wn!==0&&(Wn=0)}function nm(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var m=31-Nt(f),y=1<<m,w=o[m];w===-1?((y&n)===0||(y&i)!==0)&&(o[m]=ny(y,t)):w<=t&&(e.expiredLanes|=y),f&=~y}if(t=ze,n=_e,n=ts(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(Ce===2||Ce===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Y(i),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Ki(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Y(i),Bl(n)){case 2:case 8:n=pt;break;case 32:n=Ke;break;case 268435456:n=Qe;break;default:n=Ke}return i=am.bind(null,e),n=Ga(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Y(i),e.callbackPriority=2,e.callbackNode=null,2}function am(e,t){if(st!==0&&st!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Is()&&e.callbackNode!==n)return null;var i=_e;return i=ts(e,e===ze?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Lh(e,i,t),nm(e,ve()),e.callbackNode!=null&&e.callbackNode===n?am.bind(null,e):null)}function im(e,t){if(Is())return null;Lh(e,t,!0)}function Rp(){Vp(function(){(Ae&6)!==0?Ga(Ct,Cp):tm()})}function xu(){if(Wn===0){var e=oi;e===0&&(e=Wr,Wr<<=1,(Wr&261888)===0&&(Wr=256)),Wn=e}return Wn}function rm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:rs(""+e)}function sm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Np(e,t,n,i,o){if(t==="submit"&&n&&n.stateNode===o){var f=rm((o[wt]||null).action),m=i.submitter;m&&(t=(t=m[wt]||null)?rm(t.formAction):m.getAttribute("formAction"),t!==null&&(f=t,m=null));var y=new us("action","action",null,i,o);e.push({event:y,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Wn!==0){var w=m?sm(o,m):new FormData(o);Yo(n,{pending:!0,data:w,method:o.method,action:f},null,w)}}else typeof f=="function"&&(y.preventDefault(),w=m?sm(o,m):new FormData(o),Yo(n,{pending:!0,data:w,method:o.method,action:f},f,w))},currentTarget:o}]})}}for(var Tu=0;Tu<so.length;Tu++){var Ou=so[Tu],kp=Ou.toLowerCase(),Dp=Ou[0].toUpperCase()+Ou.slice(1);Ft(kp,"on"+Dp)}Ft(Bf,"onAnimationEnd"),Ft(Lf,"onAnimationIteration"),Ft(qf,"onAnimationStart"),Ft("dblclick","onDoubleClick"),Ft("focusin","onFocus"),Ft("focusout","onBlur"),Ft(Iy,"onTransitionRun"),Ft(Zy,"onTransitionStart"),Ft(Py,"onTransitionCancel"),Ft(Hf,"onTransitionEnd"),Xa("onMouseEnter",["mouseout","mouseover"]),Xa("onMouseLeave",["mouseout","mouseover"]),Xa("onPointerEnter",["pointerout","pointerover"]),Xa("onPointerLeave",["pointerout","pointerover"]),ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ga("onBeforeInput",["compositionend","keypress","textInput","paste"]),ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Up=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jr));function lm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var f=void 0;if(t)for(var m=i.length-1;0<=m;m--){var y=i[m],w=y.instance,R=y.currentTarget;if(y=y.listener,w!==f&&o.isPropagationStopped())break e;f=y,o.currentTarget=R;try{f(o)}catch(q){ds(q)}o.currentTarget=null,f=w}else for(m=0;m<i.length;m++){if(y=i[m],w=y.instance,R=y.currentTarget,y=y.listener,w!==f&&o.isPropagationStopped())break e;f=y,o.currentTarget=R;try{f(o)}catch(q){ds(q)}o.currentTarget=null,f=w}}}}function pe(e,t){var n=t[Ll];n===void 0&&(n=t[Ll]=new Set);var i=e+"__bubble";n.has(i)||(om(t,e,2,!1),n.add(i))}function ju(e,t,n){var i=0;t&&(i|=4),om(n,e,i,t)}var Ws="_reactListening"+Math.random().toString(36).slice(2);function Au(e){if(!e[Ws]){e[Ws]=!0,ef.forEach(function(n){n!=="selectionchange"&&(Up.has(n)||ju(n,!1,e),ju(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ws]||(t[Ws]=!0,ju("selectionchange",!1,t))}}function om(e,t,n,i){switch(Bm(t)){case 2:var o=o0;break;case 8:o=u0;break;default:o=Gu}n=o.bind(null,t,n,e),o=void 0,!Jl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Cu(e,t,n,i,o){var f=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var m=i.tag;if(m===3||m===4){var y=i.stateNode.containerInfo;if(y===o)break;if(m===4)for(m=i.return;m!==null;){var w=m.tag;if((w===3||w===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;y!==null;){if(m=Ka(y),m===null)return;if(w=m.tag,w===5||w===6||w===26||w===27){i=f=m;continue e}y=y.parentNode}}i=i.return}hf(function(){var R=f,q=Kl(n),G=[];e:{var k=$f.get(e);if(k!==void 0){var U=us,W=e;switch(e){case"keypress":if(ls(n)===0)break e;case"keydown":case"keyup":U=jy;break;case"focusin":W="focus",U=Pl;break;case"focusout":W="blur",U=Pl;break;case"beforeblur":case"afterblur":U=Pl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=vf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=gy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Ry;break;case Bf:case Lf:case qf:U=py;break;case Hf:U=ky;break;case"scroll":case"scrollend":U=hy;break;case"wheel":U=Uy;break;case"copy":case"cut":case"paste":U=_y;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=pf;break;case"toggle":case"beforetoggle":U=My}var le=(t&4)!==0,Ue=!le&&(e==="scroll"||e==="scrollend"),O=le?k!==null?k+"Capture":null:k;le=[];for(var E=R,C;E!==null;){var H=E;if(C=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||C===null||O===null||(H=Ii(E,O),H!=null&&le.push(Ar(E,H,C))),Ue)break;E=E.return}0<le.length&&(k=new U(k,W,null,n,q),G.push({event:k,listeners:le}))}}if((t&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",k&&n!==Yl&&(W=n.relatedTarget||n.fromElement)&&(Ka(W)||W[Ya]))break e;if((U||k)&&(k=q.window===q?q:(k=q.ownerDocument)?k.defaultView||k.parentWindow:window,U?(W=n.relatedTarget||n.toElement,U=R,W=W?Ka(W):null,W!==null&&(Ue=c(W),le=W.tag,W!==Ue||le!==5&&le!==27&&le!==6)&&(W=null)):(U=null,W=R),U!==W)){if(le=vf,H="onMouseLeave",O="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(le=pf,H="onPointerLeave",O="onPointerEnter",E="pointer"),Ue=U==null?k:Xi(U),C=W==null?k:Xi(W),k=new le(H,E+"leave",U,n,q),k.target=Ue,k.relatedTarget=C,H=null,Ka(q)===R&&(le=new le(O,E+"enter",W,n,q),le.target=C,le.relatedTarget=Ue,H=le),Ue=H,U&&W)t:{for(le=zp,O=U,E=W,C=0,H=O;H;H=le(H))C++;H=0;for(var ae=E;ae;ae=le(ae))H++;for(;0<C-H;)O=le(O),C--;for(;0<H-C;)E=le(E),H--;for(;C--;){if(O===E||E!==null&&O===E.alternate){le=O;break t}O=le(O),E=le(E)}le=null}else le=null;U!==null&&um(G,k,U,le,!1),W!==null&&Ue!==null&&um(G,Ue,W,le,!0)}}e:{if(k=R?Xi(R):window,U=k.nodeName&&k.nodeName.toLowerCase(),U==="select"||U==="input"&&k.type==="file")var Oe=Of;else if(xf(k))if(jf)Oe=Qy;else{Oe=Yy;var te=Gy}else U=k.nodeName,!U||U.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?R&&Gl(R.elementType)&&(Oe=Of):Oe=Ky;if(Oe&&(Oe=Oe(e,R))){Tf(G,Oe,n,q);break e}te&&te(e,k,R),e==="focusout"&&R&&k.type==="number"&&R.memoizedProps.value!=null&&Vl(k,"number",k.value)}switch(te=R?Xi(R):window,e){case"focusin":(xf(te)||te.contentEditable==="true")&&(ei=te,ao=R,ar=null);break;case"focusout":ar=ao=ei=null;break;case"mousedown":io=!0;break;case"contextmenu":case"mouseup":case"dragend":io=!1,zf(G,n,q);break;case"selectionchange":if(Xy)break;case"keydown":case"keyup":zf(G,n,q)}var me;if(Fl)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Fa?Sf(e,n)&&(we="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(we="onCompositionStart");we&&(bf&&n.locale!=="ko"&&(Fa||we!=="onCompositionStart"?we==="onCompositionEnd"&&Fa&&(me=mf()):(Mn=q,Xl="value"in Mn?Mn.value:Mn.textContent,Fa=!0)),te=Fs(R,we),0<te.length&&(we=new yf(we,e,null,n,q),G.push({event:we,listeners:te}),me?we.data=me:(me=Ef(n),me!==null&&(we.data=me)))),(me=Ly?qy(e,n):Hy(e,n))&&(we=Fs(R,"onBeforeInput"),0<we.length&&(te=new yf("onBeforeInput","beforeinput",null,n,q),G.push({event:te,listeners:we}),te.data=me)),Np(G,e,R,n,q)}lm(G,t)})}function Ar(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fs(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,f=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||f===null||(o=Ii(e,n),o!=null&&i.unshift(Ar(e,o,f)),o=Ii(e,t),o!=null&&i.push(Ar(e,o,f))),e.tag===3)return i;e=e.return}return[]}function zp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function um(e,t,n,i,o){for(var f=t._reactName,m=[];n!==null&&n!==i;){var y=n,w=y.alternate,R=y.stateNode;if(y=y.tag,w!==null&&w===i)break;y!==5&&y!==26&&y!==27||R===null||(w=R,o?(R=Ii(n,f),R!=null&&m.unshift(Ar(n,R,w))):o||(R=Ii(n,f),R!=null&&m.push(Ar(n,R,w)))),n=n.return}m.length!==0&&e.push({event:t,listeners:m})}var Mp=/\r\n?/g,Bp=/\u0000|\uFFFD/g;function cm(e){return(typeof e=="string"?e:""+e).replace(Mp,`
`).replace(Bp,"")}function fm(e,t){return t=cm(t),cm(e)===t}function De(e,t,n,i,o,f){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Za(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Za(e,""+i);break;case"className":as(e,"class",i);break;case"tabIndex":as(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":as(e,n,i);break;case"style":ff(e,i,f);break;case"data":if(t!=="object"){as(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=rs(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(n==="formAction"?(t!=="input"&&De(e,t,"name",o.name,o,null),De(e,t,"formEncType",o.formEncType,o,null),De(e,t,"formMethod",o.formMethod,o,null),De(e,t,"formTarget",o.formTarget,o,null)):(De(e,t,"encType",o.encType,o,null),De(e,t,"method",o.method,o,null),De(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=rs(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=gn);break;case"onScroll":i!=null&&pe("scroll",e);break;case"onScrollEnd":i!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(s(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=rs(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":pe("beforetoggle",e),pe("toggle",e),ns(e,"popover",i);break;case"xlinkActuate":mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":mn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":mn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":mn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":mn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":ns(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=fy.get(n)||n,ns(e,n,i))}}function Ru(e,t,n,i,o,f){switch(n){case"style":ff(e,i,f);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(s(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Za(e,i):(typeof i=="number"||typeof i=="bigint")&&Za(e,""+i);break;case"onScroll":i!=null&&pe("scroll",e);break;case"onScrollEnd":i!=null&&pe("scrollend",e);break;case"onClick":i!=null&&(e.onclick=gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tf.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),f=e[wt]||null,f=f!=null?f[n]:null,typeof f=="function"&&e.removeEventListener(t,f,o),typeof i=="function")){typeof f!="function"&&f!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,o);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):ns(e,n,i)}}}function gt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var i=!1,o=!1,f;for(f in n)if(n.hasOwnProperty(f)){var m=n[f];if(m!=null)switch(f){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:De(e,t,f,m,n,null)}}o&&De(e,t,"srcSet",n.srcSet,n,null),i&&De(e,t,"src",n.src,n,null);return;case"input":pe("invalid",e);var y=f=m=o=null,w=null,R=null;for(i in n)if(n.hasOwnProperty(i)){var q=n[i];if(q!=null)switch(i){case"name":o=q;break;case"type":m=q;break;case"checked":w=q;break;case"defaultChecked":R=q;break;case"value":f=q;break;case"defaultValue":y=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,t));break;default:De(e,t,i,q,n,null)}}lf(e,f,y,w,R,m,o,!1);return;case"select":pe("invalid",e),i=m=f=null;for(o in n)if(n.hasOwnProperty(o)&&(y=n[o],y!=null))switch(o){case"value":f=y;break;case"defaultValue":m=y;break;case"multiple":i=y;default:De(e,t,o,y,n,null)}t=f,n=m,e.multiple=!!i,t!=null?Ia(e,!!i,t,!1):n!=null&&Ia(e,!!i,n,!0);return;case"textarea":pe("invalid",e),f=o=i=null;for(m in n)if(n.hasOwnProperty(m)&&(y=n[m],y!=null))switch(m){case"value":i=y;break;case"defaultValue":o=y;break;case"children":f=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(s(91));break;default:De(e,t,m,y,n,null)}uf(e,i,o,f);return;case"option":for(w in n)if(n.hasOwnProperty(w)&&(i=n[w],i!=null))switch(w){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:De(e,t,w,i,n,null)}return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(i=0;i<jr.length;i++)pe(jr[i],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in n)if(n.hasOwnProperty(R)&&(i=n[R],i!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:De(e,t,R,i,n,null)}return;default:if(Gl(t)){for(q in n)n.hasOwnProperty(q)&&(i=n[q],i!==void 0&&Ru(e,t,q,i,n,void 0));return}}for(y in n)n.hasOwnProperty(y)&&(i=n[y],i!=null&&De(e,t,y,i,n,null))}function Lp(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,f=null,m=null,y=null,w=null,R=null,q=null;for(U in n){var G=n[U];if(n.hasOwnProperty(U)&&G!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":w=G;default:i.hasOwnProperty(U)||De(e,t,U,null,i,G)}}for(var k in i){var U=i[k];if(G=n[k],i.hasOwnProperty(k)&&(U!=null||G!=null))switch(k){case"type":f=U;break;case"name":o=U;break;case"checked":R=U;break;case"defaultChecked":q=U;break;case"value":m=U;break;case"defaultValue":y=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,t));break;default:U!==G&&De(e,t,k,U,i,G)}}$l(e,m,y,w,R,q,f,o);return;case"select":U=m=y=k=null;for(f in n)if(w=n[f],n.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":U=w;default:i.hasOwnProperty(f)||De(e,t,f,null,i,w)}for(o in i)if(f=i[o],w=n[o],i.hasOwnProperty(o)&&(f!=null||w!=null))switch(o){case"value":k=f;break;case"defaultValue":y=f;break;case"multiple":m=f;default:f!==w&&De(e,t,o,f,i,w)}t=y,n=m,i=U,k!=null?Ia(e,!!n,k,!1):!!i!=!!n&&(t!=null?Ia(e,!!n,t,!0):Ia(e,!!n,n?[]:"",!1));return;case"textarea":U=k=null;for(y in n)if(o=n[y],n.hasOwnProperty(y)&&o!=null&&!i.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:De(e,t,y,null,i,o)}for(m in i)if(o=i[m],f=n[m],i.hasOwnProperty(m)&&(o!=null||f!=null))switch(m){case"value":k=o;break;case"defaultValue":U=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(s(91));break;default:o!==f&&De(e,t,m,o,i,f)}of(e,k,U);return;case"option":for(var W in n)if(k=n[W],n.hasOwnProperty(W)&&k!=null&&!i.hasOwnProperty(W))switch(W){case"selected":e.selected=!1;break;default:De(e,t,W,null,i,k)}for(w in i)if(k=i[w],U=n[w],i.hasOwnProperty(w)&&k!==U&&(k!=null||U!=null))switch(w){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:De(e,t,w,k,i,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in n)k=n[le],n.hasOwnProperty(le)&&k!=null&&!i.hasOwnProperty(le)&&De(e,t,le,null,i,k);for(R in i)if(k=i[R],U=n[R],i.hasOwnProperty(R)&&k!==U&&(k!=null||U!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,t));break;default:De(e,t,R,k,i,U)}return;default:if(Gl(t)){for(var Ue in n)k=n[Ue],n.hasOwnProperty(Ue)&&k!==void 0&&!i.hasOwnProperty(Ue)&&Ru(e,t,Ue,void 0,i,k);for(q in i)k=i[q],U=n[q],!i.hasOwnProperty(q)||k===U||k===void 0&&U===void 0||Ru(e,t,q,k,i,U);return}}for(var O in n)k=n[O],n.hasOwnProperty(O)&&k!=null&&!i.hasOwnProperty(O)&&De(e,t,O,null,i,k);for(G in i)k=i[G],U=n[G],!i.hasOwnProperty(G)||k===U||k==null&&U==null||De(e,t,G,k,i,U)}function dm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qp(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var o=n[i],f=o.transferSize,m=o.initiatorType,y=o.duration;if(f&&y&&dm(m)){for(m=0,y=o.responseEnd,i+=1;i<n.length;i++){var w=n[i],R=w.startTime;if(R>y)break;var q=w.transferSize,G=w.initiatorType;q&&dm(G)&&(w=w.responseEnd,m+=q*(w<y?1:(y-R)/(w-R)))}if(--i,t+=8*(f+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Nu=null,ku=null;function el(e){return e.nodeType===9?e:e.ownerDocument}function hm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Du(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Uu=null;function Hp(){var e=window.event;return e&&e.type==="popstate"?e===Uu?!1:(Uu=e,!0):(Uu=null,!1)}var gm=typeof setTimeout=="function"?setTimeout:void 0,$p=typeof clearTimeout=="function"?clearTimeout:void 0,vm=typeof Promise=="function"?Promise:void 0,Vp=typeof queueMicrotask=="function"?queueMicrotask:typeof vm<"u"?function(e){return vm.resolve(null).then(e).catch(Gp)}:gm;function Gp(e){setTimeout(function(){throw e})}function Fn(e){return e==="head"}function ym(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(o),ji(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Cr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Cr(n);for(var f=n.firstChild;f;){var m=f.nextSibling,y=f.nodeName;f[Ji]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&f.rel.toLowerCase()==="stylesheet"||n.removeChild(f),f=m}}else n==="body"&&Cr(e.ownerDocument.body);n=o}while(n);ji(t)}function pm(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function zu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":zu(n),ql(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Yp(e,t,n,i){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Ji])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Zt(e.nextSibling),e===null)break}return null}function Kp(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Zt(e.nextSibling),e===null))return null;return e}function bm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Zt(e.nextSibling),e===null))return null;return e}function Mu(e){return e.data==="$?"||e.data==="$~"}function Bu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Qp(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Lu=null;function _m(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Zt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function wm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Sm(e,t,n){switch(t=el(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Cr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ql(e)}var Pt=new Map,Em=new Set;function tl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Nn=X.d;X.d={f:Jp,r:Xp,D:Ip,C:Zp,L:Pp,m:Wp,X:e0,S:Fp,M:t0};function Jp(){var e=Nn.f(),t=Qs();return e||t}function Xp(e){var t=Qa(e);t!==null&&t.tag===5&&t.type==="form"?Hd(t):Nn.r(e)}var xi=typeof document>"u"?null:document;function xm(e,t,n){var i=xi;if(i&&typeof t=="string"&&t){var o=Gt(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),Em.has(o)||(Em.add(o),e={rel:e,crossOrigin:n,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),gt(t,"link",e),ot(t),i.head.appendChild(t)))}}function Ip(e){Nn.D(e),xm("dns-prefetch",e,null)}function Zp(e,t){Nn.C(e,t),xm("preconnect",e,t)}function Pp(e,t,n){Nn.L(e,t,n);var i=xi;if(i&&e&&t){var o='link[rel="preload"][as="'+Gt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+Gt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+Gt(n.imageSizes)+'"]')):o+='[href="'+Gt(e)+'"]';var f=o;switch(t){case"style":f=Ti(e);break;case"script":f=Oi(e)}Pt.has(f)||(e=b({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Pt.set(f,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(Rr(f))||t==="script"&&i.querySelector(Nr(f))||(t=i.createElement("link"),gt(t,"link",e),ot(t),i.head.appendChild(t)))}}function Wp(e,t){Nn.m(e,t);var n=xi;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Gt(i)+'"][href="'+Gt(e)+'"]',f=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Oi(e)}if(!Pt.has(f)&&(e=b({rel:"modulepreload",href:e},t),Pt.set(f,e),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Nr(f)))return}i=n.createElement("link"),gt(i,"link",e),ot(i),n.head.appendChild(i)}}}function Fp(e,t,n){Nn.S(e,t,n);var i=xi;if(i&&e){var o=Ja(i).hoistableStyles,f=Ti(e);t=t||"default";var m=o.get(f);if(!m){var y={loading:0,preload:null};if(m=i.querySelector(Rr(f)))y.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Pt.get(f))&&qu(e,n);var w=m=i.createElement("link");ot(w),gt(w,"link",e),w._p=new Promise(function(R,q){w.onload=R,w.onerror=q}),w.addEventListener("load",function(){y.loading|=1}),w.addEventListener("error",function(){y.loading|=2}),y.loading|=4,nl(m,t,i)}m={type:"stylesheet",instance:m,count:1,state:y},o.set(f,m)}}}function e0(e,t){Nn.X(e,t);var n=xi;if(n&&e){var i=Ja(n).hoistableScripts,o=Oi(e),f=i.get(o);f||(f=n.querySelector(Nr(o)),f||(e=b({src:e,async:!0},t),(t=Pt.get(o))&&Hu(e,t),f=n.createElement("script"),ot(f),gt(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(o,f))}}function t0(e,t){Nn.M(e,t);var n=xi;if(n&&e){var i=Ja(n).hoistableScripts,o=Oi(e),f=i.get(o);f||(f=n.querySelector(Nr(o)),f||(e=b({src:e,async:!0,type:"module"},t),(t=Pt.get(o))&&Hu(e,t),f=n.createElement("script"),ot(f),gt(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},i.set(o,f))}}function Tm(e,t,n,i){var o=(o=de.current)?tl(o):null;if(!o)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ti(n.href),n=Ja(o).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ti(n.href);var f=Ja(o).hoistableStyles,m=f.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,m),(f=o.querySelector(Rr(e)))&&!f._p&&(m.instance=f,m.state.loading=5),Pt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Pt.set(e,n),f||n0(o,e,n,m.state))),t&&i===null)throw Error(s(528,""));return m}if(t&&i!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Oi(n),n=Ja(o).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ti(e){return'href="'+Gt(e)+'"'}function Rr(e){return'link[rel="stylesheet"]['+e+"]"}function Om(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function n0(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),gt(t,"link",n),ot(t),e.head.appendChild(t))}function Oi(e){return'[src="'+Gt(e)+'"]'}function Nr(e){return"script[async]"+e}function jm(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Gt(n.href)+'"]');if(i)return t.instance=i,ot(i),i;var o=b({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),ot(i),gt(i,"style",o),nl(i,n.precedence,e),t.instance=i;case"stylesheet":o=Ti(n.href);var f=e.querySelector(Rr(o));if(f)return t.state.loading|=4,t.instance=f,ot(f),f;i=Om(n),(o=Pt.get(o))&&qu(i,o),f=(e.ownerDocument||e).createElement("link"),ot(f);var m=f;return m._p=new Promise(function(y,w){m.onload=y,m.onerror=w}),gt(f,"link",i),t.state.loading|=4,nl(f,n.precedence,e),t.instance=f;case"script":return f=Oi(n.src),(o=e.querySelector(Nr(f)))?(t.instance=o,ot(o),o):(i=n,(o=Pt.get(f))&&(i=b({},n),Hu(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),ot(o),gt(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,nl(i,n.precedence,e));return t.instance}function nl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,f=o,m=0;m<i.length;m++){var y=i[m];if(y.dataset.precedence===t)f=y;else if(f!==o)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function qu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Hu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var al=null;function Am(e,t,n){if(al===null){var i=new Map,o=al=new Map;o.set(n,i)}else o=al,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var f=n[o];if(!(f[Ji]||f[ft]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var m=f.getAttribute(t)||"";m=e+m;var y=i.get(m);y?y.push(f):i.set(m,[f])}}return i}function Cm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function a0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Rm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function i0(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=Ti(i.href),f=t.querySelector(Rr(o));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=il.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=f,ot(f);return}f=t.ownerDocument||t,i=Om(i),(o=Pt.get(o))&&qu(i,o),f=f.createElement("link"),ot(f);var m=f;m._p=new Promise(function(y,w){m.onload=y,m.onerror=w}),gt(f,"link",i),n.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=il.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var $u=0;function r0(e,t){return e.stylesheets&&e.count===0&&sl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&sl(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&$u===0&&($u=62500*qp());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&sl(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>$u?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function il(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var rl=null;function sl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,rl=new Map,t.forEach(s0,e),rl=null,il.call(e))}function s0(e,t){if(!(t.state.loading&4)){var n=rl.get(e);if(n)var i=n.get(null);else{n=new Map,rl.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<o.length;f++){var m=o[f];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(n.set(m.dataset.precedence,m),i=m)}i&&n.set(null,i)}o=t.instance,m=o.getAttribute("data-precedence"),f=n.get(m)||i,f===i&&n.set(null,o),n.set(m,o),this.count++,i=il.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),f?f.parentNode.insertBefore(o,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var kr={$$typeof:L,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function l0(e,t,n,i,o,f,m,y,w){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=zl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zl(0),this.hiddenUpdates=zl(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=f,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Nm(e,t,n,i,o,f,m,y,w,R,q,G){return e=new l0(e,t,n,m,w,R,q,G,y),t=1,f===!0&&(t|=24),f=Dt(3,null,null,t),e.current=f,f.stateNode=e,t=_o(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:i,isDehydrated:n,cache:t},xo(f),e}function km(e){return e?(e=ai,e):ai}function Dm(e,t,n,i,o,f){o=km(o),i.context===null?i.context=o:i.pendingContext=o,i=Vn(t),i.payload={element:n},f=f===void 0?null:f,f!==null&&(i.callback=f),n=Gn(e,i,t),n!==null&&(jt(n,e,t),cr(n,e,t))}function Um(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vu(e,t){Um(e,t),(e=e.alternate)&&Um(e,t)}function zm(e){if(e.tag===13||e.tag===31){var t=ba(e,67108864);t!==null&&jt(t,e,67108864),Vu(e,67108864)}}function Mm(e){if(e.tag===13||e.tag===31){var t=Lt();t=Ml(t);var n=ba(e,t);n!==null&&jt(n,e,t),Vu(e,t)}}var ll=!0;function o0(e,t,n,i){var o=B.T;B.T=null;var f=X.p;try{X.p=2,Gu(e,t,n,i)}finally{X.p=f,B.T=o}}function u0(e,t,n,i){var o=B.T;B.T=null;var f=X.p;try{X.p=8,Gu(e,t,n,i)}finally{X.p=f,B.T=o}}function Gu(e,t,n,i){if(ll){var o=Yu(i);if(o===null)Cu(e,t,i,ol,n),Lm(e,i);else if(f0(o,e,t,n,i))i.stopPropagation();else if(Lm(e,i),t&4&&-1<c0.indexOf(e)){for(;o!==null;){var f=Qa(o);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var m=ma(f.pendingLanes);if(m!==0){var y=f;for(y.pendingLanes|=2,y.entangledLanes|=2;m;){var w=1<<31-Nt(m);y.entanglements[1]|=w,m&=~w}cn(f),(Ae&6)===0&&(Ys=ve()+500,Or(0))}}break;case 31:case 13:y=ba(f,2),y!==null&&jt(y,f,2),Qs(),Vu(f,2)}if(f=Yu(i),f===null&&Cu(e,t,i,ol,n),f===o)break;o=f}o!==null&&i.stopPropagation()}else Cu(e,t,i,null,n)}}function Yu(e){return e=Kl(e),Ku(e)}var ol=null;function Ku(e){if(ol=null,e=Ka(e),e!==null){var t=c(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=d(t),e!==null)return e;e=null}else if(n===31){if(e=h(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ol=e,null}function Bm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(it()){case Ct:return 2;case pt:return 8;case Ke:case Me:return 32;case Qe:return 268435456;default:return 32}default:return 32}}var Qu=!1,ea=null,ta=null,na=null,Dr=new Map,Ur=new Map,aa=[],c0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lm(e,t){switch(e){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":Dr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(t.pointerId)}}function zr(e,t,n,i,o,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:f,targetContainers:[o]},t!==null&&(t=Qa(t),t!==null&&zm(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function f0(e,t,n,i,o){switch(t){case"focusin":return ea=zr(ea,e,t,n,i,o),!0;case"dragenter":return ta=zr(ta,e,t,n,i,o),!0;case"mouseover":return na=zr(na,e,t,n,i,o),!0;case"pointerover":var f=o.pointerId;return Dr.set(f,zr(Dr.get(f)||null,e,t,n,i,o)),!0;case"gotpointercapture":return f=o.pointerId,Ur.set(f,zr(Ur.get(f)||null,e,t,n,i,o)),!0}return!1}function qm(e){var t=Ka(e.target);if(t!==null){var n=c(t);if(n!==null){if(t=n.tag,t===13){if(t=d(n),t!==null){e.blockedOn=t,Wc(e.priority,function(){Mm(n)});return}}else if(t===31){if(t=h(n),t!==null){e.blockedOn=t,Wc(e.priority,function(){Mm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ul(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yu(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Yl=i,n.target.dispatchEvent(i),Yl=null}else return t=Qa(n),t!==null&&zm(t),e.blockedOn=n,!1;t.shift()}return!0}function Hm(e,t,n){ul(e)&&n.delete(t)}function d0(){Qu=!1,ea!==null&&ul(ea)&&(ea=null),ta!==null&&ul(ta)&&(ta=null),na!==null&&ul(na)&&(na=null),Dr.forEach(Hm),Ur.forEach(Hm)}function cl(e,t){e.blockedOn===t&&(e.blockedOn=null,Qu||(Qu=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,d0)))}var fl=null;function $m(e){fl!==e&&(fl=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){fl===e&&(fl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(Ku(i||n)===null)continue;break}var f=Qa(n);f!==null&&(e.splice(t,3),t-=3,Yo(f,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function ji(e){function t(w){return cl(w,e)}ea!==null&&cl(ea,e),ta!==null&&cl(ta,e),na!==null&&cl(na,e),Dr.forEach(t),Ur.forEach(t);for(var n=0;n<aa.length;n++){var i=aa[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<aa.length&&(n=aa[0],n.blockedOn===null);)qm(n),n.blockedOn===null&&aa.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],f=n[i+1],m=o[wt]||null;if(typeof f=="function")m||$m(n);else if(m){var y=null;if(f&&f.hasAttribute("formAction")){if(o=f,m=f[wt]||null)y=m.formAction;else if(Ku(o)!==null)continue}else y=m.action;typeof y=="function"?n[i+1]=y:(n.splice(i,3),i-=3),$m(n)}}}function Vm(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Ju(e){this._internalRoot=e}dl.prototype.render=Ju.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,i=Lt();Dm(n,i,e,t,null,null)},dl.prototype.unmount=Ju.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dm(e.current,2,null,e,null,null),Qs(),t[Ya]=null}};function dl(e){this._internalRoot=e}dl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<aa.length&&t!==0&&t<aa[n].priority;n++);aa.splice(n,0,e),n===0&&qm(e)}};var Gm=a.version;if(Gm!=="19.2.0")throw Error(s(527,Gm,"19.2.0"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(t),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var h0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hl.isDisabled&&hl.supportsFiber)try{He=hl.inject(h0),rt=hl}catch{}}return Br.createRoot=function(e,t){if(!u(e))throw Error(s(299));var n=!1,i="",o=Zd,f=Pd,m=Wd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Nm(e,1,!1,null,null,n,i,null,o,f,m,Vm),e[Ya]=t.current,Au(e),new Ju(t)},Br.hydrateRoot=function(e,t,n){if(!u(e))throw Error(s(299));var i=!1,o="",f=Zd,m=Pd,y=Wd,w=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.formState!==void 0&&(w=n.formState)),t=Nm(e,1,!0,t,n??null,i,o,w,f,m,y,Vm),t.context=km(null),n=t.current,i=Lt(),i=Ml(i),o=Vn(i),o.callback=null,Gn(n,o,i),n=i,t.current.lanes=n,Qi(t,n),cn(t),e[Ya]=t.current,Au(e),new dl(t)},Br.version="19.2.0",Br}var Fm;function E0(){if(Fm)return Iu.exports;Fm=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),Iu.exports=S0(),Iu.exports}var x0=E0();const T0=Rc(x0);var A=Nc();const Dn=Rc(A),O0=g0({__proto__:null,default:Dn},[A]);var Gg=Vg();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yr(){return Yr=Object.assign?Object.assign.bind():function(l){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(l[s]=r[s])}return l},Yr.apply(this,arguments)}var oa;(function(l){l.Pop="POP",l.Push="PUSH",l.Replace="REPLACE"})(oa||(oa={}));const eg="popstate";function j0(l){l===void 0&&(l={});function a(u,c){let{pathname:d="/",search:h="",hash:v=""}=La(u.location.hash.substr(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),mc("",{pathname:d,search:h,hash:v},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(u,c){let d=u.document.querySelector("base"),h="";if(d&&d.getAttribute("href")){let v=u.location.href,g=v.indexOf("#");h=g===-1?v:v.slice(0,g)}return h+"#"+(typeof c=="string"?c:El(c))}function s(u,c){kc(u.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(c)+")")}return C0(a,r,s,l)}function Pe(l,a){if(l===!1||l===null||typeof l>"u")throw new Error(a)}function kc(l,a){if(!l){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function A0(){return Math.random().toString(36).substr(2,8)}function tg(l,a){return{usr:l.state,key:l.key,idx:a}}function mc(l,a,r,s){return r===void 0&&(r=null),Yr({pathname:typeof l=="string"?l:l.pathname,search:"",hash:""},typeof a=="string"?La(a):a,{state:r,key:a&&a.key||s||A0()})}function El(l){let{pathname:a="/",search:r="",hash:s=""}=l;return r&&r!=="?"&&(a+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(a+=s.charAt(0)==="#"?s:"#"+s),a}function La(l){let a={};if(l){let r=l.indexOf("#");r>=0&&(a.hash=l.substr(r),l=l.substr(0,r));let s=l.indexOf("?");s>=0&&(a.search=l.substr(s),l=l.substr(0,s)),l&&(a.pathname=l)}return a}function C0(l,a,r,s){s===void 0&&(s={});let{window:u=document.defaultView,v5Compat:c=!1}=s,d=u.history,h=oa.Pop,v=null,g=p();g==null&&(g=0,d.replaceState(Yr({},d.state,{idx:g}),""));function p(){return(d.state||{idx:null}).idx}function b(){h=oa.Pop;let j=p(),V=j==null?null:j-g;g=j,v&&v({action:h,location:D.location,delta:V})}function S(j,V){h=oa.Push;let z=mc(D.location,j,V);r&&r(z,j),g=p()+1;let L=tg(z,g),J=D.createHref(z);try{d.pushState(L,"",J)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;u.location.assign(J)}c&&v&&v({action:h,location:D.location,delta:1})}function T(j,V){h=oa.Replace;let z=mc(D.location,j,V);r&&r(z,j),g=p();let L=tg(z,g),J=D.createHref(z);d.replaceState(L,"",J),c&&v&&v({action:h,location:D.location,delta:0})}function M(j){let V=u.location.origin!=="null"?u.location.origin:u.location.href,z=typeof j=="string"?j:El(j);return z=z.replace(/ $/,"%20"),Pe(V,"No window.location.(origin|href) available to create URL for href: "+z),new URL(z,V)}let D={get action(){return h},get location(){return l(u,d)},listen(j){if(v)throw new Error("A history only accepts one active listener");return u.addEventListener(eg,b),v=j,()=>{u.removeEventListener(eg,b),v=null}},createHref(j){return a(u,j)},createURL:M,encodeLocation(j){let V=M(j);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:S,replace:T,go(j){return d.go(j)}};return D}var ng;(function(l){l.data="data",l.deferred="deferred",l.redirect="redirect",l.error="error"})(ng||(ng={}));function R0(l,a,r){return r===void 0&&(r="/"),N0(l,a,r)}function N0(l,a,r,s){let u=typeof a=="string"?La(a):a,c=Dc(u.pathname||"/",r);if(c==null)return null;let d=Yg(l);k0(d);let h=null;for(let v=0;h==null&&v<d.length;++v){let g=Y0(c);h=$0(d[v],g)}return h}function Yg(l,a,r,s){a===void 0&&(a=[]),r===void 0&&(r=[]),s===void 0&&(s="");let u=(c,d,h)=>{let v={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};v.relativePath.startsWith("/")&&(Pe(v.relativePath.startsWith(s),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(s.length));let g=ua([s,v.relativePath]),p=r.concat(v);c.children&&c.children.length>0&&(Pe(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Yg(c.children,a,p,g)),!(c.path==null&&!c.index)&&a.push({path:g,score:q0(g,c.index),routesMeta:p})};return l.forEach((c,d)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))u(c,d);else for(let v of Kg(c.path))u(c,d,v)}),a}function Kg(l){let a=l.split("/");if(a.length===0)return[];let[r,...s]=a,u=r.endsWith("?"),c=r.replace(/\?$/,"");if(s.length===0)return u?[c,""]:[c];let d=Kg(s.join("/")),h=[];return h.push(...d.map(v=>v===""?c:[c,v].join("/"))),u&&h.push(...d),h.map(v=>l.startsWith("/")&&v===""?"/":v)}function k0(l){l.sort((a,r)=>a.score!==r.score?r.score-a.score:H0(a.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const D0=/^:[\w-]+$/,U0=3,z0=2,M0=1,B0=10,L0=-2,ag=l=>l==="*";function q0(l,a){let r=l.split("/"),s=r.length;return r.some(ag)&&(s+=L0),a&&(s+=z0),r.filter(u=>!ag(u)).reduce((u,c)=>u+(D0.test(c)?U0:c===""?M0:B0),s)}function H0(l,a){return l.length===a.length&&l.slice(0,-1).every((s,u)=>s===a[u])?l[l.length-1]-a[a.length-1]:0}function $0(l,a,r){let{routesMeta:s}=l,u={},c="/",d=[];for(let h=0;h<s.length;++h){let v=s[h],g=h===s.length-1,p=c==="/"?a:a.slice(c.length)||"/",b=V0({path:v.relativePath,caseSensitive:v.caseSensitive,end:g},p),S=v.route;if(!b)return null;Object.assign(u,b.params),d.push({params:u,pathname:ua([c,b.pathname]),pathnameBase:X0(ua([c,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(c=ua([c,b.pathnameBase]))}return d}function V0(l,a){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[r,s]=G0(l.path,l.caseSensitive,l.end),u=a.match(r);if(!u)return null;let c=u[0],d=c.replace(/(.)\/+$/,"$1"),h=u.slice(1);return{params:s.reduce((g,p,b)=>{let{paramName:S,isOptional:T}=p;if(S==="*"){let D=h[b]||"";d=c.slice(0,c.length-D.length).replace(/(.)\/+$/,"$1")}const M=h[b];return T&&!M?g[S]=void 0:g[S]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:l}}function G0(l,a,r){a===void 0&&(a=!1),r===void 0&&(r=!0),kc(l==="*"||!l.endsWith("*")||l.endsWith("/*"),'Route path "'+l+'" will be treated as if it were '+('"'+l.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+l.replace(/\*$/,"/*")+'".'));let s=[],u="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,v)=>(s.push({paramName:h,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(s.push({paramName:"*"}),u+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":l!==""&&l!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,a?void 0:"i"),s]}function Y0(l){try{return l.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return kc(!1,'The URL path "'+l+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+a+").")),l}}function Dc(l,a){if(a==="/")return l;if(!l.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,s=l.charAt(r);return s&&s!=="/"?null:l.slice(r)||"/"}function K0(l,a){a===void 0&&(a="/");let{pathname:r,search:s="",hash:u=""}=typeof l=="string"?La(l):l;return{pathname:r?r.startsWith("/")?r:Q0(r,a):a,search:I0(s),hash:Z0(u)}}function Q0(l,a){let r=a.replace(/\/+$/,"").split("/");return l.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function ec(l,a,r,s){return"Cannot include a '"+l+"' character in a manually specified "+("`to."+a+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function J0(l){return l.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function Uc(l,a){let r=J0(l);return a?r.map((s,u)=>u===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function zc(l,a,r,s){s===void 0&&(s=!1);let u;typeof l=="string"?u=La(l):(u=Yr({},l),Pe(!u.pathname||!u.pathname.includes("?"),ec("?","pathname","search",u)),Pe(!u.pathname||!u.pathname.includes("#"),ec("#","pathname","hash",u)),Pe(!u.search||!u.search.includes("#"),ec("#","search","hash",u)));let c=l===""||u.pathname==="",d=c?"/":u.pathname,h;if(d==null)h=r;else{let b=a.length-1;if(!s&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),b-=1;u.pathname=S.join("/")}h=b>=0?a[b]:"/"}let v=K0(u,h),g=d&&d!=="/"&&d.endsWith("/"),p=(c||d===".")&&r.endsWith("/");return!v.pathname.endsWith("/")&&(g||p)&&(v.pathname+="/"),v}const ua=l=>l.join("/").replace(/\/\/+/g,"/"),X0=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),I0=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,Z0=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function P0(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}const Qg=["post","put","patch","delete"];new Set(Qg);const W0=["get",...Qg];new Set(W0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kr(){return Kr=Object.assign?Object.assign.bind():function(l){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(l[s]=r[s])}return l},Kr.apply(this,arguments)}const Mc=A.createContext(null),F0=A.createContext(null),ca=A.createContext(null),Rl=A.createContext(null),dn=A.createContext({outlet:null,matches:[],isDataRoute:!1}),Jg=A.createContext(null);function eb(l,a){let{relative:r}=a===void 0?{}:a;Li()||Pe(!1);let{basename:s,navigator:u}=A.useContext(ca),{hash:c,pathname:d,search:h}=Zg(l,{relative:r}),v=d;return s!=="/"&&(v=d==="/"?s:ua([s,d])),u.createHref({pathname:v,search:h,hash:c})}function Li(){return A.useContext(Rl)!=null}function Un(){return Li()||Pe(!1),A.useContext(Rl).location}function Xg(l){A.useContext(ca).static||A.useLayoutEffect(l)}function fa(){let{isDataRoute:l}=A.useContext(dn);return l?gb():tb()}function tb(){Li()||Pe(!1);let l=A.useContext(Mc),{basename:a,future:r,navigator:s}=A.useContext(ca),{matches:u}=A.useContext(dn),{pathname:c}=Un(),d=JSON.stringify(Uc(u,r.v7_relativeSplatPath)),h=A.useRef(!1);return Xg(()=>{h.current=!0}),A.useCallback(function(g,p){if(p===void 0&&(p={}),!h.current)return;if(typeof g=="number"){s.go(g);return}let b=zc(g,JSON.parse(d),c,p.relative==="path");l==null&&a!=="/"&&(b.pathname=b.pathname==="/"?a:ua([a,b.pathname])),(p.replace?s.replace:s.push)(b,p.state,p)},[a,s,d,c,l])}const nb=A.createContext(null);function ab(l){let a=A.useContext(dn).outlet;return a&&A.createElement(nb.Provider,{value:l},a)}function Ig(){let{matches:l}=A.useContext(dn),a=l[l.length-1];return a?a.params:{}}function Zg(l,a){let{relative:r}=a===void 0?{}:a,{future:s}=A.useContext(ca),{matches:u}=A.useContext(dn),{pathname:c}=Un(),d=JSON.stringify(Uc(u,s.v7_relativeSplatPath));return A.useMemo(()=>zc(l,JSON.parse(d),c,r==="path"),[l,d,c,r])}function ib(l,a){return rb(l,a)}function rb(l,a,r,s){Li()||Pe(!1);let{navigator:u}=A.useContext(ca),{matches:c}=A.useContext(dn),d=c[c.length-1],h=d?d.params:{};d&&d.pathname;let v=d?d.pathnameBase:"/";d&&d.route;let g=Un(),p;if(a){var b;let j=typeof a=="string"?La(a):a;v==="/"||(b=j.pathname)!=null&&b.startsWith(v)||Pe(!1),p=j}else p=g;let S=p.pathname||"/",T=S;if(v!=="/"){let j=v.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let M=R0(l,{pathname:T}),D=cb(M&&M.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:ua([v,u.encodeLocation?u.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?v:ua([v,u.encodeLocation?u.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),c,r,s);return a&&D?A.createElement(Rl.Provider,{value:{location:Kr({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:oa.Pop}},D):D}function sb(){let l=mb(),a=P0(l)?l.status+" "+l.statusText:l instanceof Error?l.message:JSON.stringify(l),r=l instanceof Error?l.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},a),r?A.createElement("pre",{style:u},r):null,null)}const lb=A.createElement(sb,null);class ob extends A.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,r){return r.location!==a.location||r.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:r.error,location:r.location,revalidation:a.revalidation||r.revalidation}}componentDidCatch(a,r){console.error("React Router caught the following error during render",a,r)}render(){return this.state.error!==void 0?A.createElement(dn.Provider,{value:this.props.routeContext},A.createElement(Jg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ub(l){let{routeContext:a,match:r,children:s}=l,u=A.useContext(Mc);return u&&u.static&&u.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=r.route.id),A.createElement(dn.Provider,{value:a},s)}function cb(l,a,r,s){var u;if(a===void 0&&(a=[]),r===void 0&&(r=null),s===void 0&&(s=null),l==null){var c;if(!r)return null;if(r.errors)l=r.matches;else if((c=s)!=null&&c.v7_partialHydration&&a.length===0&&!r.initialized&&r.matches.length>0)l=r.matches;else return null}let d=l,h=(u=r)==null?void 0:u.errors;if(h!=null){let p=d.findIndex(b=>b.route.id&&(h==null?void 0:h[b.route.id])!==void 0);p>=0||Pe(!1),d=d.slice(0,Math.min(d.length,p+1))}let v=!1,g=-1;if(r&&s&&s.v7_partialHydration)for(let p=0;p<d.length;p++){let b=d[p];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=p),b.route.id){let{loaderData:S,errors:T}=r,M=b.route.loader&&S[b.route.id]===void 0&&(!T||T[b.route.id]===void 0);if(b.route.lazy||M){v=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((p,b,S)=>{let T,M=!1,D=null,j=null;r&&(T=h&&b.route.id?h[b.route.id]:void 0,D=b.route.errorElement||lb,v&&(g<0&&S===0?(vb("route-fallback"),M=!0,j=null):g===S&&(M=!0,j=b.route.hydrateFallbackElement||null)));let V=a.concat(d.slice(0,S+1)),z=()=>{let L;return T?L=D:M?L=j:b.route.Component?L=A.createElement(b.route.Component,null):b.route.element?L=b.route.element:L=p,A.createElement(ub,{match:b,routeContext:{outlet:p,matches:V,isDataRoute:r!=null},children:L})};return r&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?A.createElement(ob,{location:r.location,revalidation:r.revalidation,component:D,error:T,children:z(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):z()},null)}var Pg=(function(l){return l.UseBlocker="useBlocker",l.UseRevalidator="useRevalidator",l.UseNavigateStable="useNavigate",l})(Pg||{}),Wg=(function(l){return l.UseBlocker="useBlocker",l.UseLoaderData="useLoaderData",l.UseActionData="useActionData",l.UseRouteError="useRouteError",l.UseNavigation="useNavigation",l.UseRouteLoaderData="useRouteLoaderData",l.UseMatches="useMatches",l.UseRevalidator="useRevalidator",l.UseNavigateStable="useNavigate",l.UseRouteId="useRouteId",l})(Wg||{});function fb(l){let a=A.useContext(Mc);return a||Pe(!1),a}function db(l){let a=A.useContext(F0);return a||Pe(!1),a}function hb(l){let a=A.useContext(dn);return a||Pe(!1),a}function Fg(l){let a=hb(),r=a.matches[a.matches.length-1];return r.route.id||Pe(!1),r.route.id}function mb(){var l;let a=A.useContext(Jg),r=db(),s=Fg();return a!==void 0?a:(l=r.errors)==null?void 0:l[s]}function gb(){let{router:l}=fb(Pg.UseNavigateStable),a=Fg(Wg.UseNavigateStable),r=A.useRef(!1);return Xg(()=>{r.current=!0}),A.useCallback(function(u,c){c===void 0&&(c={}),r.current&&(typeof u=="number"?l.navigate(u):l.navigate(u,Kr({fromRouteId:a},c)))},[l,a])}const ig={};function vb(l,a,r){ig[l]||(ig[l]=!0)}function yb(l,a){l==null||l.v7_startTransition,l==null||l.v7_relativeSplatPath}function ev(l){let{to:a,replace:r,state:s,relative:u}=l;Li()||Pe(!1);let{future:c,static:d}=A.useContext(ca),{matches:h}=A.useContext(dn),{pathname:v}=Un(),g=fa(),p=zc(a,Uc(h,c.v7_relativeSplatPath),v,u==="path"),b=JSON.stringify(p);return A.useEffect(()=>g(JSON.parse(b),{replace:r,state:s,relative:u}),[g,b,u,r,s]),null}function pb(l){return ab(l.context)}function fn(l){Pe(!1)}function bb(l){let{basename:a="/",children:r=null,location:s,navigationType:u=oa.Pop,navigator:c,static:d=!1,future:h}=l;Li()&&Pe(!1);let v=a.replace(/^\/*/,"/"),g=A.useMemo(()=>({basename:v,navigator:c,static:d,future:Kr({v7_relativeSplatPath:!1},h)}),[v,h,c,d]);typeof s=="string"&&(s=La(s));let{pathname:p="/",search:b="",hash:S="",state:T=null,key:M="default"}=s,D=A.useMemo(()=>{let j=Dc(p,v);return j==null?null:{location:{pathname:j,search:b,hash:S,state:T,key:M},navigationType:u}},[v,p,b,S,T,M,u]);return D==null?null:A.createElement(ca.Provider,{value:g},A.createElement(Rl.Provider,{children:r,value:D}))}function _b(l){let{children:a,location:r}=l;return ib(gc(a),r)}new Promise(()=>{});function gc(l,a){a===void 0&&(a=[]);let r=[];return A.Children.forEach(l,(s,u)=>{if(!A.isValidElement(s))return;let c=[...a,u];if(s.type===A.Fragment){r.push.apply(r,gc(s.props.children,c));return}s.type!==fn&&Pe(!1),!s.props.index||!s.props.children||Pe(!1);let d={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=gc(s.props.children,c)),r.push(d)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vc(){return vc=Object.assign?Object.assign.bind():function(l){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(l[s]=r[s])}return l},vc.apply(this,arguments)}function wb(l,a){if(l==null)return{};var r={},s=Object.keys(l),u,c;for(c=0;c<s.length;c++)u=s[c],!(a.indexOf(u)>=0)&&(r[u]=l[u]);return r}function Sb(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Eb(l,a){return l.button===0&&(!a||a==="_self")&&!Sb(l)}const xb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Tb="6";try{window.__reactRouterVersion=Tb}catch{}const Ob="startTransition",rg=O0[Ob];function jb(l){let{basename:a,children:r,future:s,window:u}=l,c=A.useRef();c.current==null&&(c.current=j0({window:u,v5Compat:!0}));let d=c.current,[h,v]=A.useState({action:d.action,location:d.location}),{v7_startTransition:g}=s||{},p=A.useCallback(b=>{g&&rg?rg(()=>v(b)):v(b)},[v,g]);return A.useLayoutEffect(()=>d.listen(p),[d,p]),A.useEffect(()=>yb(s),[s]),A.createElement(bb,{basename:a,children:r,location:h.location,navigationType:h.action,navigator:d,future:s})}const Ab=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tv=A.forwardRef(function(a,r){let{onClick:s,relative:u,reloadDocument:c,replace:d,state:h,target:v,to:g,preventScrollReset:p,viewTransition:b}=a,S=wb(a,xb),{basename:T}=A.useContext(ca),M,D=!1;if(typeof g=="string"&&Cb.test(g)&&(M=g,Ab))try{let L=new URL(window.location.href),J=g.startsWith("//")?new URL(L.protocol+g):new URL(g),ee=Dc(J.pathname,T);J.origin===L.origin&&ee!=null?g=ee+J.search+J.hash:D=!0}catch{}let j=eb(g,{relative:u}),V=Rb(g,{replace:d,state:h,target:v,preventScrollReset:p,relative:u,viewTransition:b});function z(L){s&&s(L),L.defaultPrevented||V(L)}return A.createElement("a",vc({},S,{href:M||j,onClick:D||c?s:z,ref:r,target:v}))});var sg;(function(l){l.UseScrollRestoration="useScrollRestoration",l.UseSubmit="useSubmit",l.UseSubmitFetcher="useSubmitFetcher",l.UseFetcher="useFetcher",l.useViewTransitionState="useViewTransitionState"})(sg||(sg={}));var lg;(function(l){l.UseFetcher="useFetcher",l.UseFetchers="useFetchers",l.UseScrollRestoration="useScrollRestoration"})(lg||(lg={}));function Rb(l,a){let{target:r,replace:s,state:u,preventScrollReset:c,relative:d,viewTransition:h}=a===void 0?{}:a,v=fa(),g=Un(),p=Zg(l,{relative:d});return A.useCallback(b=>{if(Eb(b,r)){b.preventDefault();let S=s!==void 0?s:El(g)===El(p);v(l,{replace:S,state:u,preventScrollReset:c,relative:d,viewTransition:h})}},[g,v,p,s,u,r,l,c,d,h])}var yc=function(l,a){return yc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(r[u]=s[u])},yc(l,a)};function nv(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");yc(l,a);function r(){this.constructor=l}l.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)}var xl=function(){return xl=Object.assign||function(a){for(var r,s=1,u=arguments.length;s<u;s++){r=arguments[s];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])}return a},xl.apply(this,arguments)};function qi(l,a){var r={};for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&a.indexOf(s)<0&&(r[s]=l[s]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(l);u<s.length;u++)a.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(l,s[u])&&(r[s[u]]=l[s[u]]);return r}function av(l,a,r,s){var u=arguments.length,c=u<3?a:s===null?s=Object.getOwnPropertyDescriptor(a,r):s,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(l,a,r,s);else for(var h=l.length-1;h>=0;h--)(d=l[h])&&(c=(u<3?d(c):u>3?d(a,r,c):d(a,r))||c);return u>3&&c&&Object.defineProperty(a,r,c),c}function iv(l,a){return function(r,s){a(r,s,l)}}function rv(l,a,r,s,u,c){function d(V){if(V!==void 0&&typeof V!="function")throw new TypeError("Function expected");return V}for(var h=s.kind,v=h==="getter"?"get":h==="setter"?"set":"value",g=!a&&l?s.static?l:l.prototype:null,p=a||(g?Object.getOwnPropertyDescriptor(g,s.name):{}),b,S=!1,T=r.length-1;T>=0;T--){var M={};for(var D in s)M[D]=D==="access"?{}:s[D];for(var D in s.access)M.access[D]=s.access[D];M.addInitializer=function(V){if(S)throw new TypeError("Cannot add initializers after decoration has completed");c.push(d(V||null))};var j=(0,r[T])(h==="accessor"?{get:p.get,set:p.set}:p[v],M);if(h==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(b=d(j.get))&&(p.get=b),(b=d(j.set))&&(p.set=b),(b=d(j.init))&&u.unshift(b)}else(b=d(j))&&(h==="field"?u.unshift(b):p[v]=b)}g&&Object.defineProperty(g,s.name,p),S=!0}function sv(l,a,r){for(var s=arguments.length>2,u=0;u<a.length;u++)r=s?a[u].call(l,r):a[u].call(l);return s?r:void 0}function lv(l){return typeof l=="symbol"?l:"".concat(l)}function ov(l,a,r){return typeof a=="symbol"&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(l,"name",{configurable:!0,value:r?"".concat(r," ",a):a})}function uv(l,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,a)}function ne(l,a,r,s){function u(c){return c instanceof r?c:new r(function(d){d(c)})}return new(r||(r=Promise))(function(c,d){function h(p){try{g(s.next(p))}catch(b){d(b)}}function v(p){try{g(s.throw(p))}catch(b){d(b)}}function g(p){p.done?c(p.value):u(p.value).then(h,v)}g((s=s.apply(l,a||[])).next())})}function cv(l,a){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,u,c,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=h(0),d.throw=h(1),d.return=h(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function h(g){return function(p){return v([g,p])}}function v(g){if(s)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(r=0)),r;)try{if(s=1,u&&(c=g[0]&2?u.return:g[0]?u.throw||((c=u.return)&&c.call(u),0):u.next)&&!(c=c.call(u,g[1])).done)return c;switch(u=0,c&&(g=[g[0]&2,c.value]),g[0]){case 0:case 1:c=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,u=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!c||g[1]>c[0]&&g[1]<c[3])){r.label=g[1];break}if(g[0]===6&&r.label<c[1]){r.label=c[1],c=g;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(g);break}c[2]&&r.ops.pop(),r.trys.pop();continue}g=a.call(l,r)}catch(p){g=[6,p],u=0}finally{s=c=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var Nl=Object.create?(function(l,a,r,s){s===void 0&&(s=r);var u=Object.getOwnPropertyDescriptor(a,r);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[r]}}),Object.defineProperty(l,s,u)}):(function(l,a,r,s){s===void 0&&(s=r),l[s]=a[r]});function fv(l,a){for(var r in l)r!=="default"&&!Object.prototype.hasOwnProperty.call(a,r)&&Nl(a,l,r)}function Tl(l){var a=typeof Symbol=="function"&&Symbol.iterator,r=a&&l[a],s=0;if(r)return r.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&s>=l.length&&(l=void 0),{value:l&&l[s++],done:!l}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bc(l,a){var r=typeof Symbol=="function"&&l[Symbol.iterator];if(!r)return l;var s=r.call(l),u,c=[],d;try{for(;(a===void 0||a-- >0)&&!(u=s.next()).done;)c.push(u.value)}catch(h){d={error:h}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(d)throw d.error}}return c}function dv(){for(var l=[],a=0;a<arguments.length;a++)l=l.concat(Bc(arguments[a]));return l}function hv(){for(var l=0,a=0,r=arguments.length;a<r;a++)l+=arguments[a].length;for(var s=Array(l),u=0,a=0;a<r;a++)for(var c=arguments[a],d=0,h=c.length;d<h;d++,u++)s[u]=c[d];return s}function mv(l,a,r){if(r||arguments.length===2)for(var s=0,u=a.length,c;s<u;s++)(c||!(s in a))&&(c||(c=Array.prototype.slice.call(a,0,s)),c[s]=a[s]);return l.concat(c||Array.prototype.slice.call(a))}function Mi(l){return this instanceof Mi?(this.v=l,this):new Mi(l)}function gv(l,a,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=r.apply(l,a||[]),u,c=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),u[Symbol.asyncIterator]=function(){return this},u;function d(T){return function(M){return Promise.resolve(M).then(T,b)}}function h(T,M){s[T]&&(u[T]=function(D){return new Promise(function(j,V){c.push([T,D,j,V])>1||v(T,D)})},M&&(u[T]=M(u[T])))}function v(T,M){try{g(s[T](M))}catch(D){S(c[0][3],D)}}function g(T){T.value instanceof Mi?Promise.resolve(T.value.v).then(p,b):S(c[0][2],T)}function p(T){v("next",T)}function b(T){v("throw",T)}function S(T,M){T(M),c.shift(),c.length&&v(c[0][0],c[0][1])}}function vv(l){var a,r;return a={},s("next"),s("throw",function(u){throw u}),s("return"),a[Symbol.iterator]=function(){return this},a;function s(u,c){a[u]=l[u]?function(d){return(r=!r)?{value:Mi(l[u](d)),done:!1}:c?c(d):d}:c}}function yv(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l[Symbol.asyncIterator],r;return a?a.call(l):(l=typeof Tl=="function"?Tl(l):l[Symbol.iterator](),r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r);function s(c){r[c]=l[c]&&function(d){return new Promise(function(h,v){d=l[c](d),u(h,v,d.done,d.value)})}}function u(c,d,h,v){Promise.resolve(v).then(function(g){c({value:g,done:h})},d)}}function pv(l,a){return Object.defineProperty?Object.defineProperty(l,"raw",{value:a}):l.raw=a,l}var Nb=Object.create?(function(l,a){Object.defineProperty(l,"default",{enumerable:!0,value:a})}):function(l,a){l.default=a},pc=function(l){return pc=Object.getOwnPropertyNames||function(a){var r=[];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[r.length]=s);return r},pc(l)};function bv(l){if(l&&l.__esModule)return l;var a={};if(l!=null)for(var r=pc(l),s=0;s<r.length;s++)r[s]!=="default"&&Nl(a,l,r[s]);return Nb(a,l),a}function _v(l){return l&&l.__esModule?l:{default:l}}function wv(l,a,r,s){if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?l!==a||!s:!a.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?s:r==="a"?s.call(l):s?s.value:a.get(l)}function Sv(l,a,r,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?l!==a||!u:!a.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(l,r):u?u.value=r:a.set(l,r),r}function Ev(l,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof l=="function"?a===l:l.has(a)}function xv(l,a,r){if(a!=null){if(typeof a!="object"&&typeof a!="function")throw new TypeError("Object expected.");var s,u;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=a[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=a[Symbol.dispose],r&&(u=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");u&&(s=function(){try{u.call(this)}catch(c){return Promise.reject(c)}}),l.stack.push({value:a,dispose:s,async:r})}else r&&l.stack.push({async:!0});return a}var kb=typeof SuppressedError=="function"?SuppressedError:function(l,a,r){var s=new Error(r);return s.name="SuppressedError",s.error=l,s.suppressed=a,s};function Tv(l){function a(c){l.error=l.hasError?new kb(c,l.error,"An error was suppressed during disposal."):c,l.hasError=!0}var r,s=0;function u(){for(;r=l.stack.pop();)try{if(!r.async&&s===1)return s=0,l.stack.push(r),Promise.resolve().then(u);if(r.dispose){var c=r.dispose.call(r.value);if(r.async)return s|=2,Promise.resolve(c).then(u,function(d){return a(d),u()})}else s|=1}catch(d){a(d)}if(s===1)return l.hasError?Promise.reject(l.error):Promise.resolve();if(l.hasError)throw l.error}return u()}function Ov(l,a){return typeof l=="string"&&/^\.\.?\//.test(l)?l.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,s,u,c,d){return s?a?".jsx":".js":u&&(!c||!d)?r:u+c+"."+d.toLowerCase()+"js"}):l}const Db={__extends:nv,__assign:xl,__rest:qi,__decorate:av,__param:iv,__esDecorate:rv,__runInitializers:sv,__propKey:lv,__setFunctionName:ov,__metadata:uv,__awaiter:ne,__generator:cv,__createBinding:Nl,__exportStar:fv,__values:Tl,__read:Bc,__spread:dv,__spreadArrays:hv,__spreadArray:mv,__await:Mi,__asyncGenerator:gv,__asyncDelegator:vv,__asyncValues:yv,__makeTemplateObject:pv,__importStar:bv,__importDefault:_v,__classPrivateFieldGet:wv,__classPrivateFieldSet:Sv,__classPrivateFieldIn:Ev,__addDisposableResource:xv,__disposeResources:Tv,__rewriteRelativeImportExtension:Ov},Ub=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:xv,get __assign(){return xl},__asyncDelegator:vv,__asyncGenerator:gv,__asyncValues:yv,__await:Mi,__awaiter:ne,__classPrivateFieldGet:wv,__classPrivateFieldIn:Ev,__classPrivateFieldSet:Sv,__createBinding:Nl,__decorate:av,__disposeResources:Tv,__esDecorate:rv,__exportStar:fv,__extends:nv,__generator:cv,__importDefault:_v,__importStar:bv,__makeTemplateObject:pv,__metadata:uv,__param:iv,__propKey:lv,__read:Bc,__rest:qi,__rewriteRelativeImportExtension:Ov,__runInitializers:sv,__setFunctionName:ov,__spread:dv,__spreadArray:mv,__spreadArrays:hv,__values:Tl,default:Db},Symbol.toStringTag,{value:"Module"})),zb="modulepreload",Mb=function(l){return"/GymLog/"+l},og={},Hi=function(a,r,s){let u=Promise.resolve();if(r&&r.length>0){let d=function(g){return Promise.all(g.map(p=>Promise.resolve(p).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),v=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));u=d(r.map(g=>{if(g=Mb(g),g in og)return;og[g]=!0;const p=g.endsWith(".css"),b=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const S=document.createElement("link");if(S.rel=p?"stylesheet":zb,p||(S.as="script"),S.crossOrigin="",S.href=g,v&&S.setAttribute("nonce",v),document.head.appendChild(S),p)return new Promise((T,M)=>{S.addEventListener("load",T),S.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return u.then(d=>{for(const h of d||[])h.status==="rejected"&&c(h.reason);return a().catch(c)})},Bb=l=>{let a;return l?a=l:typeof fetch>"u"?a=(...r)=>Hi(async()=>{const{default:s}=await Promise.resolve().then(()=>qa);return{default:s}},void 0).then(({default:s})=>s(...r)):a=fetch,(...r)=>a(...r)};class Lc extends Error{constructor(a,r="FunctionsError",s){super(a),this.name=r,this.context=s}}class ug extends Lc{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class cg extends Lc{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class fg extends Lc{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var bc;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(bc||(bc={}));class Lb{constructor(a,{headers:r={},customFetch:s,region:u=bc.Any}={}){this.url=a,this.headers=r,this.region=u,this.fetch=Bb(s)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return ne(this,arguments,void 0,function*(r,s={}){var u;try{const{headers:c,method:d,body:h,signal:v}=s;let g={},{region:p}=s;p||(p=this.region);const b=new URL(`${this.url}/${r}`);p&&p!=="any"&&(g["x-region"]=p,b.searchParams.set("forceFunctionRegion",p));let S;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",S=h):typeof h=="string"?(g["Content-Type"]="text/plain",S=h):typeof FormData<"u"&&h instanceof FormData?S=h:(g["Content-Type"]="application/json",S=JSON.stringify(h)):S=h;const T=yield this.fetch(b.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),c),body:S,signal:v}).catch(V=>{throw V.name==="AbortError"?V:new ug(V)}),M=T.headers.get("x-relay-error");if(M&&M==="true")throw new cg(T);if(!T.ok)throw new fg(T);let D=((u=T.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),j;return D==="application/json"?j=yield T.json():D==="application/octet-stream"||D==="application/pdf"?j=yield T.blob():D==="text/event-stream"?j=T:D==="multipart/form-data"?j=yield T.formData():j=yield T.text(),{data:j,error:null,response:T}}catch(c){return c instanceof Error&&c.name==="AbortError"?{data:null,error:new ug(c)}:{data:null,error:c,response:c instanceof fg||c instanceof cg?c.context:void 0}}})}}var yt={};const $i=$g(Ub);var ml={},gl={},vl={},yl={},pl={},qb=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Bi=qb();const Hb=Bi.fetch,jv=Bi.fetch.bind(Bi),Av=Bi.Headers,$b=Bi.Request,Vb=Bi.Response,qa=Object.freeze(Object.defineProperty({__proto__:null,Headers:Av,Request:$b,Response:Vb,default:jv,fetch:Hb},Symbol.toStringTag,{value:"Module"})),Gb=$g(qa);var bl={},dg;function Cv(){if(dg)return bl;dg=1,Object.defineProperty(bl,"__esModule",{value:!0});class l extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return bl.default=l,bl}var hg;function Rv(){if(hg)return pl;hg=1,Object.defineProperty(pl,"__esModule",{value:!0});const l=$i,a=l.__importDefault(Gb),r=l.__importDefault(Cv());class s{constructor(c){var d,h;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(d=c.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=c.signal,this.isMaybeSingle=(h=c.isMaybeSingle)!==null&&h!==void 0?h:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,d){return this.headers=new Headers(this.headers),this.headers.set(c,d),this}then(c,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let v=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var p,b,S,T;let M=null,D=null,j=null,V=g.status,z=g.statusText;if(g.ok){if(this.method!=="HEAD"){const Q=await g.text();Q===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((p=this.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?D=Q:D=JSON.parse(Q))}const J=(b=this.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),ee=(S=g.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");J&&ee&&ee.length>1&&(j=parseInt(ee[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(D)&&(D.length>1?(M={code:"PGRST116",details:`Results contain ${D.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},D=null,j=null,V=406,z="Not Acceptable"):D.length===1?D=D[0]:D=null)}else{const J=await g.text();try{M=JSON.parse(J),Array.isArray(M)&&g.status===404&&(D=[],M=null,V=200,z="OK")}catch{g.status===404&&J===""?(V=204,z="No Content"):M={message:J}}if(M&&this.isMaybeSingle&&(!((T=M==null?void 0:M.details)===null||T===void 0)&&T.includes("0 rows"))&&(M=null,V=200,z="OK"),M&&this.shouldThrowOnError)throw new r.default(M)}return{error:M,data:D,count:j,status:V,statusText:z}});return this.shouldThrowOnError||(v=v.catch(g=>{var p,b,S;return{error:{message:`${(p=g==null?void 0:g.name)!==null&&p!==void 0?p:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(b=g==null?void 0:g.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(S=g==null?void 0:g.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),v.then(c,d)}returns(){return this}overrideTypes(){return this}}return pl.default=s,pl}var mg;function Nv(){if(mg)return yl;mg=1,Object.defineProperty(yl,"__esModule",{value:!0});const a=$i.__importDefault(Rv());class r extends a.default{select(u){let c=!1;const d=(u??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(u,{ascending:c=!0,nullsFirst:d,foreignTable:h,referencedTable:v=h}={}){const g=v?`${v}.order`:"order",p=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${p?`${p},`:""}${u}.${c?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(u,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${u}`),this}range(u,c,{foreignTable:d,referencedTable:h=d}={}){const v=typeof h>"u"?"offset":`${h}.offset`,g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(v,`${u}`),this.url.searchParams.set(g,`${c-u+1}`),this}abortSignal(u){return this.signal=u,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:u=!1,verbose:c=!1,settings:d=!1,buffers:h=!1,wal:v=!1,format:g="text"}={}){var p;const b=[u?"analyze":null,c?"verbose":null,d?"settings":null,h?"buffers":null,v?"wal":null].filter(Boolean).join("|"),S=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${S}"; options=${b};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(u){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${u}`),this}}return yl.default=r,yl}var gg;function qc(){if(gg)return vl;gg=1,Object.defineProperty(vl,"__esModule",{value:!0});const a=$i.__importDefault(Nv());class r extends a.default{eq(u,c){return this.url.searchParams.append(u,`eq.${c}`),this}neq(u,c){return this.url.searchParams.append(u,`neq.${c}`),this}gt(u,c){return this.url.searchParams.append(u,`gt.${c}`),this}gte(u,c){return this.url.searchParams.append(u,`gte.${c}`),this}lt(u,c){return this.url.searchParams.append(u,`lt.${c}`),this}lte(u,c){return this.url.searchParams.append(u,`lte.${c}`),this}like(u,c){return this.url.searchParams.append(u,`like.${c}`),this}likeAllOf(u,c){return this.url.searchParams.append(u,`like(all).{${c.join(",")}}`),this}likeAnyOf(u,c){return this.url.searchParams.append(u,`like(any).{${c.join(",")}}`),this}ilike(u,c){return this.url.searchParams.append(u,`ilike.${c}`),this}ilikeAllOf(u,c){return this.url.searchParams.append(u,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(u,c){return this.url.searchParams.append(u,`ilike(any).{${c.join(",")}}`),this}is(u,c){return this.url.searchParams.append(u,`is.${c}`),this}in(u,c){const d=Array.from(new Set(c)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(u,`in.(${d})`),this}contains(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cs.{${c.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(c)}`),this}containedBy(u,c){return typeof c=="string"?this.url.searchParams.append(u,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(u,`cd.{${c.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(c)}`),this}rangeGt(u,c){return this.url.searchParams.append(u,`sr.${c}`),this}rangeGte(u,c){return this.url.searchParams.append(u,`nxl.${c}`),this}rangeLt(u,c){return this.url.searchParams.append(u,`sl.${c}`),this}rangeLte(u,c){return this.url.searchParams.append(u,`nxr.${c}`),this}rangeAdjacent(u,c){return this.url.searchParams.append(u,`adj.${c}`),this}overlaps(u,c){return typeof c=="string"?this.url.searchParams.append(u,`ov.${c}`):this.url.searchParams.append(u,`ov.{${c.join(",")}}`),this}textSearch(u,c,{config:d,type:h}={}){let v="";h==="plain"?v="pl":h==="phrase"?v="ph":h==="websearch"&&(v="w");const g=d===void 0?"":`(${d})`;return this.url.searchParams.append(u,`${v}fts${g}.${c}`),this}match(u){return Object.entries(u).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(u,c,d){return this.url.searchParams.append(u,`not.${c}.${d}`),this}or(u,{foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${u})`),this}filter(u,c,d){return this.url.searchParams.append(u,`${c}.${d}`),this}}return vl.default=r,vl}var vg;function kv(){if(vg)return gl;vg=1,Object.defineProperty(gl,"__esModule",{value:!0});const a=$i.__importDefault(qc());class r{constructor(u,{headers:c={},schema:d,fetch:h}){this.url=u,this.headers=new Headers(c),this.schema=d,this.fetch=h}select(u,c){const{head:d=!1,count:h}=c??{},v=d?"HEAD":"GET";let g=!1;const p=(u??"*").split("").map(b=>/\s/.test(b)&&!g?"":(b==='"'&&(g=!g),b)).join("");return this.url.searchParams.set("select",p),h&&this.headers.append("Prefer",`count=${h}`),new a.default({method:v,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(u,{count:c,defaultToNull:d=!0}={}){var h;const v="POST";if(c&&this.headers.append("Prefer",`count=${c}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const g=u.reduce((p,b)=>p.concat(Object.keys(b)),[]);if(g.length>0){const p=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",p.join(","))}}return new a.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(u,{onConflict:c,ignoreDuplicates:d=!1,count:h,defaultToNull:v=!0}={}){var g;const p="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),h&&this.headers.append("Prefer",`count=${h}`),v||this.headers.append("Prefer","missing=default"),Array.isArray(u)){const b=u.reduce((S,T)=>S.concat(Object.keys(T)),[]);if(b.length>0){const S=[...new Set(b)].map(T=>`"${T}"`);this.url.searchParams.set("columns",S.join(","))}}return new a.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(u,{count:c}={}){var d;const h="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new a.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:u}={}){var c;const d="DELETE";return u&&this.headers.append("Prefer",`count=${u}`),new a.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return gl.default=r,gl}var yg;function Yb(){if(yg)return ml;yg=1,Object.defineProperty(ml,"__esModule",{value:!0});const l=$i,a=l.__importDefault(kv()),r=l.__importDefault(qc());class s{constructor(c,{headers:d={},schema:h,fetch:v}={}){this.url=c,this.headers=new Headers(d),this.schemaName=h,this.fetch=v}from(c){const d=new URL(`${this.url}/${c}`);return new a.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new s(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,d={},{head:h=!1,get:v=!1,count:g}={}){var p;let b;const S=new URL(`${this.url}/rpc/${c}`);let T;h||v?(b=h?"HEAD":"GET",Object.entries(d).filter(([D,j])=>j!==void 0).map(([D,j])=>[D,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([D,j])=>{S.searchParams.append(D,j)})):(b="POST",T=d);const M=new Headers(this.headers);return g&&M.set("Prefer",`count=${g}`),new r.default({method:b,url:S,headers:M,schema:this.schemaName,body:T,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}}return ml.default=s,ml}var pg;function Kb(){if(pg)return yt;pg=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.PostgrestError=yt.PostgrestBuilder=yt.PostgrestTransformBuilder=yt.PostgrestFilterBuilder=yt.PostgrestQueryBuilder=yt.PostgrestClient=void 0;const l=$i,a=l.__importDefault(Yb());yt.PostgrestClient=a.default;const r=l.__importDefault(kv());yt.PostgrestQueryBuilder=r.default;const s=l.__importDefault(qc());yt.PostgrestFilterBuilder=s.default;const u=l.__importDefault(Nv());yt.PostgrestTransformBuilder=u.default;const c=l.__importDefault(Rv());yt.PostgrestBuilder=c.default;const d=l.__importDefault(Cv());return yt.PostgrestError=d.default,yt.default={PostgrestClient:a.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:u.default,PostgrestBuilder:c.default,PostgrestError:d.default},yt}var Qb=Kb();const Jb=Rc(Qb),{PostgrestClient:Xb,PostgrestQueryBuilder:kS,PostgrestFilterBuilder:DS,PostgrestTransformBuilder:US,PostgrestBuilder:zS,PostgrestError:MS}=Jb;class Ib{static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,u=parseInt(s.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let r=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(r+=`

Suggested solution: ${a.workaround}`),new Error(r)}static createWebSocket(a,r){const s=this.getWebSocketConstructor();return new s(a,r)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const Zb="2.76.1",Pb=`realtime-js/${Zb}`,Wb="1.0.0",_c=1e4,Fb=1e3,e_=100;var $r;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})($r||($r={}));var lt;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(lt||(lt={}));var rn;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(rn||(rn={}));var wc;(function(l){l.websocket="websocket"})(wc||(wc={}));var za;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(za||(za={}));class t_{constructor(){this.HEADER_LENGTH=1}decode(a,r){return a.constructor===ArrayBuffer?r(this._binaryDecode(a)):r(typeof a=="string"?JSON.parse(a):{})}_binaryDecode(a){const r=new DataView(a),s=new TextDecoder;return this._decodeBroadcast(a,r,s)}_decodeBroadcast(a,r,s){const u=r.getUint8(1),c=r.getUint8(2);let d=this.HEADER_LENGTH+2;const h=s.decode(a.slice(d,d+u));d=d+u;const v=s.decode(a.slice(d,d+c));d=d+c;const g=JSON.parse(s.decode(a.slice(d,a.byteLength)));return{ref:null,topic:h,event:v,payload:g}}}class Dv{constructor(a,r){this.callback=a,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(Be||(Be={}));const bg=(l,a,r={})=>{var s;const u=(s=r.skipTypes)!==null&&s!==void 0?s:[];return a?Object.keys(a).reduce((c,d)=>(c[d]=n_(d,l,a,u),c),{}):{}},n_=(l,a,r,s)=>{const u=a.find(h=>h.name===l),c=u==null?void 0:u.type,d=r[l];return c&&!s.includes(c)?Uv(c,d):Sc(d)},Uv=(l,a)=>{if(l.charAt(0)==="_"){const r=l.slice(1,l.length);return s_(a,r)}switch(l){case Be.bool:return a_(a);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return i_(a);case Be.json:case Be.jsonb:return r_(a);case Be.timestamp:return l_(a);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return Sc(a);default:return Sc(a)}},Sc=l=>l,a_=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},i_=l=>{if(typeof l=="string"){const a=parseFloat(l);if(!Number.isNaN(a))return a}return l},r_=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(a){return console.log(`JSON parse error: ${a}`),l}return l},s_=(l,a)=>{if(typeof l!="string")return l;const r=l.length-1,s=l[r];if(l[0]==="{"&&s==="}"){let c;const d=l.slice(1,r);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(h=>Uv(a,h))}return l},l_=l=>typeof l=="string"?l.replace(" ","T"):l,zv=l=>{const a=new URL(l);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class tc{constructor(a,r,s={},u=_c){this.channel=a,this.event=r,this.payload=s,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,r){var s;return this._hasReceived(a)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:a,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:r}){this.recHooks.filter(s=>s.status===a).forEach(s=>s.callback(r))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var _g;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(_g||(_g={}));class Vr{constructor(a,r){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},u=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vr.syncState(this.state,u,c,d),this.pendingDiffs.forEach(v=>{this.state=Vr.syncDiff(this.state,v,c,d)}),this.pendingDiffs=[],h()}),this.channel._on(s.diff,{},u=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=Vr.syncDiff(this.state,u,c,d),h())}),this.onJoin((u,c,d)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:c,newPresences:d})}),this.onLeave((u,c,d)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,r,s,u){const c=this.cloneDeep(a),d=this.transformState(r),h={},v={};return this.map(c,(g,p)=>{d[g]||(v[g]=p)}),this.map(d,(g,p)=>{const b=c[g];if(b){const S=p.map(j=>j.presence_ref),T=b.map(j=>j.presence_ref),M=p.filter(j=>T.indexOf(j.presence_ref)<0),D=b.filter(j=>S.indexOf(j.presence_ref)<0);M.length>0&&(h[g]=M),D.length>0&&(v[g]=D)}else h[g]=p}),this.syncDiff(c,{joins:h,leaves:v},s,u)}static syncDiff(a,r,s,u){const{joins:c,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),u||(u=()=>{}),this.map(c,(h,v)=>{var g;const p=(g=a[h])!==null&&g!==void 0?g:[];if(a[h]=this.cloneDeep(v),p.length>0){const b=a[h].map(T=>T.presence_ref),S=p.filter(T=>b.indexOf(T.presence_ref)<0);a[h].unshift(...S)}s(h,p,v)}),this.map(d,(h,v)=>{let g=a[h];if(!g)return;const p=v.map(b=>b.presence_ref);g=g.filter(b=>p.indexOf(b.presence_ref)<0),a[h]=g,u(h,g,v),g.length===0&&delete a[h]}),a}static map(a,r){return Object.getOwnPropertyNames(a).map(s=>r(s,a[s]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((r,s)=>{const u=a[s];return"metas"in u?r[s]=u.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[s]=u,r},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wg;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(wg||(wg={}));var Gr;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(Gr||(Gr={}));var kn;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(kn||(kn={}));class Hc{constructor(a,r={config:{}},s){var u,c;if(this.topic=a,this.params=r,this.socket=s,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new tc(this,rn.join,this.params,this.timeout),this.rejoinTimer=new Dv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rn.reply,{},(d,h)=>{this._trigger(this._replyEventName(h),d)}),this.presence=new Vr(this),this.broadcastEndpointURL=zv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,r=this.timeout){var s,u,c;if(this.socket.isConnected()||this.socket.connect(),this.state==lt.closed){const{config:{broadcast:d,presence:h,private:v}}=this.params,g=(u=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(T=>T.filter))!==null&&u!==void 0?u:[],p=!!this.bindings[Gr.PRESENCE]&&this.bindings[Gr.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,b={},S={broadcast:d,presence:Object.assign(Object.assign({},h),{enabled:p}),postgres_changes:g,private:v};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(T=>a==null?void 0:a(kn.CHANNEL_ERROR,T)),this._onClose(()=>a==null?void 0:a(kn.CLOSED)),this.updateJoinPayload(Object.assign({config:S},b)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:T})=>{var M;if(this.socket.setAuth(),T===void 0){a==null||a(kn.SUBSCRIBED);return}else{const D=this.bindings.postgres_changes,j=(M=D==null?void 0:D.length)!==null&&M!==void 0?M:0,V=[];for(let z=0;z<j;z++){const L=D[z],{filter:{event:J,schema:ee,table:Q,filter:N}}=L,K=T&&T[z];if(K&&K.event===J&&K.schema===ee&&K.table===Q&&K.filter===N)V.push(Object.assign(Object.assign({},L),{id:K.id}));else{this.unsubscribe(),this.state=lt.errored,a==null||a(kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=V,a&&a(kn.SUBSCRIBED);return}}).receive("error",T=>{this.state=lt.errored,a==null||a(kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(T).join(", ")||"error")))}).receive("timeout",()=>{a==null||a(kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,r={}){return await this.send({type:"presence",event:"track",payload:a},r.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,r,s){return this.state===lt.joined&&a===Gr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,r,s)}async httpSend(a,r,s={}){var u;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(u=s.timeout)!==null&&u!==void 0?u:this.timeout);if(h.status===202)return{success:!0};let v=h.statusText;try{const g=await h.json();v=g.error||g.message||v}catch{}return Promise.reject(new Error(v))}async send(a,r={}){var s,u;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:d}=a,v={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,v,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((u=g.body)===null||u===void 0?void 0:u.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,h,v;const g=this._push(a.type,a,r.timeout||this.timeout);a.type==="broadcast"&&!(!((v=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||v===void 0)&&v.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=lt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(u=>{s=new tc(this,rn.leave,{},a),s.receive("ok",()=>{r(),u("ok")}).receive("timeout",()=>{r(),u("timed out")}).receive("error",()=>{u("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=lt.closed,this.bindings={}}async _fetchWithTimeout(a,r,s){const u=new AbortController,c=setTimeout(()=>u.abort(),s),d=await this.socket.fetch(a,Object.assign(Object.assign({},r),{signal:u.signal}));return clearTimeout(c),d}_push(a,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new tc(this,a,r,s);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>e_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(a,r,s){return r}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,r,s){var u,c;const d=a.toLocaleLowerCase(),{close:h,error:v,leave:g,join:p}=rn;if(s&&[h,v,g,p].indexOf(d)>=0&&s!==this._joinRef())return;let S=this._onMessage(d,r,s);if(r&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(T=>{var M,D,j;return((M=T.filter)===null||M===void 0?void 0:M.event)==="*"||((j=(D=T.filter)===null||D===void 0?void 0:D.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===d}).map(T=>T.callback(S,s)):(c=this.bindings[d])===null||c===void 0||c.filter(T=>{var M,D,j,V,z,L;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in T){const J=T.id,ee=(M=T.filter)===null||M===void 0?void 0:M.event;return J&&((D=r.ids)===null||D===void 0?void 0:D.includes(J))&&(ee==="*"||(ee==null?void 0:ee.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const J=(z=(V=T==null?void 0:T.filter)===null||V===void 0?void 0:V.event)===null||z===void 0?void 0:z.toLocaleLowerCase();return J==="*"||J===((L=r==null?void 0:r.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return T.type.toLocaleLowerCase()===d}).map(T=>{if(typeof S=="object"&&"ids"in S){const M=S.data,{schema:D,table:j,commit_timestamp:V,type:z,errors:L}=M;S=Object.assign(Object.assign({},{schema:D,table:j,commit_timestamp:V,eventType:z,new:{},old:{},errors:L}),this._getPayloadRecords(M))}T.callback(S,s)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,r,s){const u=a.toLocaleLowerCase(),c={type:u,filter:r,callback:s};return this.bindings[u]?this.bindings[u].push(c):this.bindings[u]=[c],this}_off(a,r){const s=a.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(u=>{var c;return!(((c=u.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===s&&Hc.isEqual(u.filter,r))})),this}static isEqual(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const s in a)if(a[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(rn.close,{},a)}_onError(a){this._on(rn.error,{},r=>a(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const r={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(r.new=bg(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(r.old=bg(a.columns,a.old_record)),r}}const nc=()=>{},_l={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},o_=[1e3,2e3,5e3,1e4],u_=1e4,c_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class f_{constructor(a,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_c,this.transport=null,this.heartbeatIntervalMs=_l.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nc,this.ref=0,this.reconnectTimer=null,this.logger=nc,this.conn=null,this.sendBuffer=[],this.serializer=new t_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=u=>{let c;return u?c=u:typeof fetch>"u"?c=(...d)=>Hi(async()=>{const{default:h}=await Promise.resolve().then(()=>qa);return{default:h}},void 0).then(({default:h})=>h(...d)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...d)=>c(...d)},!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${a}/${wc.websocket}`,this.httpEndpoint=zv(a),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ib.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const r=a.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Wb}))}disconnect(a,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},a?this.conn.close(a,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const r=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const a=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,r,s){this.logger(a,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case $r.connecting:return za.Connecting;case $r.open:return za.Open;case $r.closing:return za.Closing;default:return za.Closed}}isConnected(){return this.connectionState()===za.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,r={config:{}}){const s=`realtime:${a}`,u=this.getChannels().find(c=>c.topic===s);if(u)return u;{const c=new Hc(`realtime:${a}`,r,this);return this.channels.push(c),c}}push(a){const{topic:r,event:s,payload:u,ref:c}=a,d=()=>{this.encode(a,h=>{var v;(v=this.conn)===null||v===void 0||v.send(h)})};this.log("push",`${r} ${s} (${c})`,u),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(Fb,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},_l.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let r=this.channels.find(s=>s.topic===a&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${a}"`),r.unsubscribe())}_remove(a){this.channels=this.channels.filter(r=>r.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:u,payload:c,ref:d}=r,h=d?`(${d})`:"",v=c.status||"";this.log("receive",`${v} ${s} ${u} ${h}`.trim(),c),this.channels.filter(g=>g._isMember(s)).forEach(g=>g._trigger(u,c,d)),this._triggerStateCallbacks("message",r)})}_clearTimer(a){var r;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var r;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(rn.error))}_appendParams(a,r){if(Object.keys(r).length===0)return a;const s=a.match(/\?/)?"&":"?",u=new URLSearchParams(r);return`${a}${s}${u}`}_workerObjectUrl(a){let r;if(a)r=a;else{const s=new Blob([c_],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(a,r=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(a=null){let r;a?r=a:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const u={access_token:r,version:Pb};r&&s.updateJoinPayload(u),s.joinedOnce&&s._isJoined()&&s._push(rn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${a}`,r)})}_triggerStateCallbacks(a,r){try{this.stateChangeCallbacks[a].forEach(s=>{try{s(r)}catch(u){this.log("error",`error in ${a} callback`,u)}})}catch(s){this.log("error",`error triggering ${a} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Dv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_l.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var r,s,u,c,d,h,v,g,p;if(this.transport=(r=a==null?void 0:a.transport)!==null&&r!==void 0?r:null,this.timeout=(s=a==null?void 0:a.timeout)!==null&&s!==void 0?s:_c,this.heartbeatIntervalMs=(u=a==null?void 0:a.heartbeatIntervalMs)!==null&&u!==void 0?u:_l.HEARTBEAT_INTERVAL,this.worker=(c=a==null?void 0:a.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=a==null?void 0:a.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(h=a==null?void 0:a.heartbeatCallback)!==null&&h!==void 0?h:nc,a!=null&&a.params&&(this.params=a.params),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(v=a==null?void 0:a.reconnectAfterMs)!==null&&v!==void 0?v:(b=>o_[b-1]||u_),this.encode=(g=a==null?void 0:a.encode)!==null&&g!==void 0?g:((b,S)=>S(JSON.stringify(b))),this.decode=(p=a==null?void 0:a.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a==null?void 0:a.workerUrl}}}class $c extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function Ge(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class d_ extends $c{constructor(a,r,s){super(a),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ec extends $c{constructor(a,r){super(a),this.name="StorageUnknownError",this.originalError=r}}const Vc=l=>{let a;return l?a=l:typeof fetch>"u"?a=(...r)=>Hi(async()=>{const{default:s}=await Promise.resolve().then(()=>qa);return{default:s}},void 0).then(({default:s})=>s(...r)):a=fetch,(...r)=>a(...r)},h_=()=>ne(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Hi(()=>Promise.resolve().then(()=>qa),void 0)).Response:Response}),xc=l=>{if(Array.isArray(l))return l.map(r=>xc(r));if(typeof l=="function"||l!==Object(l))return l;const a={};return Object.entries(l).forEach(([r,s])=>{const u=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));a[u]=xc(s)}),a},m_=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},ac=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),g_=(l,a,r)=>ne(void 0,void 0,void 0,function*(){const s=yield h_();l instanceof s&&!(r!=null&&r.noResolveJson)?l.json().then(u=>{const c=l.status||500,d=(u==null?void 0:u.statusCode)||c+"";a(new d_(ac(u),c,d))}).catch(u=>{a(new Ec(ac(u),u))}):a(new Ec(ac(l),l))}),v_=(l,a,r,s)=>{const u={method:l,headers:(a==null?void 0:a.headers)||{}};return l==="GET"||!s?u:(m_(s)?(u.headers=Object.assign({"Content-Type":"application/json"},a==null?void 0:a.headers),u.body=JSON.stringify(s)):u.body=s,a!=null&&a.duplex&&(u.duplex=a.duplex),Object.assign(Object.assign({},u),r))};function Ir(l,a,r,s,u,c){return ne(this,void 0,void 0,function*(){return new Promise((d,h)=>{l(r,v_(a,s,u,c)).then(v=>{if(!v.ok)throw v;return s!=null&&s.noResolveJson?v:v.json()}).then(v=>d(v)).catch(v=>g_(v,h,s))})})}function Qr(l,a,r,s){return ne(this,void 0,void 0,function*(){return Ir(l,"GET",a,r,s)})}function an(l,a,r,s,u){return ne(this,void 0,void 0,function*(){return Ir(l,"POST",a,s,u,r)})}function Tc(l,a,r,s,u){return ne(this,void 0,void 0,function*(){return Ir(l,"PUT",a,s,u,r)})}function y_(l,a,r,s){return ne(this,void 0,void 0,function*(){return Ir(l,"HEAD",a,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function Gc(l,a,r,s,u){return ne(this,void 0,void 0,function*(){return Ir(l,"DELETE",a,s,u,r)})}class p_{constructor(a,r){this.downloadFn=a,this.shouldThrowOnError=r}then(a,r){return this.execute().then(a,r)}execute(){return ne(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ge(a))return{data:null,error:a};throw a}})}}var Mv;class b_{constructor(a,r){this.downloadFn=a,this.shouldThrowOnError=r,this[Mv]="BlobDownloadBuilder",this.promise=null}asStream(){return new p_(this.downloadFn,this.shouldThrowOnError)}then(a,r){return this.getPromise().then(a,r)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ne(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ge(a))return{data:null,error:a};throw a}})}}Mv=Symbol.toStringTag;const __={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class w_{constructor(a,r={},s,u){this.shouldThrowOnError=!1,this.url=a,this.headers=r,this.bucketId=s,this.fetch=Vc(u)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,r,s,u){return ne(this,void 0,void 0,function*(){try{let c;const d=Object.assign(Object.assign({},Sg),u);let h=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(d.upsert)});const v=d.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),v&&c.append("metadata",this.encodeMetadata(v)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",d.cacheControl),v&&c.append("metadata",this.encodeMetadata(v))):(c=s,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,v&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(v)))),u!=null&&u.headers&&(h=Object.assign(Object.assign({},h),u.headers));const g=this._removeEmptyFolders(r),p=this._getFinalPath(g),b=yield(a=="PUT"?Tc:an)(this.fetch,`${this.url}/object/${p}`,c,Object.assign({headers:h},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:b.Id,fullPath:b.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ge(c))return{data:null,error:c};throw c}})}upload(a,r,s){return ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,r,s)})}uploadToSignedUrl(a,r,s,u){return ne(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(a),d=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",r);try{let v;const g=Object.assign({upsert:Sg.upsert},u),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&s instanceof Blob?(v=new FormData,v.append("cacheControl",g.cacheControl),v.append("",s)):typeof FormData<"u"&&s instanceof FormData?(v=s,v.append("cacheControl",g.cacheControl)):(v=s,p["cache-control"]=`max-age=${g.cacheControl}`,p["content-type"]=g.contentType);const b=yield Tc(this.fetch,h.toString(),v,{headers:p});return{data:{path:c,fullPath:b.Key},error:null}}catch(v){if(this.shouldThrowOnError)throw v;if(Ge(v))return{data:null,error:v};throw v}})}createSignedUploadUrl(a,r){return ne(this,void 0,void 0,function*(){try{let s=this._getFinalPath(a);const u=Object.assign({},this.headers);r!=null&&r.upsert&&(u["x-upsert"]="true");const c=yield an(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:u}),d=new URL(this.url+c.url),h=d.searchParams.get("token");if(!h)throw new $c("No token returned by API");return{data:{signedUrl:d.toString(),path:a,token:h},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}update(a,r,s){return ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,r,s)})}move(a,r,s){return ne(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ge(u))return{data:null,error:u};throw u}})}copy(a,r,s){return ne(this,void 0,void 0,function*(){try{return{data:{path:(yield an(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ge(u))return{data:null,error:u};throw u}})}createSignedUrl(a,r,s){return ne(this,void 0,void 0,function*(){try{let u=this._getFinalPath(a),c=yield an(this.fetch,`${this.url}/object/sign/${u}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const d=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ge(u))return{data:null,error:u};throw u}})}createSignedUrls(a,r,s){return ne(this,void 0,void 0,function*(){try{const u=yield an(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:a},{headers:this.headers}),c=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:u.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${c}`):null})),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ge(u))return{data:null,error:u};throw u}})}download(a,r){const u=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),d=c?`?${c}`:"",h=this._getFinalPath(a),v=()=>Qr(this.fetch,`${this.url}/${u}/${h}${d}`,{headers:this.headers,noResolveJson:!0});return new b_(v,this.shouldThrowOnError)}info(a){return ne(this,void 0,void 0,function*(){const r=this._getFinalPath(a);try{const s=yield Qr(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:xc(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}exists(a){return ne(this,void 0,void 0,function*(){const r=this._getFinalPath(a);try{return yield y_(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s)&&s instanceof Ec){const u=s.originalError;if([400,404].includes(u==null?void 0:u.status))return{data:!1,error:s}}throw s}})}getPublicUrl(a,r){const s=this._getFinalPath(a),u=[],c=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";c!==""&&u.push(c);const h=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",v=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});v!==""&&u.push(v);let g=u.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${s}${g}`)}}}remove(a){return ne(this,void 0,void 0,function*(){try{return{data:yield Gc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}list(a,r,s){return ne(this,void 0,void 0,function*(){try{const u=Object.assign(Object.assign(Object.assign({},__),r),{prefix:a||""});return{data:yield an(this.fetch,`${this.url}/object/list/${this.bucketId}`,u,{headers:this.headers},s),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ge(u))return{data:null,error:u};throw u}})}listV2(a,r){return ne(this,void 0,void 0,function*(){try{const s=Object.assign({},a);return{data:yield an(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const r=[];return a.width&&r.push(`width=${a.width}`),a.height&&r.push(`height=${a.height}`),a.resize&&r.push(`resize=${a.resize}`),a.format&&r.push(`format=${a.format}`),a.quality&&r.push(`quality=${a.quality}`),r.join("&")}}const Bv="2.76.1",Lv={"X-Client-Info":`storage-js/${Bv}`};class S_{constructor(a,r={},s,u){this.shouldThrowOnError=!1;const c=new URL(a);u!=null&&u.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lv),r),this.fetch=Vc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ne(this,void 0,void 0,function*(){try{return{data:yield Qr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ge(a))return{data:null,error:a};throw a}})}getBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:yield Qr(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}createBucket(a){return ne(this,arguments,void 0,function*(r,s={public:!1}){try{return{data:yield an(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Ge(u))return{data:null,error:u};throw u}})}updateBucket(a,r){return ne(this,void 0,void 0,function*(){try{return{data:yield Tc(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ge(s))return{data:null,error:s};throw s}})}emptyBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}deleteBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:yield Gc(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}}class E_{constructor(a,r={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Lv),r),this.fetch=Vc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:yield an(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}listBuckets(a){return ne(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(a==null?void 0:a.limit)!==void 0&&r.set("limit",a.limit.toString()),(a==null?void 0:a.offset)!==void 0&&r.set("offset",a.offset.toString()),a!=null&&a.sortColumn&&r.set("sortColumn",a.sortColumn),a!=null&&a.sortOrder&&r.set("sortOrder",a.sortOrder),a!=null&&a.search&&r.set("search",a.search);const s=r.toString(),u=s?`${this.url}/bucket?${s}`:`${this.url}/bucket`,c=yield Qr(this.fetch,u,{headers:this.headers});return{data:Array.isArray(c)?c.filter(h=>h.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}deleteBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:yield Gc(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ge(r))return{data:null,error:r};throw r}})}}const Yc={"X-Client-Info":`storage-js/${Bv}`,"Content-Type":"application/json"};class qv extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ht(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}class ic extends qv{constructor(a,r,s){super(a),this.name="StorageVectorsApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class x_ extends qv{constructor(a,r){super(a),this.name="StorageVectorsUnknownError",this.originalError=r}}var Eg;(function(l){l.InternalError="InternalError",l.S3VectorConflictException="S3VectorConflictException",l.S3VectorNotFoundException="S3VectorNotFoundException",l.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",l.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",l.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Eg||(Eg={}));const Kc=l=>{let a;return l?a=l:typeof fetch>"u"?a=(...r)=>Hi(async()=>{const{default:s}=await Promise.resolve().then(()=>qa);return{default:s}},void 0).then(({default:s})=>s(...r)):a=fetch,(...r)=>a(...r)},T_=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},xg=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),O_=(l,a,r)=>ne(void 0,void 0,void 0,function*(){if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!(r!=null&&r.noResolveJson)){const u=l.status||500,c=l;if(typeof c.json=="function")c.json().then(d=>{const h=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||u+"";a(new ic(xg(d),u,h))}).catch(()=>{const d=u+"",h=c.statusText||`HTTP ${u} error`;a(new ic(h,u,d))});else{const d=u+"",h=c.statusText||`HTTP ${u} error`;a(new ic(h,u,d))}}else a(new x_(xg(l),l))}),j_=(l,a,r,s)=>{const u={method:l,headers:(a==null?void 0:a.headers)||{}};return s?(T_(s)?(u.headers=Object.assign({"Content-Type":"application/json"},a==null?void 0:a.headers),u.body=JSON.stringify(s)):u.body=s,Object.assign(Object.assign({},u),r)):u};function A_(l,a,r,s,u,c){return ne(this,void 0,void 0,function*(){return new Promise((d,h)=>{l(r,j_(a,s,u,c)).then(v=>{if(!v.ok)throw v;if(s!=null&&s.noResolveJson)return v;const g=v.headers.get("content-type");return!g||!g.includes("application/json")?{}:v.json()}).then(v=>d(v)).catch(v=>O_(v,h,s))})})}function $t(l,a,r,s,u){return ne(this,void 0,void 0,function*(){return A_(l,"POST",a,s,u,r)})}class C_{constructor(a,r={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yc),r),this.fetch=Kc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return ne(this,void 0,void 0,function*(){try{return{data:(yield $t(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}getIndex(a,r){return ne(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ht(s))return{data:null,error:s};throw s}})}listIndexes(a){return ne(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}deleteIndex(a,r){return ne(this,void 0,void 0,function*(){try{return{data:(yield $t(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Ht(s))return{data:null,error:s};throw s}})}}class R_{constructor(a,r={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yc),r),this.fetch=Kc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return ne(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield $t(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}getVectors(a){return ne(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}listVectors(a){return ne(this,void 0,void 0,function*(){try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:yield $t(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}queryVectors(a){return ne(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}deleteVectors(a){return ne(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield $t(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}}class N_{constructor(a,r={},s){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Yc),r),this.fetch=Kc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:(yield $t(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}getBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}listBuckets(){return ne(this,arguments,void 0,function*(a={}){try{return{data:yield $t(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}deleteBucket(a){return ne(this,void 0,void 0,function*(){try{return{data:(yield $t(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ht(r))return{data:null,error:r};throw r}})}}class k_ extends N_{constructor(a,r={}){super(a,r.headers||{},r.fetch)}from(a){return new D_(this.url,this.headers,a,this.fetch)}}class D_ extends C_{constructor(a,r,s,u){super(a,r,u),this.vectorBucketName=s}createIndex(a){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ne(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ne(this,arguments,void 0,function*(r={}){return a.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ne(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ne(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new U_(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class U_ extends R_{constructor(a,r,s,u,c){super(a,r,c),this.vectorBucketName=s,this.indexName=u}putVectors(a){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ne(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ne(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ne(this,arguments,void 0,function*(r={}){return a.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ne(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ne(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class z_ extends S_{constructor(a,r={},s,u){super(a,r,s,u)}from(a){return new w_(this.url,this.headers,a,this.fetch)}get vectors(){return new k_(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new E_(this.url+"/iceberg",this.headers,this.fetch)}}const M_="2.76.1";let qr="";typeof Deno<"u"?qr="deno":typeof document<"u"?qr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qr="react-native":qr="node";const B_={"X-Client-Info":`supabase-js-${qr}/${M_}`},L_={headers:B_},q_={schema:"public"},H_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$_={},V_=l=>{let a;return l?a=l:typeof fetch>"u"?a=jv:a=fetch,(...r)=>a(...r)},G_=()=>typeof Headers>"u"?Av:Headers,Y_=(l,a,r)=>{const s=V_(r),u=G_();return async(c,d)=>{var h;const v=(h=await a())!==null&&h!==void 0?h:l;let g=new u(d==null?void 0:d.headers);return g.has("apikey")||g.set("apikey",l),g.has("Authorization")||g.set("Authorization",`Bearer ${v}`),s(c,Object.assign(Object.assign({},d),{headers:g}))}};function K_(l){return l.endsWith("/")?l:l+"/"}function Q_(l,a){var r,s;const{db:u,auth:c,realtime:d,global:h}=l,{db:v,auth:g,realtime:p,global:b}=a,S={db:Object.assign(Object.assign({},v),u),auth:Object.assign(Object.assign({},g),c),realtime:Object.assign(Object.assign({},p),d),storage:{},global:Object.assign(Object.assign(Object.assign({},b),h),{headers:Object.assign(Object.assign({},(r=b==null?void 0:b.headers)!==null&&r!==void 0?r:{}),(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return l.accessToken?S.accessToken=l.accessToken:delete S.accessToken,S}function J_(l){const a=l==null?void 0:l.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(K_(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Hv="2.76.1",Di=30*1e3,Oc=3,rc=Oc*Di,X_="http://localhost:9999",I_="supabase.auth.token",Z_={"X-Client-Info":`gotrue-js/${Hv}`},jc="X-Supabase-Api-Version",$v={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},P_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,W_=600*1e3;class Jr extends Error{constructor(a,r,s){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function re(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class F_ extends Jr{constructor(a,r,s){super(a,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function ew(l){return re(l)&&l.name==="AuthApiError"}class Ma extends Jr{constructor(a,r){super(a),this.name="AuthUnknownError",this.originalError=r}}class da extends Jr{constructor(a,r,s,u){super(a,s,u),this.name=r,this.status=s}}class sa extends da{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tw(l){return re(l)&&l.name==="AuthSessionMissingError"}class Ai extends da{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class wl extends da{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class Sl extends da{constructor(a,r=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nw(l){return re(l)&&l.name==="AuthImplicitGrantRedirectError"}class Tg extends da{constructor(a,r=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ac extends da{constructor(a,r){super(a,"AuthRetryableFetchError",r,void 0)}}function sc(l){return re(l)&&l.name==="AuthRetryableFetchError"}class Og extends da{constructor(a,r,s){super(a,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Cc extends da{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ol="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jg=` 	
\r=`.split(""),aw=(()=>{const l=new Array(128);for(let a=0;a<l.length;a+=1)l[a]=-1;for(let a=0;a<jg.length;a+=1)l[jg[a].charCodeAt(0)]=-2;for(let a=0;a<Ol.length;a+=1)l[Ol[a].charCodeAt(0)]=a;return l})();function Ag(l,a,r){if(l!==null)for(a.queue=a.queue<<8|l,a.queuedBits+=8;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;r(Ol[s]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const s=a.queue>>a.queuedBits-6&63;r(Ol[s]),a.queuedBits-=6}}function Vv(l,a,r){const s=aw[l];if(s>-1)for(a.queue=a.queue<<6|s,a.queuedBits+=6;a.queuedBits>=8;)r(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Cg(l){const a=[],r=d=>{a.push(String.fromCodePoint(d))},s={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},c=d=>{sw(d,s,r)};for(let d=0;d<l.length;d+=1)Vv(l.charCodeAt(d),u,c);return a.join("")}function iw(l,a){if(l<=127){a(l);return}else if(l<=2047){a(192|l>>6),a(128|l&63);return}else if(l<=65535){a(224|l>>12),a(128|l>>6&63),a(128|l&63);return}else if(l<=1114111){a(240|l>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function rw(l,a){for(let r=0;r<l.length;r+=1){let s=l.charCodeAt(r);if(s>55295&&s<=56319){const u=(s-55296)*1024&65535;s=(l.charCodeAt(r+1)-56320&65535|u)+65536,r+=1}iw(s,a)}}function sw(l,a,r){if(a.utf8seq===0){if(l<=127){r(l);return}for(let s=1;s<6;s+=1)if((l>>7-s&1)===0){a.utf8seq=s;break}if(a.utf8seq===2)a.codepoint=l&31;else if(a.utf8seq===3)a.codepoint=l&15;else if(a.utf8seq===4)a.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|l&63,a.utf8seq-=1,a.utf8seq===0&&r(a.codepoint)}}function zi(l){const a=[],r={queue:0,queuedBits:0},s=u=>{a.push(u)};for(let u=0;u<l.length;u+=1)Vv(l.charCodeAt(u),r,s);return new Uint8Array(a)}function lw(l){const a=[];return rw(l,r=>a.push(r)),new Uint8Array(a)}function Ba(l){const a=[],r={queue:0,queuedBits:0},s=u=>{a.push(u)};return l.forEach(u=>Ag(u,r,s)),Ag(null,r,s),a.join("")}function ow(l){return Math.round(Date.now()/1e3)+l}function uw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const a=Math.random()*16|0;return(l=="x"?a:a&3|8).toString(16)})}const qt=()=>typeof window<"u"&&typeof document<"u",ka={tested:!1,writable:!1},Gv=()=>{if(!qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ka.tested)return ka.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),ka.tested=!0,ka.writable=!0}catch{ka.tested=!0,ka.writable=!1}return ka.writable};function cw(l){const a={},r=new URL(l);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((u,c)=>{a[c]=u})}catch{}return r.searchParams.forEach((s,u)=>{a[u]=s}),a}const Yv=l=>{let a;return l?a=l:typeof fetch>"u"?a=(...r)=>Hi(async()=>{const{default:s}=await Promise.resolve().then(()=>qa);return{default:s}},void 0).then(({default:s})=>s(...r)):a=fetch,(...r)=>a(...r)},fw=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",Ui=async(l,a,r)=>{await l.setItem(a,JSON.stringify(r))},Da=async(l,a)=>{const r=await l.getItem(a);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ra=async(l,a)=>{await l.removeItem(a)};class kl{constructor(){this.promise=new kl.promiseConstructor((a,r)=>{this.resolve=a,this.reject=r})}}kl.promiseConstructor=Promise;function lc(l){const a=l.split(".");if(a.length!==3)throw new Cc("Invalid JWT structure");for(let s=0;s<a.length;s++)if(!P_.test(a[s]))throw new Cc("JWT not in base64url format");return{header:JSON.parse(Cg(a[0])),payload:JSON.parse(Cg(a[1])),signature:zi(a[2]),raw:{header:a[0],payload:a[1]}}}async function dw(l){return await new Promise(a=>{setTimeout(()=>a(null),l)})}function hw(l,a){return new Promise((s,u)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await l(c);if(!a(c,null,d)){s(d);return}}catch(d){if(!a(c,d)){u(d);return}}})()})}function mw(l){return("0"+l.toString(16)).substr(-2)}function gw(){const a=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let u="";for(let c=0;c<56;c++)u+=r.charAt(Math.floor(Math.random()*s));return u}return crypto.getRandomValues(a),Array.from(a,mw).join("")}async function vw(l){const r=new TextEncoder().encode(l),s=await crypto.subtle.digest("SHA-256",r),u=new Uint8Array(s);return Array.from(u).map(c=>String.fromCharCode(c)).join("")}async function yw(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const r=await vw(l);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ci(l,a,r=!1){const s=gw();let u=s;r&&(u+="/PASSWORD_RECOVERY"),await Ui(l,`${a}-code-verifier`,u);const c=await yw(s);return[c,s===c?"plain":"s256"]}const pw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bw(l){const a=l.headers.get(jc);if(!a||!a.match(pw))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function _w(l){if(!l)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(l<=a)throw new Error("JWT has expired")}function ww(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Sw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ri(l){if(!Sw.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function oc(){const l={};return new Proxy(l,{get:(a,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Rg(l){return JSON.parse(JSON.stringify(l))}const Ua=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Ew=[502,503,504];async function Ng(l){var a;if(!fw(l))throw new Ac(Ua(l),0);if(Ew.includes(l.status))throw new Ac(Ua(l),l.status);let r;try{r=await l.json()}catch(c){throw new Ma(Ua(c),c)}let s;const u=bw(l);if(u&&u.getTime()>=$v["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Og(Ua(r),l.status,((a=r.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(s==="session_not_found")throw new sa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new Og(Ua(r),l.status,r.weak_password.reasons);throw new F_(Ua(r),l.status||500,s)}const xw=(l,a,r,s)=>{const u={method:l,headers:(a==null?void 0:a.headers)||{}};return l==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a==null?void 0:a.headers),u.body=JSON.stringify(s),Object.assign(Object.assign({},u),r))};async function fe(l,a,r,s){var u;const c=Object.assign({},s==null?void 0:s.headers);c[jc]||(c[jc]=$v["2024-01-01"].name),s!=null&&s.jwt&&(c.Authorization=`Bearer ${s.jwt}`);const d=(u=s==null?void 0:s.query)!==null&&u!==void 0?u:{};s!=null&&s.redirectTo&&(d.redirect_to=s.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",v=await Tw(l,a,r+h,{headers:c,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(v):{data:Object.assign({},v),error:null}}async function Tw(l,a,r,s,u,c){const d=xw(a,s,u,c);let h;try{h=await l(r,Object.assign({},d))}catch(v){throw console.error(v),new Ac(Ua(v),0)}if(h.ok||await Ng(h),s!=null&&s.noResolveJson)return h;try{return await h.json()}catch(v){await Ng(v)}}function nn(l){var a;let r=null;Aw(l)&&(r=Object.assign({},l),l.expires_at||(r.expires_at=ow(l.expires_in)));const s=(a=l.user)!==null&&a!==void 0?a:l;return{data:{session:r,user:s},error:null}}function kg(l){const a=nn(l);return!a.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(a.data.weak_password=l.weak_password),a}function la(l){var a;return{data:{user:(a=l.user)!==null&&a!==void 0?a:l},error:null}}function Ow(l){return{data:l,error:null}}function jw(l){const{action_link:a,email_otp:r,hashed_token:s,redirect_to:u,verification_type:c}=l,d=qi(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:a,email_otp:r,hashed_token:s,redirect_to:u,verification_type:c},v=Object.assign({},d);return{data:{properties:h,user:v},error:null}}function Dg(l){return l}function Aw(l){return l.access_token&&l.refresh_token&&l.expires_in}const uc=["global","local","others"];class Cw{constructor({url:a="",headers:r={},fetch:s}){this.url=a,this.headers=r,this.fetch=Yv(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,r=uc[0]){if(uc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uc.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async inviteUserByEmail(a,r={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:la})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async generateLink(a){try{const{options:r}=a,s=qi(a,["options"]),u=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(u.new_email=s==null?void 0:s.newEmail,delete u.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:jw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(a){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:la})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async listUsers(a){var r,s,u,c,d,h,v;try{const g={nextPage:null,lastPage:0,total:0},p=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=a==null?void 0:a.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(c=(u=a==null?void 0:a.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:Dg});if(p.error)throw p.error;const b=await p.json(),S=(d=p.headers.get("x-total-count"))!==null&&d!==void 0?d:0,T=(v=(h=p.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&v!==void 0?v:[];return T.length>0&&(T.forEach(M=>{const D=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(M.split(";")[1].split("=")[1]);g[`${j}Page`]=D}),g.total=parseInt(S)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(re(g))return{data:{users:[]},error:g};throw g}}async getUserById(a){Ri(a);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:la})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async updateUserById(a,r){Ri(a);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:r,headers:this.headers,xform:la})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async deleteUser(a,r=!1){Ri(a);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:r},xform:la})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async _listFactors(a){Ri(a.userId);try{const{data:r,error:s}=await fe(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:r,error:s}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _deleteFactor(a){Ri(a.userId),Ri(a.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _listOAuthClients(a){var r,s,u,c,d,h,v;try{const g={nextPage:null,lastPage:0,total:0},p=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=a==null?void 0:a.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(c=(u=a==null?void 0:a.perPage)===null||u===void 0?void 0:u.toString())!==null&&c!==void 0?c:""},xform:Dg});if(p.error)throw p.error;const b=await p.json(),S=(d=p.headers.get("x-total-count"))!==null&&d!==void 0?d:0,T=(v=(h=p.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&v!==void 0?v:[];return T.length>0&&(T.forEach(M=>{const D=parseInt(M.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(M.split(";")[1].split("=")[1]);g[`${j}Page`]=D}),g.total=parseInt(S)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(re(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(a){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _getOAuthClient(a){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(a){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(a){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}}function Ug(l={}){return{getItem:a=>l[a]||null,setItem:(a,r)=>{l[a]=r},removeItem:a=>{delete l[a]}}}const Ni={debug:!!(globalThis&&Gv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Kv extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class Rw extends Kv{}async function Nw(l,a,r){Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,a);const s=new globalThis.AbortController;return a>0&&setTimeout(()=>{s.abort(),Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async u=>{if(u){Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,u.name);try{return await r()}finally{Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,u.name)}}else{if(a===0)throw Ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new Rw(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(Ni.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function kw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qv(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function Dw(l){return parseInt(l,16)}function Uw(l){const a=new TextEncoder().encode(l);return"0x"+Array.from(a,s=>s.toString(16).padStart(2,"0")).join("")}function zw(l){var a;const{chainId:r,domain:s,expirationTime:u,issuedAt:c=new Date,nonce:d,notBefore:h,requestId:v,resources:g,scheme:p,uri:b,version:S}=l;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((a=l.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const T=Qv(l.address),M=p?`${p}://${s}`:s,D=l.statement?`${l.statement}
`:"",j=`${M} wants you to sign in with your Ethereum account:
${T}

${D}`;let V=`URI: ${b}
Version: ${S}
Chain ID: ${r}${d?`
Nonce: ${d}`:""}
Issued At: ${c.toISOString()}`;if(u&&(V+=`
Expiration Time: ${u.toISOString()}`),h&&(V+=`
Not Before: ${h.toISOString()}`),v&&(V+=`
Request ID: ${v}`),g){let z=`
Resources:`;for(const L of g){if(!L||typeof L!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${L}`);z+=`
- ${L}`}V+=z}return`${j}
${V}`}class nt extends Error{constructor({message:a,code:r,cause:s,name:u}){var c;super(a,{cause:s}),this.__isWebAuthnError=!0,this.name=(c=u??(s instanceof Error?s.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=r}}class jl extends nt{constructor(a,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:a}),this.name="WebAuthnUnknownError",this.originalError=r}}function Mw({error:l,options:a}){var r,s,u;const{publicKey:c}=a;if(!c)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new nt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((r=c.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new nt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(a.mediation==="conditional"&&((s=c.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new nt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((u=c.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new nt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new nt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new nt({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return c.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new nt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new nt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const d=window.location.hostname;if(Jv(d)){if(c.rp.id!==d)return new nt({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new nt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function Bw({error:l,options:a}){const{publicKey:r}=a;if(!r)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new nt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new nt({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const s=window.location.hostname;if(Jv(s)){if(r.rpId!==s)return new nt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new nt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new nt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new nt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class Lw{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const qw=new Lw;function Hw(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:a,user:r,excludeCredentials:s}=l,u=qi(l,["challenge","user","excludeCredentials"]),c=zi(a).buffer,d=Object.assign(Object.assign({},r),{id:zi(r.id).buffer}),h=Object.assign(Object.assign({},u),{challenge:c,user:d});if(s&&s.length>0){h.excludeCredentials=new Array(s.length);for(let v=0;v<s.length;v++){const g=s[v];h.excludeCredentials[v]=Object.assign(Object.assign({},g),{id:zi(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function $w(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:a,allowCredentials:r}=l,s=qi(l,["challenge","allowCredentials"]),u=zi(a).buffer,c=Object.assign(Object.assign({},s),{challenge:u});if(r&&r.length>0){c.allowCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const h=r[d];c.allowCredentials[d]=Object.assign(Object.assign({},h),{id:zi(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function Vw(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const r=l;return{id:l.id,rawId:l.id,response:{attestationObject:Ba(new Uint8Array(l.response.attestationObject)),clientDataJSON:Ba(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Gw(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const r=l,s=l.getClientExtensionResults(),u=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:Ba(new Uint8Array(u.authenticatorData)),clientDataJSON:Ba(new Uint8Array(u.clientDataJSON)),signature:Ba(new Uint8Array(u.signature)),userHandle:u.userHandle?Ba(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function Jv(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function zg(){var l,a;return!!(qt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator==null?void 0:navigator.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.get)=="function")}async function Yw(l){try{const a=await navigator.credentials.create(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new jl("Browser returned unexpected credential type",a)}:{data:null,error:new jl("Empty credential response",a)}}catch(a){return{data:null,error:Mw({error:a,options:l})}}}async function Kw(l){try{const a=await navigator.credentials.get(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new jl("Browser returned unexpected credential type",a)}:{data:null,error:new jl("Empty credential response",a)}}catch(a){return{data:null,error:Bw({error:a,options:l})}}}const Qw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Jw={userVerification:"preferred",hints:["security-key"]};function Al(...l){const a=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),r=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),s={};for(const u of l)if(u)for(const c in u){const d=u[c];if(d!==void 0)if(Array.isArray(d))s[c]=d;else if(r(d))s[c]=d;else if(a(d)){const h=s[c];a(h)?s[c]=Al(h,d):s[c]=Al(d)}else s[c]=d}return s}function Xw(l,a){return Al(Qw,l,a||{})}function Iw(l,a){return Al(Jw,l,a||{})}class Zw{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:r,friendlyName:s,signal:u},c){try{const{data:d,error:h}=await this.client.mfa.challenge({factorId:a,webauthn:r});if(!d)return{data:null,error:h};const v=u??qw.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:g}=d.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${s}`),g.displayName||(g.displayName=g.name)}switch(d.webauthn.type){case"create":{const g=Xw(d.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:p,error:b}=await Yw({publicKey:g,signal:v});return p?{data:{factorId:a,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:p}},error:null}:{data:null,error:b}}case"request":{const g=Iw(d.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:p,error:b}=await Kw(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:g,signal:v}));return p?{data:{factorId:a,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:p}},error:null}:{data:null,error:b}}}}catch(d){return re(d)?{data:null,error:d}:{data:null,error:new Ma("Unexpected error in challenge",d)}}}async _verify({challengeId:a,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:a,webauthn:s})}async _authenticate({factorId:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:u}},c){if(!r)return{data:null,error:new Jr("rpId is required for WebAuthn authentication")};try{if(!zg())return{data:null,error:new Ma("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this.challenge({factorId:a,webauthn:{rpId:r,rpOrigins:s},signal:u},{request:c});if(!d)return{data:null,error:h};const{webauthn:v}=d;return this._verify({factorId:a,challengeId:d.challengeId,webauthn:{type:v.type,rpId:r,rpOrigins:s,credential_response:v.credential_response}})}catch(d){return re(d)?{data:null,error:d}:{data:null,error:new Ma("Unexpected error in authenticate",d)}}}async _register({friendlyName:a,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:u},c){if(!r)return{data:null,error:new Jr("rpId is required for WebAuthn registration")};try{if(!zg())return{data:null,error:new Ma("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this._enroll({friendlyName:a});if(!d)return await this.client.mfa.listFactors().then(p=>{var b;return(b=p.data)===null||b===void 0?void 0:b.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===a&&S.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:h};const{data:v,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:u},{create:c});return v?this._verify({factorId:d.id,challengeId:v.challengeId,webauthn:{rpId:r,rpOrigins:s,type:v.webauthn.type,credential_response:v.webauthn.credential_response}}):{data:null,error:g}}catch(d){return re(d)?{data:null,error:d}:{data:null,error:new Ma("Unexpected error in register",d)}}}}kw();const Pw={url:X_,storageKey:I_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Z_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Mg(l,a,r){return await r()}const ki={};class Xr{get jwks(){var a,r;return(r=(a=ki[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(a){ki[this.storageKey]=Object.assign(Object.assign({},ki[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,r;return(r=(a=ki[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){ki[this.storageKey]=Object.assign(Object.assign({},ki[this.storageKey]),{cachedAt:a})}constructor(a){var r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xr.nextInstanceID,Xr.nextInstanceID+=1,this.instanceID>0&&qt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const u=Object.assign(Object.assign({},Pw),a);if(this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.persistSession=u.persistSession,this.storageKey=u.storageKey,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Cw({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Yv(u.fetch),this.lock=u.lock||Mg,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,u.lock?this.lock=u.lock:qt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Nw:this.lock=Mg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Zw(this)},this.persistSession?(u.storage?this.storage=u.storage:Gv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ug(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Ug(this.memoryStorage)),qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...a){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Hv}) ${new Date().toISOString()}`,...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{const r=cw(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),qt()&&this.detectSessionInUrl&&s!=="none"){const{data:u,error:c}=await this._getSessionFromURL(r,s);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),nw(c)){const v=(a=c.details)===null||a===void 0?void 0:a.code;if(v==="identity_already_exists"||v==="identity_not_found"||v==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:d,redirectType:h}=u;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return re(r)?{error:r}:{error:new Ma("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var r,s,u;try{const c=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=a==null?void 0:a.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(u=a==null?void 0:a.options)===null||u===void 0?void 0:u.captchaToken}},xform:nn}),{data:d,error:h}=c;if(h||!d)return{data:{user:null,session:null},error:h};const v=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:g,session:v},error:null}}catch(c){if(re(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(a){var r,s,u;try{let c;if("email"in a){const{email:p,password:b,options:S}=a;let T=null,M=null;this.flowType==="pkce"&&([T,M]=await Ci(this.storage,this.storageKey)),c=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:p,password:b,data:(r=S==null?void 0:S.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:T,code_challenge_method:M},xform:nn})}else if("phone"in a){const{phone:p,password:b,options:S}=a;c=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:b,data:(s=S==null?void 0:S.data)!==null&&s!==void 0?s:{},channel:(u=S==null?void 0:S.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:nn})}else throw new wl("You must provide either an email or phone number and a password");const{data:d,error:h}=c;if(h||!d)return{data:{user:null,session:null},error:h};const v=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",v)),{data:{user:g,session:v},error:null}}catch(c){if(re(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(a){try{let r;if("email"in a){const{email:c,password:d,options:h}=a;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:kg})}else if("phone"in a){const{phone:c,password:d,options:h}=a;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:kg})}else throw new wl("You must provide either an email or phone number and a password");const{data:s,error:u}=r;return u?{data:{user:null,session:null},error:u}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Ai}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:u})}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(a){var r,s,u,c;return await this._handleProviderSignIn(a.provider,{redirectTo:(r=a.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=a.options)===null||s===void 0?void 0:s.scopes,queryParams:(u=a.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(c=a.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:r}=a;switch(r){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(a){var r,s,u,c,d,h,v,g,p,b,S;let T,M;if("message"in a)T=a.message,M=a.signature;else{const{chain:D,wallet:j,statement:V,options:z}=a;let L;if(qt())if(typeof j=="object")L=j;else{const F=window;if("ethereum"in F&&typeof F.ethereum=="object"&&"request"in F.ethereum&&typeof F.ethereum.request=="function")L=F.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(z!=null&&z.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=j}const J=new URL((r=z==null?void 0:z.url)!==null&&r!==void 0?r:window.location.href),ee=await L.request({method:"eth_requestAccounts"}).then(F=>F).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ee||ee.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Q=Qv(ee[0]);let N=(s=z==null?void 0:z.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!N){const F=await L.request({method:"eth_chainId"});N=Dw(F)}const K={domain:J.host,address:Q,statement:V,uri:J.href,version:"1",chainId:N,nonce:(u=z==null?void 0:z.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(d=(c=z==null?void 0:z.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(h=z==null?void 0:z.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(v=z==null?void 0:z.signInWithEthereum)===null||v===void 0?void 0:v.notBefore,requestId:(g=z==null?void 0:z.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(p=z==null?void 0:z.signInWithEthereum)===null||p===void 0?void 0:p.resources};T=zw(K),M=await L.request({method:"personal_sign",params:[Uw(T),Q]})}try{const{data:D,error:j}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:T,signature:M},!((b=a.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(S=a.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:nn});if(j)throw j;return!D||!D.session||!D.user?{data:{user:null,session:null},error:new Ai}:(D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),{data:Object.assign({},D),error:j})}catch(D){if(re(D))return{data:{user:null,session:null},error:D};throw D}}async signInWithSolana(a){var r,s,u,c,d,h,v,g,p,b,S,T;let M,D;if("message"in a)M=a.message,D=a.signature;else{const{chain:j,wallet:V,statement:z,options:L}=a;let J;if(qt())if(typeof V=="object")J=V;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))J=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof V!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=V}const ee=new URL((r=L==null?void 0:L.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in J&&J.signIn){const Q=await J.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L==null?void 0:L.signInWithSolana),{version:"1",domain:ee.host,uri:ee.href}),z?{statement:z}:null));let N;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")N=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)N=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)M=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),D=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in J)||typeof J.signMessage!="function"||!("publicKey"in J)||typeof J!="object"||!J.publicKey||!("toBase58"in J.publicKey)||typeof J.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");M=[`${ee.host} wants you to sign in with your Solana account:`,J.publicKey.toBase58(),...z?["",z,""]:[""],"Version: 1",`URI: ${ee.href}`,`Issued At: ${(u=(s=L==null?void 0:L.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((c=L==null?void 0:L.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((d=L==null?void 0:L.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((h=L==null?void 0:L.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((v=L==null?void 0:L.signInWithSolana)===null||v===void 0)&&v.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((g=L==null?void 0:L.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((b=(p=L==null?void 0:L.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||b===void 0)&&b.length?["Resources",...L.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const Q=await J.signMessage(new TextEncoder().encode(M),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");D=Q}}try{const{data:j,error:V}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:M,signature:Ba(D)},!((S=a.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(T=a.options)===null||T===void 0?void 0:T.captchaToken}}:null),xform:nn});if(V)throw V;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Ai}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:V})}catch(j){if(re(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(a){const r=await Da(this.storage,`${this.storageKey}-code-verifier`),[s,u]=(r??"").split("/");try{const{data:c,error:d}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:s},xform:nn});if(await ra(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new Ai}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:u??null}),error:d})}catch(c){if(re(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(a){try{const{options:r,provider:s,token:u,access_token:c,nonce:d}=a,h=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:u,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:nn}),{data:v,error:g}=h;return g?{data:{user:null,session:null},error:g}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new Ai}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:v,error:g})}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(a){var r,s,u,c,d;try{if("email"in a){const{email:h,options:v}=a;let g=null,p=null;this.flowType==="pkce"&&([g,p]=await Ci(this.storage,this.storageKey));const{error:b}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},create_user:(s=v==null?void 0:v.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:g,code_challenge_method:p},redirectTo:v==null?void 0:v.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in a){const{phone:h,options:v}=a,{data:g,error:p}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(u=v==null?void 0:v.data)!==null&&u!==void 0?u:{},create_user:(c=v==null?void 0:v.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},channel:(d=v==null?void 0:v.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:p}}throw new wl("You must provide either an email or phone number.")}catch(h){if(re(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(a){var r,s;try{let u,c;"options"in a&&(u=(r=a.options)===null||r===void 0?void 0:r.redirectTo,c=(s=a.options)===null||s===void 0?void 0:s.captchaToken);const{data:d,error:h}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:c}}),redirectTo:u,xform:nn});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const v=d.session,g=d.user;return v!=null&&v.access_token&&(await this._saveSession(v),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",v)),{data:{user:g,session:v},error:null}}catch(u){if(re(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithSSO(a){var r,s,u;try{let c=null,d=null;return this.flowType==="pkce"&&([c,d]=await Ci(this.storage,this.storageKey)),await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(s=(r=a.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((u=a==null?void 0:a.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:Ow})}catch(c){if(re(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:r},error:s}=a;if(s)throw s;if(!r)throw new sa;const{error:u}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:u}})}catch(a){if(re(a))return{data:{user:null,session:null},error:a};throw a}}async resend(a){try{const r=`${this.url}/resend`;if("email"in a){const{email:s,type:u,options:c}=a,{error:d}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in a){const{phone:s,type:u,options:c}=a,{data:d,error:h}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new wl("You must provide either an email or phone number and a type")}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(a,r){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await a(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const r=await Da(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?a=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const s=a.expires_at?a.expires_at*1e3-Date.now()<rc:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",a.expires_at),!s){if(this.userStorage){const d=await Da(this.userStorage,this.storageKey+"-user");d!=null&&d.user?a.user=d.user:a.user=oc()}if(this.storage.isServer&&a.user){let d=this.suppressGetSessionWarning;a=new Proxy(a,{get:(v,g,p)=>(!d&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(v,g,p))})}return{data:{session:a},error:null}}const{data:u,error:c}=await this._callRefreshToken(a.refresh_token);return c?{data:{session:null},error:c}:{data:{session:u},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(a){return a?await this._getUser(a):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(a){try{return a?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:la}):await this._useSession(async r=>{var s,u,c;const{data:d,error:h}=r;if(h)throw h;return!(!((s=d.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new sa}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0,xform:la})})}catch(r){if(re(r))return tw(r)&&(await this._removeSession(),await ra(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(a,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,r))}async _updateUser(a,r={}){try{return await this._useSession(async s=>{const{data:u,error:c}=s;if(c)throw c;if(!u.session)throw new sa;const d=u.session;let h=null,v=null;this.flowType==="pkce"&&a.email!=null&&([h,v]=await Ci(this.storage,this.storageKey));const{data:g,error:p}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:h,code_challenge_method:v}),jwt:d.access_token,xform:la});if(p)throw p;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new sa;const r=Date.now()/1e3;let s=r,u=!0,c=null;const{payload:d}=lc(a.access_token);if(d.exp&&(s=d.exp,u=s<=r),u){const{data:h,error:v}=await this._callRefreshToken(a.refresh_token);if(v)return{data:{user:null,session:null},error:v};if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:v}=await this._getUser(a.access_token);if(v)throw v;c={access_token:a.access_token,refresh_token:a.refresh_token,user:h.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(r){if(re(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async r=>{var s;if(!a){const{data:d,error:h}=r;if(h)throw h;a=(s=d.session)!==null&&s!==void 0?s:void 0}if(!(a!=null&&a.refresh_token))throw new sa;const{data:u,error:c}=await this._callRefreshToken(a.refresh_token);return c?{data:{user:null,session:null},error:c}:u?{data:{user:u.user,session:u},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(a,r){try{if(!qt())throw new Sl("No browser detected.");if(a.error||a.error_description||a.error_code)throw new Sl(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Tg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Sl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Tg("No code detected.");const{data:z,error:L}=await this._exchangeCodeForSession(a.code);if(L)throw L;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:z.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:u,access_token:c,refresh_token:d,expires_in:h,expires_at:v,token_type:g}=a;if(!c||!h||!d||!g)throw new Sl("No session defined in URL");const p=Math.round(Date.now()/1e3),b=parseInt(h);let S=p+b;v&&(S=parseInt(v));const T=S-p;T*1e3<=Di&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${T}s, should have been closer to ${b}s`);const M=S-b;p-M>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",M,S,p):p-M<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",M,S,p);const{data:D,error:j}=await this._getUser(c);if(j)throw j;const V={provider_token:s,provider_refresh_token:u,access_token:c,expires_in:b,expires_at:S,refresh_token:d,token_type:g,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:V,redirectType:a.type},error:null}}catch(s){if(re(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const r=await Da(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&r)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:u,error:c}=r;if(c)return{error:c};const d=(s=u.session)===null||s===void 0?void 0:s.access_token;if(d){const{error:h}=await this.admin.signOut(d,a);if(h&&!(ew(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return a!=="others"&&(await this._removeSession(),await ra(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(a){const r=uw(),s={id:r,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(a){return await this._useSession(async r=>{var s,u;try{const{data:{session:c},error:d}=r;if(d)throw d;await((s=this.stateChangeEmitters.get(a))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",a,"session",c)}catch(c){await((u=this.stateChangeEmitters.get(a))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",c),console.error(c)}})}async resetPasswordForEmail(a,r={}){let s=null,u=null;this.flowType==="pkce"&&([s,u]=await Ci(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:s,code_challenge_method:u,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(re(c))return{data:null,error:c};throw c}}async getUserIdentities(){var a;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(a=r.user.identities)!==null&&a!==void 0?a:[]},error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var r;try{const{data:s,error:u}=await this._useSession(async c=>{var d,h,v,g,p;const{data:b,error:S}=c;if(S)throw S;const T=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(d=a.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=a.options)===null||h===void 0?void 0:h.scopes,queryParams:(v=a.options)===null||v===void 0?void 0:v.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",T,{headers:this.headers,jwt:(p=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&p!==void 0?p:void 0})});if(u)throw u;return qt()&&!(!((r=a.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:a.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(re(s))return{data:{provider:a.provider,url:null},error:s};throw s}}async linkIdentityIdToken(a){return await this._useSession(async r=>{var s;try{const{error:u,data:{session:c}}=r;if(u)throw u;const{options:d,provider:h,token:v,access_token:g,nonce:p}=a,b=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=c==null?void 0:c.access_token)!==null&&s!==void 0?s:void 0,body:{provider:h,id_token:v,access_token:g,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:nn}),{data:S,error:T}=b;return T?{data:{user:null,session:null},error:T}:!S||!S.session||!S.user?{data:{user:null,session:null},error:new Ai}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),{data:S,error:T})}catch(u){if(re(u))return{data:{user:null,session:null},error:u};throw u}})}async unlinkIdentity(a){try{return await this._useSession(async r=>{var s,u;const{data:c,error:d}=r;if(d)throw d;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(u=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&u!==void 0?u:void 0})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _refreshAccessToken(a){const r=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await hw(async u=>(u>0&&await dw(200*Math.pow(2,u-1)),this._debug(r,"refreshing attempt",u),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:nn})),(u,c)=>{const d=200*Math.pow(2,u);return c&&sc(c)&&Date.now()+d-s<Di})}catch(s){if(this._debug(r,"error",s),re(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",r,"url",s),qt()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:a,url:s},error:null}}async _recoverAndRefresh(){var a,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const u=await Da(this.storage,this.storageKey);if(u&&this.userStorage){let d=await Da(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:u.user},await Ui(this.userStorage,this.storageKey+"-user",d)),u.user=(a=d==null?void 0:d.user)!==null&&a!==void 0?a:oc()}else if(u&&!u.user&&!u.user){const d=await Da(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(u.user=d.user,await ra(this.storage,this.storageKey+"-user"),await Ui(this.storage,this.storageKey,u)):u.user=oc()}if(this._debug(s,"session from storage",u),!this._isValidSession(u)){this._debug(s,"session is not valid"),u!==null&&await this._removeSession();return}const c=((r=u.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<rc;if(this._debug(s,`session has${c?"":" not"} expired with margin of ${rc}s`),c){if(this.autoRefreshToken&&u.refresh_token){const{error:d}=await this._callRefreshToken(u.refresh_token);d&&(console.error(d),sc(d)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:h}=await this._getUser(u.access_token);!h&&(d!=null&&d.user)?(u.user=d.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(s,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(s,"error",u),console.error(u);return}finally{this._debug(s,"end")}}async _callRefreshToken(a){var r,s;if(!a)throw new sa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new kl;const{data:c,error:d}=await this._refreshAccessToken(a);if(d)throw d;if(!c.session)throw new sa;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={data:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(u,"error",c),re(c)){const d={data:null,error:c};return sc(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(c),c}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(a,r,s=!0){const u=`#_notifyAllSubscribers(${a})`;this._debug(u,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:a,session:r});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(a,r)}catch(v){c.push(v)}});if(await Promise.all(d),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(u,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0;const r=Object.assign({},a),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Ui(this.userStorage,this.storageKey+"-user",{user:r.user});const u=Object.assign({},r);delete u.user;const c=Rg(u);await Ui(this.storage,this.storageKey,c)}else{const u=Rg(r);await Ui(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),await ra(this.storage,this.storageKey),await ra(this.storage,this.storageKey+"-code-verifier"),await ra(this.storage,this.storageKey+"-user"),this.userStorage&&await ra(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&qt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",a)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Di);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((s.expires_at*1e3-a)/Di);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Di}ms, refresh threshold is ${Oc} ticks`),u<=Oc&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Kv)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const r=`#_onVisibilityChanged(${a})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,r,s){const u=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&u.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&u.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[c,d]=await Ci(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});u.push(h.toString())}if(s!=null&&s.queryParams){const c=new URLSearchParams(s.queryParams);u.push(c.toString())}return s!=null&&s.skipBrowserRedirect&&u.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${a}?${u.join("&")}`}async _unenroll(a){try{return await this._useSession(async r=>{var s;const{data:u,error:c}=r;return c?{data:null,error:c}:await fe(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(s=u==null?void 0:u.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _enroll(a){try{return await this._useSession(async r=>{var s,u;const{data:c,error:d}=r;if(d)return{data:null,error:d};const h=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:v,error:g}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(s=c==null?void 0:c.session)===null||s===void 0?void 0:s.access_token});return g?{data:null,error:g}:(a.factorType==="totp"&&v.type==="totp"&&(!((u=v==null?void 0:v.totp)===null||u===void 0)&&u.qr_code)&&(v.totp.qr_code=`data:image/svg+xml;utf-8,${v.totp.qr_code}`),{data:v,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:u,error:c}=r;if(c)return{data:null,error:c};const d=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Vw(a.webauthn.credential_response):Gw(a.webauthn.credential_response)})}:{code:a.code}),{data:h,error:v}=await fe(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:d,headers:this.headers,jwt:(s=u==null?void 0:u.session)===null||s===void 0?void 0:s.access_token});return v?{data:null,error:v}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:v})})}catch(r){if(re(r))return{data:null,error:r};throw r}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:u,error:c}=r;if(c)return{data:null,error:c};const d=await fe(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(s=u==null?void 0:u.session)===null||s===void 0?void 0:s.access_token});if(d.error)return d;const{data:h}=d;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:Hw(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:$w(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(re(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(a){const{data:r,error:s}=await this._challenge({factorId:a.factorId});return s?{data:null,error:s}:await this._verify({factorId:a.factorId,challengeId:r.id,code:a.code})}async _listFactors(){var a;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const u={all:[],phone:[],totp:[],webauthn:[]};for(const c of(a=r==null?void 0:r.factors)!==null&&a!==void 0?a:[])u.all.push(c),c.status==="verified"&&u[c.factor_type].push(c);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async a=>{var r,s;const{data:{session:u},error:c}=a;if(c)return{data:null,error:c};if(!u)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=lc(u.access_token);let h=null;d.aal&&(h=d.aal);let v=h;((s=(r=u.user.factors)===null||r===void 0?void 0:r.filter(b=>b.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(v="aal2");const p=d.amr||[];return{data:{currentLevel:h,nextLevel:v,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(a,r={keys:[]}){let s=r.keys.find(h=>h.kid===a);if(s)return s;const u=Date.now();if(s=this.jwks.keys.find(h=>h.kid===a),s&&this.jwks_cached_at+W_>u)return s;const{data:c,error:d}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=u,s=c.keys.find(h=>h.kid===a),!s)?null:s}async getClaims(a,r={}){try{let s=a;if(!s){const{data:T,error:M}=await this.getSession();if(M||!T.session)return{data:null,error:M};s=T.session.access_token}const{header:u,payload:c,signature:d,raw:{header:h,payload:v}}=lc(s);r!=null&&r.allowExpired||_w(c.exp);const g=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!g){const{error:T}=await this.getUser(s);if(T)throw T;return{data:{claims:c,header:u,signature:d},error:null}}const p=ww(u.alg),b=await crypto.subtle.importKey("jwk",g,p,!0,["verify"]);if(!await crypto.subtle.verify(p,b,d,lw(`${h}.${v}`)))throw new Cc("Invalid JWT signature");return{data:{claims:c,header:u,signature:d},error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}}Xr.nextInstanceID=0;const Ww=Xr;class Fw extends Ww{constructor(a){super(a)}}class eS{constructor(a,r,s){var u,c,d;this.supabaseUrl=a,this.supabaseKey=r;const h=J_(a);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const v=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:q_,realtime:$_,auth:Object.assign(Object.assign({},H_),{storageKey:v}),global:L_},p=Q_(s??{},g);this.storageKey=(u=p.auth.storageKey)!==null&&u!==void 0?u:"",this.headers=(c=p.global.headers)!==null&&c!==void 0?c:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(b,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=p.auth)!==null&&d!==void 0?d:{},this.headers,p.global.fetch),this.fetch=Y_(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new Xb(new URL("rest/v1",h).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new z_(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Lb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,r={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,r,s)}channel(a,r={config:{}}){return this.realtime.channel(a,r)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a,r;if(this.accessToken)return await this.accessToken();const{data:s}=await this.auth.getSession();return(r=(a=s.session)===null||a===void 0?void 0:a.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:r,detectSessionInUrl:s,storage:u,userStorage:c,storageKey:d,flowType:h,lock:v,debug:g},p,b){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fw({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),p),storageKey:d,autoRefreshToken:a,persistSession:r,detectSessionInUrl:s,storage:u,userStorage:c,flowType:h,lock:v,debug:g,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(T=>T.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new f_(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a==null?void 0:a.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(a,r,s){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const tS=(l,a,r)=>new eS(l,a,r);function nS(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const a=l.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}nS()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const aS="https://sxkgemidgdggpvtkjqev.supabase.co",iS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN4a2dlbWlkZ2RnZ3B2dGtqcWV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMDI4MzEsImV4cCI6MjA3Njc3ODgzMX0.vjWI2vgqhTkSNMhHu2JFezGLvMjF_4f-tNw5eGPexsg",ie=tS(aS,iS,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"sb-auth-whizkidanime"}}),Xv=A.createContext(void 0),rS=({children:l})=>{const[a,r]=A.useState(null),[s,u]=A.useState(null),[c,d]=A.useState(!0);A.useEffect(()=>{(async()=>{try{const{data:{session:b}}=await ie.auth.getSession();r(b),u((b==null?void 0:b.user)??null)}catch(b){console.error("Error getting session:",b)}finally{d(!1)}})();const{data:{subscription:p}}=ie.auth.onAuthStateChange((b,S)=>{r(S),u((S==null?void 0:S.user)??null)});return()=>{p==null||p.unsubscribe()}},[]);const v={session:a,user:s,loading:c,signOut:async()=>{await ie.auth.signOut()}};return _.jsx(Xv.Provider,{value:v,children:!c&&l})},Ha=()=>{const l=A.useContext(Xv);if(l===void 0)throw new Error("useAuth must be used within an AuthProvider");return l},cc=new Map;function Qc({key:l,initialState:a,ttl:r=600*1e3}){const s=A.useRef(!1),[u,c]=A.useState(()=>{const h=cc.get(l);if(h){if(Date.now()-h.timestamp<r)return h.data;cc.delete(l)}return a}),d=A.useCallback(()=>{cc.set(l,{data:u,timestamp:Date.now()})},[l,u]);return A.useEffect(()=>(s.current=!0,()=>{s.current=!1,d()}),[d]),[u,c,d]}const Iv="tab_navigation_paths",sS=1800*1e3,fc={calendar:"/calendar",templates:"/templates",profile:"/profile",lastUpdated:Date.now()},Zv=()=>{try{const l=localStorage.getItem(Iv);if(!l)return fc;const a=JSON.parse(l);return Date.now()-a.lastUpdated>sS?fc:a}catch{return fc}},lS=(l,a)=>{try{const s={...Zv(),[l]:a,lastUpdated:Date.now()};localStorage.setItem(Iv,JSON.stringify(s))}catch{}},Bg=l=>l.startsWith("/calendar")||l.startsWith("/workout")?"calendar":l.startsWith("/templates")?"templates":l.startsWith("/profile")?"profile":null,oS=()=>{const l=Un(),a=fa();return A.useEffect(()=>{const s=Bg(l.pathname);s&&lS(s,l.pathname)},[l.pathname]),{navigateToTab:s=>{const c=Zv()[s];Bg(l.pathname)!==s&&a(c)}}},uS=()=>{const l=Un(),{navigateToTab:a}=oS(),r=A.useRef(null),s=[{key:"calendar",label:"Календарь",icon:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{key:"templates",label:"Шаблоны",icon:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})},{key:"profile",label:"Профиль",icon:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}],u=A.useMemo(()=>{const h=l.pathname;return h.startsWith("/calendar")||h.startsWith("/workout")?0:h.startsWith("/templates")?1:h.startsWith("/profile")?2:0},[l.pathname]),c=h=>{if(h.key!=="ArrowLeft"&&h.key!=="ArrowRight")return;h.preventDefault();const v=h.key==="ArrowRight"?1:-1,g=(u+v+s.length)%s.length;a(s[g].key)},d={"--tabs-count":s.length,"--active-index":u};return A.useLayoutEffect(()=>{const h=r.current;if(!h)return;const v=()=>{const p=h.offsetHeight;document.documentElement.style.setProperty("--dock-total-h",`${p}px`)};v();const g=new ResizeObserver(v);return g.observe(h),window.addEventListener("resize",v),window.addEventListener("orientationchange",v),()=>{g.disconnect(),window.removeEventListener("resize",v),window.removeEventListener("orientationchange",v)}},[]),_.jsx("nav",{ref:r,className:"bottom-dock-wrapper","aria-label":"Нижняя навигация",children:_.jsx("div",{className:"bottom-dock glass-dock",role:"tablist","aria-orientation":"horizontal",onKeyDown:c,style:d,children:_.jsxs("div",{className:"dock-track",children:[_.jsx("div",{className:"dock-indicator","aria-hidden":"true"}),s.map((h,v)=>_.jsxs("button",{onClick:()=>a(h.key),className:`dock-item ${u===v?"active":""}`,role:"tab","aria-selected":u===v,children:[_.jsx("span",{className:"icon","aria-hidden":"true",children:h.icon}),_.jsx("span",{className:"label",children:h.label})]},h.key))]})})})},cS=()=>_.jsxs("div",{className:"flex flex-col h-[100svh]",children:[_.jsx("main",{className:"flex-1",style:{paddingBottom:"var(--dock-total-h, 96px)"},children:_.jsx(pb,{})}),_.jsx(uS,{})]}),fS=({children:l})=>{const{session:a,loading:r}=Ha(),s=Un();return r?_.jsx("div",{className:"flex items-center justify-center h-screen bg-background text-foreground",children:_.jsx("p",{children:"Загрузка..."})}):a?l??null:_.jsx(ev,{to:"/login",state:{from:s},replace:!0})},dS=()=>{const{session:l}=Ha(),a=fa(),[r,s]=A.useState(!1),[u,c]=A.useState(""),[d,h]=A.useState(""),[v,g]=A.useState(!1),[p,b]=A.useState(""),[S,T]=A.useState("");A.useEffect(()=>{l&&a("/calendar",{replace:!0})},[l,a]);const M=async j=>{j.preventDefault(),g(!0),b(""),T("");const V=u.includes("@")?u:`${u}@gymlog.app`;try{if(r){const{error:z}=await ie.auth.signUp({email:V,password:d});if(z)throw z;b("Регистрация успешна! Теперь вы можете войти."),s(!1)}else{const{error:z}=await ie.auth.signInWithPassword({email:V,password:d});if(z)throw z}}catch(z){T(z.message||"Произошла ошибка")}finally{g(!1)}},D=async()=>{g(!0),T("");const j=`${window.location.origin}/GymLog/`,{error:V}=await ie.auth.signInWithOAuth({provider:"google",options:{redirectTo:j}});V&&(T(V.message),g(!1))};return _.jsx("div",{className:"flex items-center justify-center min-h-screen px-4",style:{background:"#0a0a0b"},children:_.jsxs("div",{className:"w-full max-w-sm p-8 space-y-4 glass card-dark rounded-lg shadow-md",children:[_.jsx("h1",{className:"text-2xl font-bold text-center",style:{color:"#e4e4e7"},children:"GymLog"}),_.jsx("p",{className:"text-center",style:{color:"#a1a1aa"},children:r?"Создайте аккаунт":"Войдите в свой аккаунт"}),_.jsxs("form",{onSubmit:M,className:"space-y-4",autoComplete:"off",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"nickname",className:"sr-only",children:"Никнейм"}),_.jsx("input",{id:"nickname",type:"text",placeholder:r?"Придумайте никнейм":"Ваш никнейм",value:u,onChange:j=>c(j.target.value),required:!0,name:"nickname",autoComplete:"off",className:"w-full px-4 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",style:{backgroundColor:"#18181b",color:"#0a0a0a",border:"1px solid #3f3f46"}})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"password",className:"sr-only",children:"Пароль"}),_.jsx("input",{id:"password",type:"password",placeholder:"••••••••",value:d,onChange:j=>h(j.target.value),required:!0,minLength:6,name:r?"new-password":"current-password",autoComplete:r?"new-password":"off",className:"w-full px-4 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",style:{backgroundColor:"#18181b",color:"#0a0a0a",border:"1px solid #3f3f46"}})]}),_.jsx("button",{type:"submit",disabled:v,className:"w-full px-4 py-2 font-semibold text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:v?"Загрузка...":r?"Зарегистрироваться":"Войти"})]}),p&&_.jsx("p",{className:"text-center text-sm text-green-600",children:p}),S&&_.jsx("p",{className:"text-center text-sm text-red-500",children:S}),_.jsxs("p",{className:"text-sm text-center text-gray-600",children:[r?"Уже есть аккаунт?":"Нет аккаунта?",_.jsx("button",{type:"button",onClick:()=>{s(!r),b(""),T("")},className:"ml-1 font-semibold text-blue-600 hover:underline",children:r?"Войти":"Зарегистрироваться"})]}),_.jsxs("div",{className:"relative flex items-center py-2",children:[_.jsx("div",{className:"flex-grow border-t border-gray-300"}),_.jsx("span",{className:"flex-shrink mx-4 text-xs text-gray-500",children:"ИЛИ"}),_.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),_.jsxs("button",{onClick:D,disabled:v,className:"w-full flex items-center justify-center px-4 py-2 font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 transition-colors",children:[_.jsx("svg",{className:"w-5 h-5 mr-2","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:_.jsx("path",{fill:"currentColor",d:"M488 261.8C488 403.3 381.5 512 244 512 110.3 512 0 398.8 0 256S110.3 0 244 0c73 0 135.5 28.2 182.3 74.3l-64.3 62.1C337 113.4 294.3 96 244 96c-85.6 0-154.5 68.9-154.5 160s68.9 160 154.5 160c97.9 0 135-71.2 138.6-106.2H244v-75.3h236.1c2.4 12.6 3.9 26.2 3.9 41z"})}),"Войти через Google"]})]})})},hS=l=>new Date(l.getFullYear(),l.getMonth()+1,0).getDate(),mS=l=>{const a=new Date(l.getFullYear(),l.getMonth(),1).getDay();return a===0?6:a-1},Hr=l=>{const a=l.getFullYear(),r=(l.getMonth()+1).toString().padStart(2,"0"),s=l.getDate().toString().padStart(2,"0");return`${a}-${r}-${s}`},gS=l=>l.toLocaleString("ru-RU",{month:"long",year:"numeric"}),dc=l=>{if(!l||!/^\d{4}-\d{2}-\d{2}$/.test(l))return l;const[a,r,s]=l.split("-");return`${s}.${r}.${a}`},Lr=new Map,Lg=3e4,vS=()=>{var ee,Q;const{user:l}=Ha(),a=fa(),r=Un(),[s,u]=Qc({key:"calendar-page",initialState:{currentDate:new Date,workouts:[],loading:!0,hasInitialData:!1},ttl:1800*1e3}),{currentDate:c,workouts:d,loading:h,hasInitialData:v}=s,g=N=>{u(K=>({...K,currentDate:N}))},p=N=>{u(K=>({...K,workouts:N}))},b=N=>{u(K=>({...K,loading:N}))},S=N=>{u(K=>({...K,hasInitialData:N}))},T=A.useCallback(async(N=!1,K=!1)=>{if(!l)return;const F=`${l.id}:${c.getFullYear()}-${c.getMonth()}`,Ne=Date.now();let Se=K;if(Lr.has(F)){const B=Lr.get(F),X=Ne-B.timestamp;if(N&&X<Lg){v||(p(B.workouts),b(!1),S(!0));return}X>=Lg&&(v||(p(B.workouts),S(!0)),Se=!0)}Se||b(!0);const ue=new Date(c.getFullYear(),c.getMonth(),1),Ye=new Date(c.getFullYear(),c.getMonth()+1,0),{data:_t,error:at}=await ie.from("workouts").select("id, workout_date").eq("user_id",l.id).gte("workout_date",Hr(ue)).lte("workout_date",Hr(Ye));if(at)console.error("Error fetching workouts:",at);else{const B=_t||[];p(B),Lr.set(F,{workouts:B,timestamp:Ne})}b(!1),S(!0)},[l,c,v]);A.useEffect(()=>{v||T()},[c.getFullYear(),c.getMonth(),l]),A.useEffect(()=>{var F;if(!l||!((F=r.state)==null?void 0:F.removedDate))return;const K=`${l.id}:${c.getFullYear()}-${c.getMonth()}`;Lr.delete(K),T(!1,!1)},[(ee=r.state)==null?void 0:ee.removedDate,l,c,T]),A.useEffect(()=>{var F;if(!l||!((F=r.state)==null?void 0:F.refreshDate))return;const K=`${l.id}:${c.getFullYear()}-${c.getMonth()}`;Lr.delete(K),T(!1,!1)},[(Q=r.state)==null?void 0:Q.refreshDate,l,c,T]),A.useEffect(()=>{const N=()=>{document.visibilityState==="visible"&&T(!0)};return document.addEventListener("visibilitychange",N),()=>document.removeEventListener("visibilitychange",N)},[T]);const M=hS(c),D=mS(c),j=["Пн","Вт","Ср","Чт","Пт","Сб","Вс"],V=new Date,z=N=>{const K=new Date(c.getFullYear(),c.getMonth(),N);a(`/workout/${Hr(K)}`)},L=N=>{const K=new Date(c.getFullYear(),c.getMonth()+N,1);g(K),S(!1)},J=new Set(d.map(N=>N.workout_date));return _.jsx("div",{className:"px-4 pt-4 pb-4 w-full max-w-5xl mx-auto flex flex-col items-center",children:h&&!v?_.jsx("div",{className:"fixed inset-0 flex items-center justify-center",style:{background:"transparent"},children:_.jsxs("div",{className:"flex flex-col items-center gap-4",children:[_.jsx("div",{className:"relative w-12 h-12",children:_.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-blue-500 border-r-blue-500 rounded-full animate-spin"})}),_.jsx("p",{className:"text-white text-center",children:"Загрузка календаря..."})]})}):_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex justify-between items-center mb-6 glass p-2 rounded-xl w-full max-w-xl",children:[_.jsx("button",{onClick:()=>L(-1),className:"p-2 rounded-full border border-transparent text-white hover:border-white active:border-white transition-colors",children:"<"}),_.jsx("h1",{className:"text-xl font-bold text-center capitalize",children:gS(c)}),_.jsx("button",{onClick:()=>L(1),className:"p-2 rounded-full border border-transparent text-white hover:border-white active:border-white transition-colors",children:">"})]}),_.jsx("div",{className:"grid grid-cols-7 gap-3 text-center text-sm text-gray-500 mb-3 w-full max-w-xl",children:j.map(N=>_.jsx("div",{children:N},N))}),_.jsxs("div",{className:"grid grid-cols-7 gap-2 w-full max-w-xl",children:[Array.from({length:D}).map((N,K)=>_.jsx("div",{},`empty-${K}`)),Array.from({length:M},(N,K)=>K+1).map(N=>{const K=N===V.getDate()&&c.getMonth()===V.getMonth()&&c.getFullYear()===V.getFullYear(),F=Hr(new Date(c.getFullYear(),c.getMonth(),N)),Ne=J.has(F);return _.jsxs("div",{onClick:()=>z(N),className:"relative flex items-center justify-center h-10 w-10 sm:h-11 sm:w-11 md:h-12 md:w-12 lg:h-14 lg:w-14 rounded-full cursor-pointer mx-auto overflow-visible",children:[_.jsx("span",{className:`flex items-center justify-center h-8 w-8 sm:h-9 sm:w-9 md:h-10 md:w-10 lg:h-12 lg:w-12 rounded-full border ${K?"bg-blue-600 text-white border-transparent":"text-gray-100 border-transparent hover:border-white active:border-white"} transition-colors`,children:N}),Ne&&_.jsx("div",{className:"pointer-events-none absolute bottom-0 translate-y-1/2 h-1.5 w-1.5 bg-blue-500 rounded-full"})]},N)})]})]})})};function Cl(l,a){const[r,s]=A.useState(l);return A.useEffect(()=>{const u=setTimeout(()=>{s(l)},a);return()=>{clearTimeout(u)}},[l,a]),r}const yS=({set:l,onChange:a})=>{const r=`workout_set_draft:${l.id}`,[s,u]=A.useState(l.weight??""),[c,d]=A.useState(l.reps??""),[h,v]=A.useState(l.is_done),[g,p]=A.useState(!1),b=Cl(s,500),S=Cl(c,500);A.useEffect(()=>{try{const j=localStorage.getItem(r);if(!j)return;const V=JSON.parse(j),z=new Date(l.updated_at).getTime();V.updatedAt>z&&(u(V.weight===null?"":V.weight),d(V.reps??""),v(V.isDone))}catch{}},[]),A.useEffect(()=>{v(l.is_done)},[l.is_done]),A.useEffect(()=>{(async()=>{if(b!==(l.weight??"")||S!==(l.reps??"")){const V={weight:b===""?"":Number(b),reps:S===""?null:S,isDone:h,updatedAt:Date.now()};try{localStorage.setItem(r,JSON.stringify(V))}catch{}p(!0);const{error:z}=await ie.from("workout_sets").update({weight:b===""?null:Number(b),reps:S===""?null:S,updated_at:new Date().toISOString()}).eq("id",l.id);if(z)console.error("Error saving set:",z);else{try{localStorage.removeItem(r)}catch{}a==null||a({...l,weight:b===""?null:Number(b),reps:S===""?null:S,is_done:h,updated_at:new Date().toISOString()})}setTimeout(()=>p(!1),500)}})()},[b,S,l.id,l.weight,l.reps,h,r]),A.useEffect(()=>{const z=b!==""&&b!==0&&b!=="0"&&(S!==""&&S!==null);z&&!h?v(!0):!z&&h&&v(!1)},[b,S,h]);const T=async()=>{const j=!h;v(j),p(!0);try{localStorage.setItem(r,JSON.stringify({weight:s===""?"":Number(s),reps:c===""?null:c,isDone:j,updatedAt:Date.now()}))}catch{}const{error:V}=await ie.from("workout_sets").update({is_done:j,updated_at:new Date().toISOString()}).eq("id",l.id);V&&(console.error("Error updating done status:",V),v(!j));try{localStorage.removeItem(r)}catch{}setTimeout(()=>p(!1),500),a==null||a({...l,is_done:j,updated_at:new Date().toISOString()})},M=h?"bg-green-500":"bg-transparent",D=h?"text-black":"text-inherit";return _.jsxs("div",{className:`relative grid grid-cols-5 gap-2 items-center p-2 rounded-md transition-colors duration-300 ${M}`,children:[_.jsx("div",{className:`col-span-1 text-center font-medium ${D}`,children:l.set_index}),_.jsx("div",{className:"col-span-2",children:_.jsx("input",{type:"number",inputMode:"decimal",step:"0.25",placeholder:"0",value:s,onChange:j=>u(j.target.value),className:`w-full p-1 text-center rounded-md border-gray-600 shadow-sm ${D}`,style:{backgroundColor:h?"#ffffff":"#18181b",color:h?"#0a0a0a":"#fafafa"}})}),_.jsx("div",{className:"col-span-1",children:_.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",placeholder:"0",value:c,onChange:j=>d(j.target.value),className:`w-full p-1 text-center rounded-md border-gray-600 shadow-sm ${D}`,style:{backgroundColor:h?"#ffffff":"#18181b",color:h?"#0a0a0a":"#fafafa"}})}),_.jsx("div",{className:"col-span-1 flex justify-center",children:_.jsx("input",{type:"checkbox",checked:h,onChange:T,className:"h-6 w-6 rounded-sm border border-gray-300 bg-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500",style:{accentColor:"#000000",color:"#0a0a0a"}})}),g&&_.jsx("div",{className:"absolute right-2 top-2 h-2 w-2 bg-blue-500 rounded-full animate-ping"})]})},pS=({restSeconds:l,exerciseId:a,onAdjustRestSeconds:r})=>{const s=a?`rest_timer:${a}`:void 0,u=A.useRef(null),c=A.useRef(l),d=A.useRef({time:l,isActive:!1,endAt:null}),[h,v]=A.useState(()=>{if(!s)return{time:l,isActive:!1,endAt:null};try{const z=localStorage.getItem(s);if(!z)return{time:l,isActive:!1,endAt:null};const L=JSON.parse(z),J=360*60*1e3;if(Date.now()-L.savedAt>J)return localStorage.removeItem(s),{time:l,isActive:!1,endAt:null};if(L.isActive&&L.endAt){const ee=Math.max(0,Math.floor((L.endAt-Date.now())/1e3));return ee>0?{time:ee,isActive:!0,endAt:L.endAt}:(localStorage.removeItem(s),{time:L.restSeconds,isActive:!1,endAt:null})}return{time:L.restSeconds,isActive:!1,endAt:null}}catch(z){return console.error("Error restoring timer state:",z),{time:l,isActive:!1,endAt:null}}}),{time:g,isActive:p,endAt:b}=h,S=A.useCallback((z,L)=>{if(s)try{const J={endAt:z.endAt,isActive:z.isActive,restSeconds:L??d.current.time??l,savedAt:Date.now()};localStorage.setItem(s,JSON.stringify(J))}catch(J){console.error("Error persisting timer:",J)}},[s,l]),T=A.useRef(S);A.useEffect(()=>{T.current=S},[S]),A.useEffect(()=>{d.current={time:g,isActive:p,endAt:b}},[g,p,b]),A.useEffect(()=>{if(!p||!b){u.current&&(window.clearInterval(u.current),u.current=null);return}let z=!1;const L=()=>{if(z)return;const ee=Date.now(),Q=Math.max(0,b-ee),N=Math.floor(Q/1e3);v(K=>({...K,time:N})),N<=0&&(z=!0,v(K=>({...K,isActive:!1,endAt:null,time:l})),u.current&&(window.clearInterval(u.current),u.current=null),s&&localStorage.removeItem(s))};L();const J=window.setInterval(L,1e3);return u.current=J,()=>{z=!0,u.current&&(window.clearInterval(u.current),u.current=null)}},[p,b,s,l]),A.useEffect(()=>{!p&&l!==c.current&&v(z=>({...z,time:l})),c.current=l},[l,p]),A.useEffect(()=>()=>{u.current&&(window.clearInterval(u.current),u.current=null);const{isActive:z,endAt:L}=d.current;z&&L&&T.current({endAt:L,isActive:!0})},[]);const M=()=>{v(z=>{if(z.isActive)return S({endAt:null,isActive:!1},z.time),u.current&&(window.clearInterval(u.current),u.current=null),{time:z.time,isActive:!1,endAt:null};const L=Date.now()+z.time*1e3;return S({endAt:L,isActive:!0},z.time),{time:z.time,isActive:!0,endAt:L}})},D=()=>{v({time:l,isActive:!1,endAt:null}),u.current&&(window.clearInterval(u.current),u.current=null),s&&localStorage.removeItem(s)},j=z=>{v(L=>{const J=Math.max(0,L.time+z);if(J===0)return S({endAt:null,isActive:!1},0),u.current&&(window.clearInterval(u.current),u.current=null),{time:0,isActive:!1,endAt:null};if(L.isActive){const ee=Date.now()+J*1e3;return S({endAt:ee,isActive:!0},J),{time:J,isActive:!0,endAt:ee}}return S({endAt:null,isActive:!1},J),{time:J,isActive:!1,endAt:null}}),r==null||r(z)},V=z=>{const L=Math.floor(z/60),J=z%60;return`${L}:${J<10?"0":""}${J}`};return _.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"flex items-center justify-center gap-4",children:[_.jsx("button",{onClick:()=>j(-30),disabled:g<=0&&!p,className:"btn-glass btn-glass-icon-round btn-glass-secondary",children:"-"}),_.jsx("div",{className:`text-6xl font-mono font-semibold leading-none min-w-[4ch] text-center ${p?"text-blue-500":""}`,children:V(g)}),_.jsx("button",{onClick:()=>j(30),className:"btn-glass btn-glass-icon-round btn-glass-secondary",children:"+"})]}),_.jsxs("div",{className:"mt-4 flex items-center justify-center gap-3",children:[_.jsx("button",{onClick:M,className:`btn-glass btn-glass-icon-sm ${p?"btn-glass-danger":"btn-glass-primary"}`,children:p?"Стоп":"Старт"}),_.jsx("button",{onClick:D,className:"btn-glass btn-glass-icon-sm btn-glass-secondary",children:"Сброс"})]})]})},Dl=({open:l,title:a="Подтвердите действие",description:r,confirmText:s="Подтвердить",cancelText:u="Отмена",variant:c="primary",onConfirm:d,onOpenChange:h})=>{const[v,g]=A.useState(!1);if(A.useEffect(()=>{const b=S=>{l&&S.key==="Escape"&&h(!1)};return window.addEventListener("keydown",b),()=>window.removeEventListener("keydown",b)},[l,h]),!l)return null;const p=async()=>{try{g(!0),await d(),h(!1)}catch{}finally{g(!1)}};return Gg.createPortal(_.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",role:"dialog","aria-modal":"true",children:[_.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>h(!1)}),_.jsxs("div",{className:"relative w-full max-w-md glass card-dark rounded-xl shadow-xl p-5",children:[_.jsxs("div",{className:"mb-3",children:[_.jsx("h2",{className:"text-lg font-semibold text-white",children:a}),r&&_.jsx("p",{className:"mt-1 text-sm",style:{color:"#a1a1aa"},children:r})]}),_.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[_.jsx("button",{type:"button",className:"btn-glass btn-glass-sm btn-glass-secondary",onClick:()=>h(!1),disabled:v,children:u}),_.jsx("button",{type:"button",className:`btn-glass btn-glass-sm ${c==="danger"?"btn-glass-danger":"btn-glass-primary"}`,onClick:p,disabled:v,children:v?"Выполнение...":s})]})]})]}),document.body)},bS=({exercise:l,onUpdateExercise:a,onDeleteExercise:r})=>{var ee;const[s,u]=A.useState(l.name),[c,d]=A.useState(l.sets),[h,v]=A.useState(l.rest_seconds),[g,p]=A.useState(!1),b=A.useRef(null),S=Cl(s,500),T=Cl(h,500),[M,D]=A.useState(!1),j=A.useRef(l.name),V=A.useCallback(()=>{const Q=b.current;Q&&(Q.style.height="auto",Q.style.height=`${Q.scrollHeight}px`)},[]);A.useEffect(()=>{l.name!==j.current&&(u(l.name),j.current=l.name),d(l.sets),v(l.rest_seconds)},[l.id,l.sets,l.rest_seconds]),A.useLayoutEffect(()=>{V()},[V,s]),A.useLayoutEffect(()=>{if(typeof ResizeObserver>"u")return;const Q=b.current;if(!Q)return;const N=new ResizeObserver(()=>{V()});return N.observe(Q),()=>N.disconnect()},[V]),A.useEffect(()=>{(async()=>{if(!(S.trim()===""||S===l.name))try{await ie.from("workout_exercises").update({name:S}).eq("id",l.id);const N={...l,name:S};j.current=S,a(N)}catch(N){console.error("Failed to update exercise name",N)}})()},[S]),A.useEffect(()=>{(async()=>{if(T!==l.rest_seconds)try{await ie.from("workout_exercises").update({rest_seconds:T}).eq("id",l.id);const N={...l,rest_seconds:T};a(N)}catch(N){console.error("Failed to update rest seconds",N)}})()},[T,l,a]);const z=Q=>{v(N=>Math.max(0,N+Q))},L=async Q=>{if(!(Q<1||Q===c||g)){p(!0);try{if(Q>c){const N=Array.from({length:Q-c},(ue,Ye)=>({workout_exercise_id:l.id,set_index:c+Ye+1})),{data:K,error:F}=await ie.from("workout_sets").insert(N).select();if(F)throw F;const Ne=[...l.workout_sets,...K||[]].sort((ue,Ye)=>ue.set_index-Ye.set_index);await ie.from("workout_exercises").update({sets:Q}).eq("id",l.id);const Se={...l,sets:Q,workout_sets:Ne};a(Se)}else{const{error:N}=await ie.from("workout_sets").delete().eq("workout_exercise_id",l.id).gt("set_index",Q);if(N)throw N;const K=l.workout_sets.filter(Ne=>Ne.set_index<=Q);await ie.from("workout_exercises").update({sets:Q}).eq("id",l.id);const F={...l,sets:Q,workout_sets:K};a(F)}d(Q)}catch(N){console.error("Failed to change sets count",N),alert("Не удалось изменить количество подходов")}finally{p(!1)}}},J=async()=>{const{error:Q}=await ie.from("workout_sets").delete().eq("workout_exercise_id",l.id);if(Q){console.error("Failed to delete sets of exercise",Q),alert("Не удалось удалить подходы упражнения. Попробуйте снова.");return}const{error:N}=await ie.from("workout_exercises").delete().eq("id",l.id);if(N){console.error("Failed to delete exercise",N),alert("Не удалось удалить упражнение. Попробуйте снова.");return}r&&r(l.id)};return _.jsxs("div",{className:"glass card-dark p-4 exercise-card",children:[_.jsxs("div",{className:"exercise-card-header mb-3",children:[_.jsx("div",{className:"name-wrap",children:_.jsx("textarea",{value:s,onChange:Q=>u(Q.target.value),ref:b,rows:1,className:"w-full text-base sm:text-lg font-bold text-white whitespace-pre-wrap bg-white/10 hover:bg-white/15 focus:bg-white/10 border border-white/20 hover:border-white/30 focus:border-white/50 focus:ring-2 focus:ring-white/25 focus:outline-none rounded-xl px-4 py-3 min-h-[3rem] resize-none overflow-y-hidden leading-relaxed transition-colors"})}),_.jsx("button",{"aria-label":"Удалить упражнение",className:"delete-btn btn-glass btn-glass-icon btn-glass-outline",onClick:()=>D(!0),type:"button",children:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),_.jsxs("div",{className:"space-y-3",children:[_.jsx("div",{className:"flex justify-center",children:_.jsx(pS,{restSeconds:h,exerciseId:l.id,onAdjustRestSeconds:z})}),_.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm py-4 sm:py-5 px-2 rounded-lg",style:{color:"#a1a1aa",backgroundColor:"rgba(255,255,255,0.02)"},children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("span",{className:"whitespace-nowrap font-medium",children:"Подходы:"}),_.jsxs("div",{className:"inline-flex items-center gap-2",children:[_.jsx("button",{disabled:g||c<=1,onClick:()=>L(c-1),className:"btn-glass btn-glass-icon-round btn-glass-secondary",children:"−"}),_.jsx("span",{className:"min-w-[3ch] text-center text-white font-semibold text-base sm:text-lg",children:c}),_.jsx("button",{disabled:g||c>=30,onClick:()=>L(c+1),className:"btn-glass btn-glass-icon-round btn-glass-secondary",children:"+"})]})]}),((ee=l.reps)==null?void 0:ee.trim())&&_.jsxs("div",{className:"ml-3 flex-1 text-right whitespace-nowrap text-sm sm:text-base font-medium",children:["Повторы: ",l.reps]})]})]}),_.jsxs("div",{className:"space-y-3 pt-2",children:[_.jsxs("div",{className:"grid grid-cols-5 gap-3 text-center text-sm sm:text-base font-semibold px-3 py-3 rounded-lg",style:{color:"#a1a1aa",backgroundColor:"rgba(255,255,255,0.03)"},children:[_.jsx("div",{className:"col-span-1",children:"Подход"}),_.jsx("div",{className:"col-span-2",children:"Вес (кг)"}),_.jsx("div",{className:"col-span-1",children:"Повторы"}),_.jsx("div",{className:"col-span-1",children:"Готово"})]}),_.jsx("div",{className:"space-y-2",children:l.workout_sets.map(Q=>_.jsx(yS,{set:Q,onChange:N=>{const K={...l,workout_sets:l.workout_sets.map(F=>F.id===N.id?N:F)};a(K)}},Q.id))})]}),_.jsx(Dl,{open:M,onOpenChange:D,title:"Удалить упражнение?",description:l.name?`Вы собираетесь удалить упражнение "${l.name}". Действие необратимо.`:"Вы собираетесь удалить упражнение. Действие необратимо.",confirmText:"Удалить",cancelText:"Отмена",variant:"danger",onConfirm:J})]})},At=new Map,qg=3e4,_S=l=>{if(!l)return null;if(/^\d{4}-\d{2}-\d{2}$/.test(l))return l;const a=new Date(l);return Number.isNaN(a.getTime())?null:Hr(a)},wS=()=>{const{date:l}=Ig(),{user:a}=Ha(),r=fa(),s=A.useMemo(()=>_S(l),[l]),u=s?`workout-page:${s}`:"workout-page",[c,d]=Qc({key:u,initialState:{workout:null,exercises:[],templates:[],loading:!0,isCreating:!1,isSelectTemplateOpen:!1,hasInitialData:!1,isAddingExercise:!1,workoutName:"",isSavingWorkoutName:!1,isCardio:!1,isSavingCardio:!1},ttl:1800*1e3}),{workout:h,exercises:v,templates:g,loading:p,isCreating:b,isSelectTemplateOpen:S,hasInitialData:T,isAddingExercise:M,workoutName:D,isSavingWorkoutName:j,isCardio:V,isSavingCardio:z}=c,[L,J]=A.useState(!1),ee=Y=>d(Z=>({...Z,workout:Y,workoutName:(Y==null?void 0:Y.name)??"",isSavingWorkoutName:!1,isCardio:(Y==null?void 0:Y.is_cardio)??!1,isSavingCardio:!1})),Q=Y=>d(Z=>({...Z,exercises:typeof Y=="function"?Y(Z.exercises):Y})),N=Y=>d(Z=>({...Z,templates:typeof Y=="function"?Y(Z.templates):Y})),K=Y=>d(Z=>({...Z,loading:Y})),F=Y=>d(Z=>({...Z,isCreating:Y})),Ne=Y=>d(Z=>({...Z,isSelectTemplateOpen:Y})),Se=Y=>d(Z=>({...Z,hasInitialData:Y})),ue=Y=>d(Z=>({...Z,isAddingExercise:Y})),Ye=Y=>d(Z=>({...Z,workoutName:Y})),_t=Y=>d(Z=>({...Z,isSavingWorkoutName:Y})),at=Y=>d(Z=>({...Z,isCardio:Y})),B=Y=>d(Z=>({...Z,isSavingCardio:Y})),[X,se]=A.useState(!1),[Te,xe]=A.useState(!1),[x,$]=A.useState(D),I=A.useRef(null),P=`scroll:workout:${s??""}`,oe=A.useRef(!1),de=A.useRef(0),ge=A.useCallback(async(Y=!1,Z=!1)=>{if(!a||!s){ee(null),Q([]),K(!1),Se(!0);return}const be=`${a.id}:${s}`,ve=Date.now();if(At.has(be)){const Me=At.get(be),Qe=ve-Me.timestamp;if(Y&&Qe<qg){T||(ee(Me.workout),Q(Me.exercises),K(!1),Se(!0));return}Qe>=qg&&(T||(ee(Me.workout),Q(Me.exercises),Se(!0)),Z=!0)}Z||K(!0);const{data:it,error:Ct}=await ie.from("workouts").select("*").eq("user_id",a.id).eq("workout_date",s).order("created_at",{ascending:!1}).limit(1),pt=(it==null?void 0:it[0])??null;if(Ct)console.error("Error fetching workout:",Ct);else if(pt){ee(pt);const{data:Me,error:Qe}=await ie.from("workout_exercises").select("id, name, sets, reps, rest_seconds, position, workout_id, workout_sets ( id, workout_exercise_id, set_index, weight, reps, is_done, updated_at )").eq("workout_id",pt.id).order("position");if(Qe)console.error("Error fetching exercises:",Qe);else{const Rt=Me||[];Rt.forEach(Wt=>{Wt.workout_sets&&Wt.workout_sets.sort((He,rt)=>He.set_index-rt.set_index)}),Q(Rt),At.set(be,{workout:pt,exercises:Rt,timestamp:ve})}}else ee(null),Q([]),At.set(be,{workout:null,exercises:[],timestamp:ve});const Ke=a?`templates-cache:${a.id}`:void 0;if(Ke)try{const Me=localStorage.getItem(Ke);if(Me){const Qe=JSON.parse(Me);Qe.data&&N(Qe.data)}}catch{}ie.from("workout_templates").select("id, name, created_at, user_id").eq("user_id",a.id).then(({data:Me,error:Qe})=>{if(Qe)console.error("Error fetching templates:",Qe.message);else if(N(Me||[]),Ke)try{localStorage.setItem(Ke,JSON.stringify({ts:Date.now(),data:Me}))}catch{}}),K(!1),Se(!0)},[a,s,T]);A.useEffect(()=>{ge()},[ge]),A.useEffect(()=>{const Y=()=>{document.visibilityState==="visible"&&ge(!0)};return document.addEventListener("visibilitychange",Y),()=>document.removeEventListener("visibilitychange",Y)},[ge]),A.useEffect(()=>{s&&localStorage.setItem("lastWorkoutPath",`/workout/${s}`)},[s]),A.useEffect(()=>{Te&&I.current&&(I.current.focus(),I.current.select())},[Te]),A.useEffect(()=>{if(!s||v.length===0)return;(()=>{try{const Z=localStorage.getItem(P);if(Z){const be=parseInt(Z,10);Number.isNaN(be)||(oe.current=!0,requestAnimationFrame(()=>{requestAnimationFrame(()=>{window.scrollTo({top:be,behavior:"auto"}),de.current=be,setTimeout(()=>{oe.current=!1},100)})}))}}catch(Z){console.error("Error restoring scroll:",Z)}})()},[s,v.length,P]),A.useEffect(()=>{if(!s)return;let Y=!1;const Z=()=>{de.current=window.scrollY,J(window.scrollY>0),!Y&&!oe.current&&(window.requestAnimationFrame(()=>{try{localStorage.setItem(P,String(de.current))}catch{}Y=!1}),Y=!0)};return window.addEventListener("scroll",Z,{passive:!0}),()=>window.removeEventListener("scroll",Z)},[s,P]),A.useEffect(()=>()=>{if(s&&de.current>0)try{localStorage.setItem(P,String(de.current))}catch{}},[s,P]);const ct=Y=>{d(Z=>{const be=Z.exercises.map(ve=>ve.id===Y.id?Y:ve);if(a&&s&&Z.workout){const ve=`${a.id}:${s}`;At.set(ve,{workout:Z.workout,exercises:be,timestamp:Date.now()})}return{...Z,exercises:be}})},Ve=async()=>{if(!(!a||!s||!h||M)){ue(!0);try{const Y=v.length>0?Math.max(...v.map(Me=>typeof Me.position=="number"?Me.position:0))+1:1,{data:Z,error:be}=await ie.from("workout_exercises").insert({workout_id:h.id,name:"",sets:1,reps:"",rest_seconds:150,position:Y}).select("id, name, sets, reps, rest_seconds, position, workout_id");if(be)throw be;const ve=Z==null?void 0:Z[0];if(!ve)throw new Error("Не удалось создать упражнение");const{data:it,error:Ct}=await ie.from("workout_sets").insert({workout_exercise_id:ve.id,set_index:1,weight:null,reps:null,is_done:!1,updated_at:new Date().toISOString()}).select("id, workout_exercise_id, set_index, weight, reps, is_done, updated_at");if(Ct)throw Ct;const pt=it==null?void 0:it[0];if(!pt)throw new Error("Не удалось создать подход");const Ke={...ve,workout_sets:[pt]};d(Me=>{if(!Me.workout)return Me;const Qe=[...Me.exercises,Ke].sort((Rt,Wt)=>Rt.position-Wt.position);if(a&&s){const Rt=`${a.id}:${s}`,Wt=At.get(Rt);Wt&&At.set(Rt,{workout:Wt.workout,exercises:Qe,timestamp:Date.now()})}return{...Me,exercises:Qe}})}catch(Y){console.error("Failed to add exercise:",Y),alert("Не удалось добавить упражнение. Попробуйте снова.")}finally{ue(!1)}}},ha=async()=>{if(!(!a||!s)){F(!0);try{const{data:Y,error:Z}=await ie.from("workouts").insert({user_id:a.id,workout_date:s,name:"Новая тренировка",template_id:null}).select().single();if(Z)throw Z;if(!Y)throw new Error("Не удалось создать тренировку");ee(Y),Q([]),Ye(Y.name);const be=`${a.id}:${s}`;At.set(be,{workout:Y,exercises:[],timestamp:Date.now()})}catch(Y){console.error("Failed to create custom workout:",Y),alert("Не удалось создать тренировку. Попробуйте снова.")}finally{F(!1)}}},$a=async Y=>{if(!(!a||!s)){F(!0);try{const{data:Z}=await ie.from("template_exercises").select("*").eq("template_id",Y.id),{data:be}=await ie.from("workouts").insert({user_id:a.id,workout_date:s,name:Y.name,template_id:Y.id}).select().single();if(!be)throw new Error("Failed to create workout entry.");const ve=(Z||[]).map(Ke=>({workout_id:be.id,name:Ke.name,sets:Ke.sets,reps:Ke.reps,rest_seconds:Ke.rest_seconds,position:Ke.position})),{data:it}=await ie.from("workout_exercises").insert(ve).select();if(!it)throw new Error("Failed to create workout exercises.");const Ct=it.flatMap(Ke=>Array.from({length:Ke.sets},(Me,Qe)=>({workout_exercise_id:Ke.id,set_index:Qe+1})));await ie.from("workout_sets").insert(Ct);const pt=`${a.id}:${s}`;At.delete(pt),await ge()}catch(Z){console.error("Failed to create workout from template:",Z),alert(`Не удалось создать тренировку: ${Z.message}`)}finally{F(!1)}}},Vi=()=>{$(D),xe(!0)},Zr=async()=>{if(!a||!s||!h)return;const Y=x.trim();if(Y.length===0){$(D),xe(!1);return}if(Y===h.name){xe(!1);return}_t(!0);try{const{data:Z,error:be}=await ie.from("workouts").update({name:Y}).eq("id",h.id).select().single();if(be)throw be;if(!Z)throw new Error("Не удалось обновить название тренировки");ee(Z),$(Y),xe(!1);const ve=`${a.id}:${s}`;At.set(ve,{workout:Z,exercises:v,timestamp:Date.now()})}catch(Z){console.error("Failed to update workout name:",Z),alert("Не удалось сохранить название. Попробуйте снова.")}finally{_t(!1)}},hn=()=>{$(D),xe(!1)},Va=async()=>{if(!a||!s||!h)return;const Y=!V;at(Y),B(!0);try{const{data:Z,error:be}=await ie.from("workouts").update({is_cardio:Y}).eq("id",h.id).select().single();if(be)throw be;if(!Z)throw new Error("Не удалось обновить статус кардио");ee(Z);const ve=`${a.id}:${s}`;At.set(ve,{workout:Z,exercises:v,timestamp:Date.now()})}catch(Z){console.error("Failed to update cardio status:",Z),alert("Не удалось сохранить статус кардио."),at(!Y)}finally{B(!1)}},Gi=()=>{h&&se(!0)},Ul=async()=>{if(!h)return;const{error:Y}=await ie.from("workouts").delete().eq("id",h.id);if(Y){console.error("Error deleting workout:",Y),alert("Не удалось удалить тренировку.");return}if(a&&s){const Z=`${a.id}:${s}`;At.delete(Z)}r("/calendar",{state:{removedDate:s}})},Pr=()=>{Ne(!0)},Yi=async Y=>{if(!(!a||!s||!h))try{F(!0);const{data:Z,error:be}=await ie.from("template_exercises").select("*").eq("template_id",Y.id);if(be)throw be;const{data:ve,error:it}=await ie.from("workout_exercises").select("id").eq("workout_id",h.id);if(it)throw it;const Ct=(ve||[]).map(He=>He.id);if(Ct.length>0){const{error:He}=await ie.from("workout_sets").delete().in("workout_exercise_id",Ct);if(He)throw He;const{error:rt}=await ie.from("workout_exercises").delete().eq("workout_id",h.id);if(rt)throw rt}const{error:pt}=await ie.from("workouts").update({name:Y.name,template_id:Y.id}).eq("id",h.id);if(pt)throw pt;const Ke=(Z||[]).map(He=>({workout_id:h.id,name:He.name,sets:He.sets,reps:He.reps,rest_seconds:He.rest_seconds,position:He.position})),{data:Me,error:Qe}=await ie.from("workout_exercises").insert(Ke).select();if(Qe)throw Qe;const Rt=(Me||[]).flatMap(He=>Array.from({length:He.sets},(rt,sn)=>({workout_exercise_id:He.id,set_index:sn+1})));if(Rt.length>0){const{error:He}=await ie.from("workout_sets").insert(Rt);if(He)throw He}const Wt=`${a.id}:${s}`;At.delete(Wt),Ne(!1),await ge()}catch(Z){console.error("Failed to replace workout from template:",Z),alert(`Не удалось изменить тренировку: ${Z.message}`)}finally{F(!1)}},Ga=({className:Y=""})=>_.jsx("button",{onClick:()=>r("/calendar",{state:{refreshDate:s}}),className:`inline-flex items-center justify-center p-2 rounded-full border border-transparent text-white transition-colors z-10 bg-transparent hover:border-white active:border-white focus:outline-none ${Y}`,children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})});return T?s?h?_.jsxs("div",{className:"relative px-4 space-y-4 pt-safe pb-10",children:[p&&!T&&_.jsx("div",{className:"fixed inset-0 flex items-center justify-center",style:{background:"transparent"},children:_.jsxs("div",{className:"flex flex-col items-center gap-4",children:[_.jsx("div",{className:"relative w-12 h-12",children:_.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-blue-500 border-r-blue-500 rounded-full animate-spin"})}),_.jsx("p",{className:"text-white text-center",children:"Загрузка данных..."})]})}),_.jsx("style",{children:`
        @keyframes slideDown {
          from {
            transform: translateY(-100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
        .header-container {
          transition: all 0.3s ease-out;
          position: sticky;
          top: 1rem;
          z-index: 30;
        }
        .header-container.scrolling {
          padding: 0.5rem 1rem;
        }
        .header-container.scrolling input {
          font-size: 1.25rem;
          pointer-events: none;
          cursor: default;
        }
        .header-container.scrolling p {
          font-size: 0.875rem;
        }
      `}),_.jsxs("div",{className:`glass card-dark p-4 flex items-center gap-4 header-container ${L?"scrolling":""}`,children:[_.jsx(Ga,{className:"shrink-0"}),_.jsx("div",{className:"flex-1 text-center",children:Te?_.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[_.jsx("input",{ref:I,type:"text",value:x,onChange:Y=>$(Y.target.value),disabled:j,className:"w-full bg-white/10 text-lg font-bold text-white placeholder:text-gray-500 focus:outline-none focus:bg-white/20 rounded-md px-3 py-2 transition-colors disabled:opacity-70",placeholder:"Название тренировки"}),_.jsxs("div",{className:"flex items-center justify-center gap-2",children:[_.jsx("button",{onClick:Zr,disabled:j,className:"shrink-0 p-1.5 rounded-full hover:bg-green-500/20 transition-colors disabled:opacity-50",title:"Сохранить",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),_.jsx("button",{onClick:hn,disabled:j,className:"shrink-0 p-1.5 rounded-full hover:bg-red-500/20 transition-colors disabled:opacity-50",title:"Отмена",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}):_.jsxs("div",{className:"flex items-center justify-center gap-2",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"text-2xl font-bold text-white",children:D}),_.jsxs("p",{className:"text-lg transition-all duration-300",style:{color:"#a1a1aa"},children:["Дата: ",dc(s)]})]}),_.jsx("button",{onClick:Vi,className:"shrink-0 p-1.5 rounded-full hover:bg-white/10 transition-colors",title:"Редактировать название",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]})})]}),_.jsxs("div",{className:"glass card-dark p-3 rounded-md flex items-center justify-center gap-3",children:[_.jsx("button",{type:"button",onClick:Pr,className:"glass-button-create",children:"Изменить тренировку"}),_.jsx("button",{type:"button",onClick:Gi,className:"glass-button-danger",children:"Удалить"})]}),_.jsx("div",{className:"space-y-4",children:v.map(Y=>_.jsx(bS,{exercise:Y,onUpdateExercise:ct,onDeleteExercise:Z=>{d(be=>{const ve=be.exercises.filter(it=>it.id!==Z);if(a&&s&&be.workout){const it=`${a.id}:${s}`;At.set(it,{workout:be.workout,exercises:ve,timestamp:Date.now()})}return{...be,exercises:ve}})}},Y.id))}),_.jsxs("div",{className:"glass card-dark p-4 rounded-md",children:[_.jsx("p",{className:"text-white text-lg font-bold mb-3 text-center",children:"Было кардио?"}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("button",{onClick:()=>{V&&(at(!1),Va())},disabled:z,className:`flex-1 py-2 px-4 rounded-lg font-medium transition-all duration-200 ease-out ${V?"bg-white/5 text-gray-400 hover:bg-white/10 scale-95":"bg-white/20 text-white shadow-lg scale-100"} disabled:opacity-50`,children:"Нет"}),_.jsx("button",{onClick:()=>{V||(at(!0),Va())},disabled:z,className:`flex-1 py-2 px-4 rounded-lg font-medium transition-all duration-200 ease-out ${V?"bg-white/20 text-white shadow-lg scale-100":"bg-white/5 text-gray-400 hover:bg-white/10 scale-95"} disabled:opacity-50`,children:"Да"})]})]}),_.jsx("div",{children:_.jsx("button",{type:"button",onClick:Ve,disabled:M,className:"btn-glass btn-glass-full btn-glass-md btn-glass-primary disabled:opacity-50",children:M?"Добавление...":"Добавить упражнение"})}),S&&_.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/60 p-4",children:_.jsxs("div",{className:"w-full max-w-md glass card-dark rounded-xl shadow-xl p-5",children:[_.jsxs("div",{className:"flex items-center justify-between mb-3",children:[_.jsx("h2",{className:"text-lg font-semibold",children:"Выберите шаблон"}),_.jsx("button",{onClick:()=>Ne(!1),className:"px-2 py-1 text-sm text-gray-300 hover:text-white",children:"✕"})]}),g.length===0?_.jsx("p",{className:"text-gray-400",children:"Нет доступных шаблонов."}):_.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:g.map(Y=>_.jsx("button",{onClick:()=>Yi(Y),disabled:b,className:"w-full text-left px-4 py-2 rounded-md border border-white/20 text-gray-100 hover:bg-white/5 disabled:opacity-50",children:b?"Применение...":Y.name},Y.id))})]})}),_.jsx(Dl,{open:X,onOpenChange:se,title:"Удалить тренировку?",description:`Вы собираетесь удалить тренировку на ${dc(s)}. Действие необратимо.`,confirmText:"Удалить",cancelText:"Отмена",variant:"danger",onConfirm:Ul})]}):_.jsxs("div",{className:"max-w-lg mx-auto px-4 pt-safe",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[_.jsx(Ga,{}),_.jsxs("h1",{className:"flex-1 text-xl font-bold text-center",children:["Тренировка на ",dc(s)]})]}),_.jsxs("div",{className:"mt-4 p-6 text-center",children:[_.jsx("p",{className:"text-gray-500 mb-4",children:"Тренировка не запланирована."}),g.length>0?_.jsxs(_.Fragment,{children:[_.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Выбрать шаблон"}),_.jsx("div",{className:"space-y-2",children:g.map(Y=>_.jsx("button",{onClick:()=>$a(Y),disabled:b,className:"btn-glass btn-glass-primary btn-glass-full btn-glass-md disabled:opacity-50",children:b?"Создание...":Y.name},Y.id))})]}):_.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[_.jsx("p",{className:"text-gray-400",children:"Сначала создайте шаблон."}),_.jsxs(tv,{to:"/templates/new",className:"btn-glass btn-glass-primary btn-glass-full btn-glass-md",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Создать шаблон"]})]}),_.jsx("div",{className:"mt-4",children:_.jsx("button",{type:"button",onClick:ha,disabled:b,className:"btn-dashed",children:b?"Создание...":"Создать свой день"})})]})]}):null:_.jsx("div",{className:"p-4 text-center",children:"Загрузка..."})},SS=({id:l,onDeleted:a})=>{const[r,s]=Dn.useState(!1),[u,c]=Dn.useState(!1),d=async()=>{if(!r){s(!0);try{const{error:h}=await ie.from("template_exercises").delete().eq("template_id",l);if(h)throw h;const{error:v}=await ie.from("workout_templates").delete().eq("id",l);if(v)throw v;a(l),c(!1)}catch(h){console.error("Error deleting template",h),alert("Не удалось удалить шаблон.")}finally{s(!1)}}};return _.jsxs(_.Fragment,{children:[_.jsx("button",{onClick:()=>c(!0),disabled:r,className:"glass-button-danger",children:r?"...":"Удалить"}),_.jsx(Dl,{open:u,onOpenChange:c,title:"Удалить шаблон?",description:"Шаблон и все его упражнения будут удалены. Действие необратимо.",confirmText:"Удалить",cancelText:"Отмена",variant:"danger",onConfirm:d})]})},ES=()=>{const{user:l}=Ha(),[a,r]=Qc({key:"templates-page",initialState:{templates:[],loading:!0},ttl:1800*1e3}),{templates:s,loading:u}=a,c=g=>{r(p=>({...p,templates:g,loading:!1}))},d=g=>{r(p=>({...p,loading:g}))},h=Dn.useCallback(async()=>{if(!l)return;a.templates.length>0||d(!0);const{data:p,error:b}=await ie.from("workout_templates").select("id, name, created_at, user_id").eq("user_id",l.id).order("created_at",{ascending:!1});b?console.error("Error fetching templates:",b):c(p||[])},[l,a.templates.length]),v=g=>{r(p=>({...p,templates:p.templates.filter(b=>b.id!==g)})),h()};return A.useEffect(()=>{h()},[l,h]),A.useEffect(()=>{const g=ie.channel("workout_templates_changes").on("postgres_changes",{event:"*",schema:"public",table:"workout_templates",filter:l?`user_id=eq.${l.id}`:void 0},()=>{(async()=>{if(!l)return;const{data:p}=await ie.from("workout_templates").select("id, name, created_at, user_id").eq("user_id",l.id).order("created_at",{ascending:!1});c(p||[])})()}).subscribe();return()=>{ie.removeChannel(g)}},[l]),_.jsxs("div",{className:"p-4 pb-24",children:[_.jsxs("div",{className:"relative flex justify-start items-center mb-4",children:[_.jsx("h1",{className:"text-3xl font-bold",children:"Шаблоны"}),_.jsx("div",{className:"absolute right-0 -top-3 h-10 w-28","aria-hidden":"true"})]}),u?_.jsx("div",{className:"fixed inset-0 flex items-center justify-center",style:{background:"transparent"},children:_.jsxs("div",{className:"flex flex-col items-center gap-4",children:[_.jsx("div",{className:"relative w-12 h-12",children:_.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-blue-500 border-r-blue-500 rounded-full animate-spin"})}),_.jsx("p",{className:"text-white text-center",children:"Загрузка шаблонов..."})]})}):s.length===0?_.jsx("div",{className:"mt-4 p-8 text-center glass",children:_.jsx("p",{className:"text-gray-500",children:"У вас еще нет шаблонов. Создайте первый!"})}):_.jsx("div",{className:"space-y-3",children:s.map(g=>_.jsxs("div",{className:"p-4 glass card-dark flex items-center justify-between gap-3",children:[_.jsx("button",{onClick:()=>window.location.hash=`#/templates/${g.id}`,className:"text-left flex-1 hover:opacity-90",children:_.jsx("h2",{className:"font-semibold text-lg text-gray-100",children:g.name})}),_.jsx(SS,{id:g.id,onDeleted:v})]},g.id))}),_.jsx("div",{className:"fixed left-1/2 -translate-x-1/2 bottom-[calc(env(safe-area-inset-bottom)+5.75rem)] z-30",children:_.jsx(tv,{to:"/templates/new",className:"glass-button-create",children:"Создать"})})]})},xS=({open:l,onOpenChange:a,onClose:r})=>{const[s,u]=A.useState(!1);return A.useEffect(()=>{if(l){u(!0);const c=setTimeout(()=>{a(!1),r==null||r()},1e3);return()=>clearTimeout(c)}else u(!1)},[l,a,r]),A.useEffect(()=>{const c=d=>{l&&d.key==="Escape"&&a(!1)};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[l,a]),l?Gg.createPortal(_.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",role:"alert","aria-live":"polite",children:[_.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>a(!1)}),_.jsxs("div",{className:`relative w-full max-w-md glass card-dark rounded-xl shadow-xl p-6 text-center transition-all duration-300 ${s?"opacity-100 scale-100":"opacity-0 scale-95"}`,children:[_.jsx("div",{className:"flex justify-center mb-4",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),_.jsx("h2",{className:"text-xl font-semibold text-white",children:"Шаблон сохранен!"})]})]}),document.body):null},hc=()=>({_tempId:Date.now()+Math.random(),name:"",sets:void 0,reps:"",rest_seconds:void 0}),Hg=()=>{const{id:l}=Ig(),{user:a}=Ha(),r=fa(),[s,u]=A.useState(""),[c,d]=A.useState([hc()]),[h,v]=A.useState(!0),[g,p]=A.useState(!1),[b,S]=A.useState({open:!1}),[T,M]=A.useState(!1),D=Dn.useRef({}),j=Dn.useCallback(N=>{N&&(N.style.height="auto",N.style.height=`${N.scrollHeight}px`)},[]);Dn.useLayoutEffect(()=>{c.forEach(N=>{const K=D.current[N._tempId];K&&j(K)})},[c,j]);const V=({className:N=""})=>_.jsx("button",{type:"button",onClick:()=>r("/templates"),className:`inline-flex items-center justify-center p-2 rounded-full border border-transparent text-white transition-colors bg-transparent hover:border-white active:border-white focus:outline-none ${N}`,"aria-label":"Назад к шаблонам",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})});A.useEffect(()=>{l?(async()=>{v(!0);const[{data:K,error:F},{data:Ne,error:Se}]=await Promise.all([ie.from("workout_templates").select("id, name").eq("id",l).single(),ie.from("template_exercises").select("id, name, sets, reps, rest_seconds, position").eq("template_id",l).order("position")]);if(F){console.error("Error fetching template",F),r("/templates");return}if(Se&&console.error("Error fetching exercises",Se),K){u(K.name);const ue=(Ne||[]).map(Ye=>({...Ye,_tempId:Math.random()}));d(ue.length>0?ue:[hc()])}v(!1)})():v(!1)},[l,r]);const z=(N,K,F)=>{d(Ne=>Ne.map(Se=>{if(Se._tempId===N){const ue={...Se};if(K==="sets"||K==="rest_seconds"){const Ye=parseInt(F,10);ue[K]=isNaN(Ye)?"":Ye}else ue[K]=F;return ue}return Se}))},L=()=>{d([...c,hc()])},J=N=>{S({open:!0,tempId:N})},ee=N=>{d(K=>K.map(F=>F._tempId===N?{...F,_state:"deleting"}:F)),setTimeout(()=>{d(K=>K.filter(F=>F._tempId!==N))},300)},Q=async N=>{if(N.preventDefault(),!a){alert("You must be logged in to save a template.");return}p(!0);try{const{data:K,error:F}=await ie.from("workout_templates").upsert({id:l,name:s,user_id:a.id}).select("id").single();if(F||!K)throw F||new Error("Failed to save template.");const Ne=K.id;if(l){const{error:ue}=await ie.from("template_exercises").delete().eq("template_id",Ne);if(ue)throw ue}const Se=c.filter(ue=>ue.name&&ue.name.trim()!=="").map((ue,Ye)=>({template_id:Ne,name:ue.name,sets:Number(ue.sets)||1,reps:ue.reps||"1",rest_seconds:Number(ue.rest_seconds)||0,position:Ye}));if(Se.length>0){const{error:ue}=await ie.from("template_exercises").insert(Se);if(ue)throw ue}M(!0)}catch(K){console.error("Error saving template:",K);try{const Ne=l?ie.from("workout_templates").select("id").eq("id",l).maybeSingle():ie.from("workout_templates").select("id").eq("user_id",a.id).eq("name",s).order("created_at",{ascending:!1}).limit(1).maybeSingle(),{data:Se}=await Ne;if(Se!=null&&Se.id){const{count:ue}=await ie.from("template_exercises").select("id",{count:"exact",head:!0}).eq("template_id",Se.id);M(!0);return}}catch{}const F=(K.message||"").includes("invalid input syntax for type integer")?'Не удалось сохранить диапазон повторений (например, "10-12"). Пожалуйста, убедитесь, что схема вашей базы данных обновлена. В Supabase SQL Editor нужно выполнить скрипт, чтобы колонка "reps" имела тип TEXT.':`Ошибка сохранения: ${K.message}`;alert(F)}finally{p(!1)}};return h?_.jsx("div",{className:"fixed inset-0 flex items-center justify-center",style:{background:"transparent"},children:_.jsxs("div",{className:"flex flex-col items-center gap-4",children:[_.jsx("div",{className:"relative w-12 h-12",children:_.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-blue-500 border-r-blue-500 rounded-full animate-spin"})}),_.jsx("p",{className:"text-white text-center",children:"Загрузка редактора..."})]})}):_.jsxs("div",{className:"relative p-4 max-w-lg mx-auto",children:[_.jsxs("div",{className:"mb-4 glass card-dark p-4 flex items-center gap-4",children:[_.jsx(V,{className:"shrink-0"}),_.jsx("div",{className:"flex-1 text-center",children:_.jsx("h1",{className:"text-3xl font-bold",children:l?"Редактировать шаблон":"Новый шаблон"})})]}),_.jsxs("form",{onSubmit:Q,className:"space-y-6",style:{paddingBottom:"calc(3rem + env(safe-area-inset-bottom, 0px))"},children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"template-name",className:"block text-sm font-medium",style:{color:"#e4e4e7"},children:"Название дня"}),_.jsx("input",{id:"template-name",type:"text",value:s,onChange:N=>u(N.target.value),placeholder:"Например, Push Day",required:!0,className:"mt-1 block w-full px-3 py-2 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",style:{backgroundColor:"#18181b",color:"#fafafa",border:"1px solid #3f3f46"}})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("h2",{className:"text-xl font-semibold",children:"Упражнения"}),c.map(N=>_.jsx("div",{className:`exercise-card relative transition-all duration-300 ease-in-out ${N._state==="deleting"?"opacity-0 max-h-0 p-0 border-0 m-0":"glass card-dark"}`,children:_.jsxs("div",{className:`${N._state==="deleting"?"hidden":"p-4 space-y-3"}`,children:[_.jsxs("div",{className:"exercise-card-header mb-3",children:[_.jsx("div",{className:"name-wrap",children:_.jsx("textarea",{ref:K=>D.current[N._tempId]=K,placeholder:"Название упражнения",value:N.name||"",onChange:K=>{z(N._tempId,"name",K.target.value),j(K.currentTarget)},rows:1,className:"w-full px-3 py-2 rounded-md resize-none overflow-y-hidden min-h-[2.5rem] leading-relaxed",style:{backgroundColor:"#18181b",color:"#fafafa",border:"1px solid #3f3f46",fontFamily:"inherit"}})}),_.jsx("button",{type:"button",onClick:()=>J(N._tempId),className:"delete-btn btn-glass btn-glass-icon btn-glass-outline","aria-label":"Удалить упражнение",children:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),_.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-xs",style:{color:"#e4e4e7"},children:"Подходы"}),_.jsx("input",{type:"number",inputMode:"numeric",placeholder:"3",value:N.sets??"",onChange:K=>z(N._tempId,"sets",K.target.value),className:"w-full p-1 text-center rounded-md",style:{backgroundColor:"#18181b",color:"#fafafa",border:"1px solid #3f3f46"}})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs",style:{color:"#e4e4e7"},children:"Повторы"}),_.jsx("input",{type:"text",placeholder:"10-12",value:N.reps||"",onChange:K=>z(N._tempId,"reps",K.target.value),className:"w-full p-1 text-center rounded-md",style:{backgroundColor:"#18181b",color:"#fafafa",border:"1px solid #3f3f46"}})]}),_.jsxs("div",{children:[_.jsx("label",{className:"text-xs",style:{color:"#e4e4e7"},children:"Отдых (сек)"}),_.jsx("input",{type:"number",inputMode:"numeric",placeholder:"60",value:N.rest_seconds??"",onChange:K=>z(N._tempId,"rest_seconds",K.target.value),className:"w-full p-1 text-center rounded-md",style:{backgroundColor:"#18181b",color:"#fafafa",border:"1px solid #3f3f46"}})]})]})]})},N._tempId)),_.jsx("button",{type:"button",onClick:L,className:"btn-dashed",children:"+ Добавить упражнение"})]}),_.jsx("button",{type:"submit",disabled:g,className:"btn-glass btn-glass-full btn-glass-md btn-glass-primary",children:g?"Сохранение...":"Сохранить шаблон"})]}),_.jsx(Dl,{open:b.open,onOpenChange:N=>S({open:N}),title:"Удалить упражнение?",description:"Это упражнение будет удалено из шаблона. Действие необратимо.",confirmText:"Удалить",cancelText:"Отмена",variant:"danger",onConfirm:async()=>{b.tempId!==void 0&&ee(b.tempId)}}),_.jsx(xS,{open:T,onOpenChange:M,onClose:()=>r("/templates")})]})},TS=()=>{const{user:l,signOut:a}=Ha(),r=fa(),[s,u]=A.useState(!1),[c,d]=A.useState(!1),h=Dn.useRef(null);Dn.useEffect(()=>{const p=b=>{h.current&&!h.current.contains(b.target)&&d(!1)};if(c)return document.addEventListener("click",p),()=>document.removeEventListener("click",p)},[c]);const v=async()=>{try{await a(),r("/login",{replace:!0})}catch(p){console.error("Error logging out:",p)}},g=async()=>{if(!l||!l.email)return;if(prompt(`Это действие необратимо и удалит все ваши данные.

Для подтверждения введите ваш e-mail: ${l.email}`)!==l.email){alert("Ввод не совпадает. Удаление отменено.");return}u(!0);try{const{error:b}=await ie.rpc("delete_user_account");if(b)throw b;alert("Ваш аккаунт и все данные были успешно удалены."),await a(),r("/login",{replace:!0})}catch(b){console.error("Error deleting account:",b),alert(`Не удалось удалить аккаунт: ${b.message}`)}finally{u(!1)}};return _.jsxs("div",{className:"p-4 space-y-4 max-w-lg mx-auto pt-safe relative",style:{background:"#0a0a0b"},children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h1",{className:"text-3xl font-bold",children:"Профиль"}),_.jsxs("div",{className:"relative",ref:h,children:[_.jsx("button",{onClick:()=>d(!c),className:"p-2 text-white hover:text-gray-300 transition-colors","aria-label":"Меню",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M12 8c1.1 0 2-1 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 1-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 1-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})})}),c&&_.jsx("div",{className:"absolute right-0 mt-2 w-48 glass card-dark rounded-lg shadow-lg z-50",children:_.jsx("button",{onClick:()=>{d(!1),g()},disabled:s,className:"w-full text-left px-4 py-2 text-red-400 hover:bg-red-500/10 disabled:opacity-50 transition-colors rounded-lg",children:s?"Удаление...":"Удалить аккаунт и все данные"})})]})]}),_.jsx("div",{className:"p-4 glass card-dark rounded-lg shadow",children:l&&_.jsxs("p",{children:["Вы вошли как: ",_.jsx("span",{className:"font-semibold",children:l.email})]})}),_.jsx("div",{className:"space-y-2",children:_.jsx("button",{onClick:v,className:"btn-glass btn-glass-logout btn-glass-full btn-glass-md",children:"Выйти"})})]})},OS=()=>_.jsx(ev,{to:"/calendar",replace:!0}),jS=()=>_.jsxs(_b,{children:[_.jsx(fn,{path:"/login",element:_.jsx(dS,{})}),_.jsxs(fn,{path:"/",element:_.jsx(fS,{children:_.jsx(cS,{})}),children:[_.jsx(fn,{index:!0,element:_.jsx(OS,{})}),_.jsx(fn,{path:"calendar",element:_.jsx(vS,{})}),_.jsx(fn,{path:"workout/:date",element:_.jsx(wS,{})}),_.jsx(fn,{path:"templates",element:_.jsx(ES,{})}),_.jsx(fn,{path:"templates/new",element:_.jsx(Hg,{})}),_.jsx(fn,{path:"templates/:id",element:_.jsx(Hg,{})}),_.jsx(fn,{path:"profile",element:_.jsx(TS,{})})]})]}),AS=()=>_.jsx(jb,{children:_.jsx(rS,{children:_.jsx("div",{style:{minHeight:"100svh"},children:_.jsx(jS,{})})})}),CS=async()=>{const{data:l}=await ie.auth.getSession();return l.session?l.session:new Promise(a=>{const{data:{subscription:r}}=ie.auth.onAuthStateChange((s,u)=>{r.unsubscribe(),a(u??null)})})};if("serviceWorker"in navigator){const l=()=>{navigator.serviceWorker.register("/GymLog/sw.js",{scope:"/GymLog/",updateViaCache:"none"}).then(r=>{let s=!1;const u=()=>{s||(s=!0,window.location.reload())},c=()=>{var d;(d=r.waiting)==null||d.postMessage("SKIP_WAITING")};if(navigator.serviceWorker.addEventListener("controllerchange",u),r.waiting){c();return}r.addEventListener("updatefound",()=>{const d=r.installing;d&&d.addEventListener("statechange",()=>{d.state==="installed"&&c()})})}).catch(r=>{console.error("Service worker registration failed:",r)})};window.addEventListener("load",l)}const Pv=document.getElementById("root");if(!Pv)throw new Error("Could not find root element to mount to");const Wv=T0.createRoot(Pv),RS=()=>{Wv.render(_.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background text-foreground",children:_.jsx("p",{children:"Загрузка..."})}))},NS=async()=>{RS();try{await CS()}catch(l){console.error("Не удалось восстановить сессию:",l)}Wv.render(_.jsx(AS,{}))};NS();
