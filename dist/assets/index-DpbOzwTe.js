function _y(l,a){for(var r=0;r<a.length;r++){const i=a[r];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in l)){const c=Object.getOwnPropertyDescriptor(i,o);c&&Object.defineProperty(l,o,c.get?c:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();function Bc(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function Zg(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var a=l.default;if(typeof a=="function"){var r=function i(){return this instanceof i?Reflect.construct(a,arguments,this.constructor):a.apply(this,arguments)};r.prototype=a.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(l).forEach(function(i){var o=Object.getOwnPropertyDescriptor(l,i);Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:function(){return l[i]}})}),r}var nc={exports:{}},Br={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm;function xy(){if(Pm)return Br;Pm=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function r(i,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:l,type:i,key:f,ref:o!==void 0?o:null,props:c}}return Br.Fragment=a,Br.jsx=r,Br.jsxs=r,Br}var Wm;function Sy(){return Wm||(Wm=1,nc.exports=xy()),nc.exports}var v=Sy(),ac={exports:{}},qr={},sc={exports:{}},rc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function Ey(){return Fm||(Fm=1,(function(l){function a(L,P){var ce=L.length;L.push(P);e:for(;0<ce;){var ke=ce-1>>>1,Ce=L[ke];if(0<o(Ce,P))L[ke]=P,L[ce]=Ce,ce=ke;else break e}}function r(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var P=L[0],ce=L.pop();if(ce!==P){L[0]=ce;e:for(var ke=0,Ce=L.length,T=Ce>>>1;ke<T;){var V=2*(ke+1)-1,W=L[V],F=V+1,fe=L[F];if(0>o(W,ce))F<Ce&&0>o(fe,W)?(L[ke]=fe,L[F]=ce,ke=F):(L[ke]=W,L[V]=ce,ke=V);else if(F<Ce&&0>o(fe,ce))L[ke]=fe,L[F]=ce,ke=F;else break e}}return P}function o(L,P){var ce=L.sortIndex-P.sortIndex;return ce!==0?ce:L.id-P.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;l.unstable_now=function(){return c.now()}}else{var f=Date,h=f.now();l.unstable_now=function(){return f.now()-h}}var g=[],p=[],b=1,w=null,_=3,O=!1,C=!1,N=!1,S=!1,B=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function K(L){for(var P=r(p);P!==null;){if(P.callback===null)i(p);else if(P.startTime<=L)i(p),P.sortIndex=P.expirationTime,a(g,P);else break;P=r(p)}}function te(L){if(N=!1,K(L),!C)if(r(g)!==null)C=!0,Q||(Q=!0,Se());else{var P=r(p);P!==null&&Qe(te,P.startTime-L)}}var Q=!1,q=-1,J=5,I=-1;function X(){return S?!0:!(l.unstable_now()-I<J)}function ve(){if(S=!1,Q){var L=l.unstable_now();I=L;var P=!0;try{e:{C=!1,N&&(N=!1,A(q),q=-1),O=!0;var ce=_;try{t:{for(K(L),w=r(g);w!==null&&!(w.expirationTime>L&&X());){var ke=w.callback;if(typeof ke=="function"){w.callback=null,_=w.priorityLevel;var Ce=ke(w.expirationTime<=L);if(L=l.unstable_now(),typeof Ce=="function"){w.callback=Ce,K(L),P=!0;break t}w===r(g)&&i(g),K(L)}else i(g);w=r(g)}if(w!==null)P=!0;else{var T=r(p);T!==null&&Qe(te,T.startTime-L),P=!1}}break e}finally{w=null,_=ce,O=!1}P=void 0}}finally{P?Se():Q=!1}}}var Se;if(typeof R=="function")Se=function(){R(ve)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,Ee=Ne.port2;Ne.port1.onmessage=ve,Se=function(){Ee.postMessage(null)}}else Se=function(){B(ve,0)};function Qe(L,P){q=B(function(){L(l.unstable_now())},P)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(L){L.callback=null},l.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<L?Math.floor(1e3/L):5},l.unstable_getCurrentPriorityLevel=function(){return _},l.unstable_next=function(L){switch(_){case 1:case 2:case 3:var P=3;break;default:P=_}var ce=_;_=P;try{return L()}finally{_=ce}},l.unstable_requestPaint=function(){S=!0},l.unstable_runWithPriority=function(L,P){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ce=_;_=L;try{return P()}finally{_=ce}},l.unstable_scheduleCallback=function(L,P,ce){var ke=l.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ke+ce:ke):ce=ke,L){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=ce+Ce,L={id:b++,callback:P,priorityLevel:L,startTime:ce,expirationTime:Ce,sortIndex:-1},ce>ke?(L.sortIndex=ce,a(p,L),r(g)===null&&L===r(p)&&(N?(A(q),q=-1):N=!0,Qe(te,ce-ke))):(L.sortIndex=Ce,a(g,L),C||O||(C=!0,Q||(Q=!0,Se()))),L},l.unstable_shouldYield=X,l.unstable_wrapCallback=function(L){var P=_;return function(){var ce=_;_=P;try{return L.apply(this,arguments)}finally{_=ce}}}})(rc)),rc}var eg;function jy(){return eg||(eg=1,sc.exports=Ey()),sc.exports}var ic={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg;function Ty(){if(tg)return he;tg=1;var l=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),_=Symbol.iterator;function O(T){return T===null||typeof T!="object"?null:(T=_&&T[_]||T["@@iterator"],typeof T=="function"?T:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,S={};function B(T,V,W){this.props=T,this.context=V,this.refs=S,this.updater=W||C}B.prototype.isReactComponent={},B.prototype.setState=function(T,V){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,V,"setState")},B.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function A(){}A.prototype=B.prototype;function R(T,V,W){this.props=T,this.context=V,this.refs=S,this.updater=W||C}var K=R.prototype=new A;K.constructor=R,N(K,B.prototype),K.isPureReactComponent=!0;var te=Array.isArray;function Q(){}var q={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function I(T,V,W){var F=W.ref;return{$$typeof:l,type:T,key:V,ref:F!==void 0?F:null,props:W}}function X(T,V){return I(T.type,V,T.props)}function ve(T){return typeof T=="object"&&T!==null&&T.$$typeof===l}function Se(T){var V={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(W){return V[W]})}var Ne=/\/+/g;function Ee(T,V){return typeof T=="object"&&T!==null&&T.key!=null?Se(""+T.key):V.toString(36)}function Qe(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Q,Q):(T.status="pending",T.then(function(V){T.status==="pending"&&(T.status="fulfilled",T.value=V)},function(V){T.status==="pending"&&(T.status="rejected",T.reason=V)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function L(T,V,W,F,fe){var ge=typeof T;(ge==="undefined"||ge==="boolean")&&(T=null);var Te=!1;if(T===null)Te=!0;else switch(ge){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(T.$$typeof){case l:case a:Te=!0;break;case b:return Te=T._init,L(Te(T._payload),V,W,F,fe)}}if(Te)return fe=fe(T),Te=F===""?"."+Ee(T,0):F,te(fe)?(W="",Te!=null&&(W=Te.replace(Ne,"$&/")+"/"),L(fe,V,W,"",function(va){return va})):fe!=null&&(ve(fe)&&(fe=X(fe,W+(fe.key==null||T&&T.key===fe.key?"":(""+fe.key).replace(Ne,"$&/")+"/")+Te)),V.push(fe)),1;Te=0;var et=F===""?".":F+":";if(te(T))for(var Ge=0;Ge<T.length;Ge++)F=T[Ge],ge=et+Ee(F,Ge),Te+=L(F,V,W,ge,fe);else if(Ge=O(T),typeof Ge=="function")for(T=Ge.call(T),Ge=0;!(F=T.next()).done;)F=F.value,ge=et+Ee(F,Ge++),Te+=L(F,V,W,ge,fe);else if(ge==="object"){if(typeof T.then=="function")return L(Qe(T),V,W,F,fe);throw V=String(T),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Te}function P(T,V,W){if(T==null)return T;var F=[],fe=0;return L(T,F,"","",function(ge){return V.call(W,ge,fe++)}),F}function ce(T){if(T._status===-1){var V=T._result;V=V(),V.then(function(W){(T._status===0||T._status===-1)&&(T._status=1,T._result=W)},function(W){(T._status===0||T._status===-1)&&(T._status=2,T._result=W)}),T._status===-1&&(T._status=0,T._result=V)}if(T._status===1)return T._result.default;throw T._result}var ke=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},Ce={map:P,forEach:function(T,V,W){P(T,function(){V.apply(this,arguments)},W)},count:function(T){var V=0;return P(T,function(){V++}),V},toArray:function(T){return P(T,function(V){return V})||[]},only:function(T){if(!ve(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return he.Activity=w,he.Children=Ce,he.Component=B,he.Fragment=r,he.Profiler=o,he.PureComponent=R,he.StrictMode=i,he.Suspense=g,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,he.__COMPILER_RUNTIME={__proto__:null,c:function(T){return q.H.useMemoCache(T)}},he.cache=function(T){return function(){return T.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(T,V,W){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var F=N({},T.props),fe=T.key;if(V!=null)for(ge in V.key!==void 0&&(fe=""+V.key),V)!J.call(V,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&V.ref===void 0||(F[ge]=V[ge]);var ge=arguments.length-2;if(ge===1)F.children=W;else if(1<ge){for(var Te=Array(ge),et=0;et<ge;et++)Te[et]=arguments[et+2];F.children=Te}return I(T.type,fe,F)},he.createContext=function(T){return T={$$typeof:f,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:c,_context:T},T},he.createElement=function(T,V,W){var F,fe={},ge=null;if(V!=null)for(F in V.key!==void 0&&(ge=""+V.key),V)J.call(V,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(fe[F]=V[F]);var Te=arguments.length-2;if(Te===1)fe.children=W;else if(1<Te){for(var et=Array(Te),Ge=0;Ge<Te;Ge++)et[Ge]=arguments[Ge+2];fe.children=et}if(T&&T.defaultProps)for(F in Te=T.defaultProps,Te)fe[F]===void 0&&(fe[F]=Te[F]);return I(T,ge,fe)},he.createRef=function(){return{current:null}},he.forwardRef=function(T){return{$$typeof:h,render:T}},he.isValidElement=ve,he.lazy=function(T){return{$$typeof:b,_payload:{_status:-1,_result:T},_init:ce}},he.memo=function(T,V){return{$$typeof:p,type:T,compare:V===void 0?null:V}},he.startTransition=function(T){var V=q.T,W={};q.T=W;try{var F=T(),fe=q.S;fe!==null&&fe(W,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(Q,ke)}catch(ge){ke(ge)}finally{V!==null&&W.types!==null&&(V.types=W.types),q.T=V}},he.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},he.use=function(T){return q.H.use(T)},he.useActionState=function(T,V,W){return q.H.useActionState(T,V,W)},he.useCallback=function(T,V){return q.H.useCallback(T,V)},he.useContext=function(T){return q.H.useContext(T)},he.useDebugValue=function(){},he.useDeferredValue=function(T,V){return q.H.useDeferredValue(T,V)},he.useEffect=function(T,V){return q.H.useEffect(T,V)},he.useEffectEvent=function(T){return q.H.useEffectEvent(T)},he.useId=function(){return q.H.useId()},he.useImperativeHandle=function(T,V,W){return q.H.useImperativeHandle(T,V,W)},he.useInsertionEffect=function(T,V){return q.H.useInsertionEffect(T,V)},he.useLayoutEffect=function(T,V){return q.H.useLayoutEffect(T,V)},he.useMemo=function(T,V){return q.H.useMemo(T,V)},he.useOptimistic=function(T,V){return q.H.useOptimistic(T,V)},he.useReducer=function(T,V,W){return q.H.useReducer(T,V,W)},he.useRef=function(T){return q.H.useRef(T)},he.useState=function(T){return q.H.useState(T)},he.useSyncExternalStore=function(T,V,W){return q.H.useSyncExternalStore(T,V,W)},he.useTransition=function(){return q.H.useTransition()},he.version="19.2.0",he}var ng;function qc(){return ng||(ng=1,ic.exports=Ty()),ic.exports}var lc={exports:{}},wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag;function Oy(){if(ag)return wt;ag=1;var l=qc();function a(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(a(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,p,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:p,implementation:b}}var f=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,wt.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return c(g,p,null,b)},wt.flushSync=function(g){var p=f.T,b=i.p;try{if(f.T=null,i.p=2,g)return g()}finally{f.T=p,i.p=b,i.d.f()}},wt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(g,p))},wt.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},wt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,w=h(b,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,O=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?i.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:w,integrity:_,fetchPriority:O}):b==="script"&&i.d.X(g,{crossOrigin:w,integrity:_,fetchPriority:O,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},wt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=h(p.as,p.crossOrigin);i.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(g)},wt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,w=h(b,p.crossOrigin);i.d.L(g,b,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},wt.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=h(p.as,p.crossOrigin);i.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(g)},wt.requestFormReset=function(g){i.d.r(g)},wt.unstable_batchedUpdates=function(g,p){return g(p)},wt.useFormState=function(g,p,b){return f.H.useFormState(g,p,b)},wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},wt.version="19.2.0",wt}var sg;function Pg(){if(sg)return lc.exports;sg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),lc.exports=Oy(),lc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rg;function Ay(){if(rg)return qr;rg=1;var l=jy(),a=qc(),r=Pg();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(i(188))}function p(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(i(188));return t!==e?null:e}for(var n=e,s=t;;){var u=n.return;if(u===null)break;var d=u.alternate;if(d===null){if(s=u.return,s!==null){n=s;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===n)return g(u),e;if(d===s)return g(u),t;d=d.sibling}throw Error(i(188))}if(n.return!==s.return)n=u,s=d;else{for(var m=!1,y=u.child;y;){if(y===n){m=!0,n=u,s=d;break}if(y===s){m=!0,s=u,n=d;break}y=y.sibling}if(!m){for(y=d.child;y;){if(y===n){m=!0,n=d,s=u;break}if(y===s){m=!0,s=d,n=u;break}y=y.sibling}if(!m)throw Error(i(189))}}if(n.alternate!==s)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,_=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),R=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function Se(e){return e===null||typeof e!="object"?null:(e=ve&&e[ve]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Symbol.for("react.client.reference");function Ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ne?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case B:return"Profiler";case S:return"StrictMode";case te:return"Suspense";case Q:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case C:return"Portal";case R:return e.displayName||"Context";case A:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return t=e.displayName||null,t!==null?t:Ee(e.type)||"Memo";case J:t=e._payload,e=e._init;try{return Ee(e(t))}catch{}}return null}var Qe=Array.isArray,L=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},ke=[],Ce=-1;function T(e){return{current:e}}function V(e){0>Ce||(e.current=ke[Ce],ke[Ce]=null,Ce--)}function W(e,t){Ce++,ke[Ce]=e.current,e.current=t}var F=T(null),fe=T(null),ge=T(null),Te=T(null);function et(e,t){switch(W(ge,t),W(fe,e),W(F,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?wm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=wm(t),e=_m(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(F),W(F,e)}function Ge(){V(F),V(fe),V(ge)}function va(e){e.memoizedState!==null&&W(Te,e);var t=F.current,n=_m(t,e.type);t!==n&&(W(fe,e),W(F,n))}function Ya(e){fe.current===e&&(V(F),V(fe)),Te.current===e&&(V(Te),Ur._currentValue=ce)}var Ka,gn;function Rt(e){if(Ka===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ka=t&&t[1]||"",gn=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ka+e+gn}var pn=!1;function ya(e,t){if(!e||pn)return"";pn=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(M){var z=M}Reflect.construct(e,[],G)}else{try{G.call()}catch(M){z=M}e.call(G.prototype)}}else{try{throw Error()}catch(M){z=M}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(M){if(M&&z&&typeof M.stack=="string")return[M.stack,z.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=s.DetermineComponentFrameRoot(),m=d[0],y=d[1];if(m&&y){var x=m.split(`
`),U=y.split(`
`);for(u=s=0;s<x.length&&!x[s].includes("DetermineComponentFrameRoot");)s++;for(;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;if(s===x.length||u===U.length)for(s=x.length-1,u=U.length-1;1<=s&&0<=u&&x[s]!==U[u];)u--;for(;1<=s&&0<=u;s--,u--)if(x[s]!==U[u]){if(s!==1||u!==1)do if(s--,u--,0>u||x[s]!==U[u]){var H=`
`+x[s].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=s&&0<=u);break}}}finally{pn=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Rt(n):""}function vn(e,t){switch(e.tag){case 26:case 27:case 5:return Rt(e.type);case 16:return Rt("Lazy");case 13:return e.child!==t&&t!==null?Rt("Suspense Fallback"):Rt("Suspense");case 19:return Rt("SuspenseList");case 0:case 15:return ya(e.type,!1);case 11:return ya(e.type.render,!1);case 1:return ya(e.type,!0);case 31:return Rt("Activity");default:return""}}function Fr(e){try{var t="",n=null;do t+=vn(e,n),n=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Ks=Object.prototype.hasOwnProperty,Is=l.unstable_scheduleCallback,Qs=l.unstable_cancelCallback,ql=l.unstable_shouldYield,Hl=l.unstable_requestPaint,St=l.unstable_now,ei=l.unstable_getCurrentPriorityLevel,ti=l.unstable_ImmediatePriority,ni=l.unstable_UserBlockingPriority,Ia=l.unstable_NormalPriority,$l=l.unstable_LowPriority,ai=l.unstable_IdlePriority,si=l.log,Y=l.unstable_setDisableYieldValue,Z=null,re=null;function ie(e){if(typeof si=="function"&&Y(e),re&&typeof re.setStrictMode=="function")try{re.setStrictMode(Z,e)}catch{}}var de=Math.clz32?Math.clz32:Xe,Ye=Math.log,qe=Math.LN2;function Xe(e){return e>>>=0,e===0?32:31-(Ye(e)/qe|0)|0}var Re=256,He=262144,bt=4194304;function ht(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ze(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var u=0,d=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var y=s&134217727;return y!==0?(s=y&~d,s!==0?u=ht(s):(m&=y,m!==0?u=ht(m):n||(n=y&~e,n!==0&&(u=ht(n))))):(y=s&~d,y!==0?u=ht(y):m!==0?u=ht(m):n||(n=s&~e,n!==0&&(u=ht(n)))),u===0?0:t!==0&&t!==u&&(t&d)===0&&(d=u&-u,n=t&-t,d>=n||d===32&&(n&4194048)!==0)?t:u}function tn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Vl(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ed(){var e=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),e}function Gl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Js(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function uv(e,t,n,s,u,d){var m=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var y=e.entanglements,x=e.expirationTimes,U=e.hiddenUpdates;for(n=m&~n;0<n;){var H=31-de(n),G=1<<H;y[H]=0,x[H]=-1;var z=U[H];if(z!==null)for(U[H]=null,H=0;H<z.length;H++){var M=z[H];M!==null&&(M.lane&=-536870913)}n&=~G}s!==0&&td(e,s,0),d!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=d&~(m&~t))}function td(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-de(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&261930}function nd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-de(n),u=1<<s;u&t|e[s]&t&&(e[s]|=t),n&=~u}}function ad(e,t){var n=t&-t;return n=(n&42)!==0?1:Yl(n),(n&(e.suspendedLanes|t))!==0?0:n}function Yl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Kl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function sd(){var e=P.p;return e!==0?e:(e=window.event,e===void 0?32:Ym(e.type))}function rd(e,t){var n=P.p;try{return P.p=e,t()}finally{P.p=n}}var qn=Math.random().toString(36).slice(2),mt="__reactFiber$"+qn,jt="__reactProps$"+qn,Qa="__reactContainer$"+qn,Il="__reactEvents$"+qn,cv="__reactListeners$"+qn,dv="__reactHandles$"+qn,id="__reactResources$"+qn,Xs="__reactMarker$"+qn;function Ql(e){delete e[mt],delete e[jt],delete e[Il],delete e[cv],delete e[dv]}function Ja(e){var t=e[mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qa]||n[mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Am(e);e!==null;){if(n=e[mt])return n;e=Am(e)}return t}e=n,n=e.parentNode}return null}function Xa(e){if(e=e[mt]||e[Qa]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Zs(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Za(e){var t=e[id];return t||(t=e[id]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function dt(e){e[Xs]=!0}var ld=new Set,od={};function ba(e,t){Pa(e,t),Pa(e+"Capture",t)}function Pa(e,t){for(od[e]=t,e=0;e<t.length;e++)ld.add(t[e])}var fv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ud={},cd={};function hv(e){return Ks.call(cd,e)?!0:Ks.call(ud,e)?!1:fv.test(e)?cd[e]=!0:(ud[e]=!0,!1)}function ri(e,t,n){if(hv(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function ii(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function yn(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mv(e,t,n){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,d=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(m){n=""+m,d.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(m){n=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jl(e){if(!e._valueTracker){var t=dd(e)?"checked":"value";e._valueTracker=mv(e,t,""+e[t])}}function fd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=dd(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function li(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gv=/[\n"\\]/g;function Yt(e){return e.replace(gv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Xl(e,t,n,s,u,d,m,y){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gt(t)):e.value!==""+Gt(t)&&(e.value=""+Gt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Zl(e,m,Gt(t)):n!=null?Zl(e,m,Gt(n)):s!=null&&e.removeAttribute("value"),u==null&&d!=null&&(e.defaultChecked=!!d),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+Gt(y):e.removeAttribute("name")}function hd(e,t,n,s,u,d,m,y){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||n!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Jl(e);return}n=n!=null?""+Gt(n):"",t=t!=null?""+Gt(t):n,y||t===e.value||(e.value=t),e.defaultValue=t}s=s??u,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=y?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Jl(e)}function Zl(e,t,n){t==="number"&&li(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Wa(e,t,n,s){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Gt(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function md(e,t,n){if(t!=null&&(t=""+Gt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Gt(n):""}function gd(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(i(92));if(Qe(s)){if(1<s.length)throw Error(i(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=Gt(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s),Jl(e)}function Fa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pd(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||pv.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function vd(e,t,n){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var u in t)s=t[u],t.hasOwnProperty(u)&&n[u]!==s&&pd(e,u,s)}else for(var d in t)t.hasOwnProperty(d)&&pd(e,d,t[d])}function Pl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oi(e){return yv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function bn(){}var Wl=null;function Fl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var es=null,ts=null;function yd(e){var t=Xa(e);if(t&&(e=t.stateNode)){var n=e[jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Xl(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var u=s[jt]||null;if(!u)throw Error(i(90));Xl(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&fd(s)}break e;case"textarea":md(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Wa(e,!!n.multiple,t,!1)}}}var eo=!1;function bd(e,t,n){if(eo)return e(t,n);eo=!0;try{var s=e(t);return s}finally{if(eo=!1,(es!==null||ts!==null)&&(Xi(),es&&(t=es,e=ts,ts=es=null,yd(t),e)))for(t=0;t<e.length;t++)yd(e[t])}}function Ps(e,t){var n=e.stateNode;if(n===null)return null;var s=n[jt]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(i(231,t,typeof n));return n}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),to=!1;if(wn)try{var Ws={};Object.defineProperty(Ws,"passive",{get:function(){to=!0}}),window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch{to=!1}var Hn=null,no=null,ui=null;function wd(){if(ui)return ui;var e,t=no,n=t.length,s,u="value"in Hn?Hn.value:Hn.textContent,d=u.length;for(e=0;e<n&&t[e]===u[e];e++);var m=n-e;for(s=1;s<=m&&t[n-s]===u[d-s];s++);return ui=u.slice(e,1<s?1-s:void 0)}function ci(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function di(){return!0}function _d(){return!1}function Tt(e){function t(n,s,u,d,m){this._reactName=n,this._targetInst=u,this.type=s,this.nativeEvent=d,this.target=m,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(n=e[y],this[y]=n?n(d):d[y]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?di:_d,this.isPropagationStopped=_d,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),t}var wa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=Tt(wa),Fs=w({},wa,{view:0,detail:0}),bv=Tt(Fs),ao,so,er,hi=w({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:io,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==er&&(er&&e.type==="mousemove"?(ao=e.screenX-er.screenX,so=e.screenY-er.screenY):so=ao=0,er=e),ao)},movementY:function(e){return"movementY"in e?e.movementY:so}}),xd=Tt(hi),wv=w({},hi,{dataTransfer:0}),_v=Tt(wv),xv=w({},Fs,{relatedTarget:0}),ro=Tt(xv),Sv=w({},wa,{animationName:0,elapsedTime:0,pseudoElement:0}),Ev=Tt(Sv),jv=w({},wa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tv=Tt(jv),Ov=w({},wa,{data:0}),Sd=Tt(Ov),Av={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kv[e])?!!t[e]:!1}function io(){return Cv}var Rv=w({},Fs,{key:function(e){if(e.key){var t=Av[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ci(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:io,charCode:function(e){return e.type==="keypress"?ci(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ci(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dv=Tt(Rv),Uv=w({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ed=Tt(Uv),zv=w({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:io}),Mv=Tt(zv),Lv=w({},wa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bv=Tt(Lv),qv=w({},hi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hv=Tt(qv),$v=w({},wa,{newState:0,oldState:0}),Vv=Tt($v),Gv=[9,13,27,32],lo=wn&&"CompositionEvent"in window,tr=null;wn&&"documentMode"in document&&(tr=document.documentMode);var Yv=wn&&"TextEvent"in window&&!tr,jd=wn&&(!lo||tr&&8<tr&&11>=tr),Td=" ",Od=!1;function Ad(e,t){switch(e){case"keyup":return Gv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ns=!1;function Kv(e,t){switch(e){case"compositionend":return Nd(t);case"keypress":return t.which!==32?null:(Od=!0,Td);case"textInput":return e=t.data,e===Td&&Od?null:e;default:return null}}function Iv(e,t){if(ns)return e==="compositionend"||!lo&&Ad(e,t)?(e=wd(),ui=no=Hn=null,ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jd&&t.locale!=="ko"?null:t.data;default:return null}}var Qv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qv[e.type]:t==="textarea"}function Cd(e,t,n,s){es?ts?ts.push(s):ts=[s]:es=s,t=nl(t,"onChange"),0<t.length&&(n=new fi("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var nr=null,ar=null;function Jv(e){mm(e,0)}function mi(e){var t=Zs(e);if(fd(t))return e}function Rd(e,t){if(e==="change")return t}var Dd=!1;if(wn){var oo;if(wn){var uo="oninput"in document;if(!uo){var Ud=document.createElement("div");Ud.setAttribute("oninput","return;"),uo=typeof Ud.oninput=="function"}oo=uo}else oo=!1;Dd=oo&&(!document.documentMode||9<document.documentMode)}function zd(){nr&&(nr.detachEvent("onpropertychange",Md),ar=nr=null)}function Md(e){if(e.propertyName==="value"&&mi(ar)){var t=[];Cd(t,ar,e,Fl(e)),bd(Jv,t)}}function Xv(e,t,n){e==="focusin"?(zd(),nr=t,ar=n,nr.attachEvent("onpropertychange",Md)):e==="focusout"&&zd()}function Zv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mi(ar)}function Pv(e,t){if(e==="click")return mi(t)}function Wv(e,t){if(e==="input"||e==="change")return mi(t)}function Fv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:Fv;function sr(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var u=n[s];if(!Ks.call(t,u)||!Dt(e[u],t[u]))return!1}return!0}function Ld(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bd(e,t){var n=Ld(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ld(n)}}function qd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?qd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=li(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=li(e.document)}return t}function co(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var e0=wn&&"documentMode"in document&&11>=document.documentMode,as=null,fo=null,rr=null,ho=!1;function $d(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ho||as==null||as!==li(s)||(s=as,"selectionStart"in s&&co(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),rr&&sr(rr,s)||(rr=s,s=nl(fo,"onSelect"),0<s.length&&(t=new fi("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=as)))}function _a(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ss={animationend:_a("Animation","AnimationEnd"),animationiteration:_a("Animation","AnimationIteration"),animationstart:_a("Animation","AnimationStart"),transitionrun:_a("Transition","TransitionRun"),transitionstart:_a("Transition","TransitionStart"),transitioncancel:_a("Transition","TransitionCancel"),transitionend:_a("Transition","TransitionEnd")},mo={},Vd={};wn&&(Vd=document.createElement("div").style,"AnimationEvent"in window||(delete ss.animationend.animation,delete ss.animationiteration.animation,delete ss.animationstart.animation),"TransitionEvent"in window||delete ss.transitionend.transition);function xa(e){if(mo[e])return mo[e];if(!ss[e])return e;var t=ss[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Vd)return mo[e]=t[n];return e}var Gd=xa("animationend"),Yd=xa("animationiteration"),Kd=xa("animationstart"),t0=xa("transitionrun"),n0=xa("transitionstart"),a0=xa("transitioncancel"),Id=xa("transitionend"),Qd=new Map,go="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");go.push("scrollEnd");function nn(e,t){Qd.set(e,t),ba(t,[e])}var gi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Kt=[],rs=0,po=0;function pi(){for(var e=rs,t=po=rs=0;t<e;){var n=Kt[t];Kt[t++]=null;var s=Kt[t];Kt[t++]=null;var u=Kt[t];Kt[t++]=null;var d=Kt[t];if(Kt[t++]=null,s!==null&&u!==null){var m=s.pending;m===null?u.next=u:(u.next=m.next,m.next=u),s.pending=u}d!==0&&Jd(n,u,d)}}function vi(e,t,n,s){Kt[rs++]=e,Kt[rs++]=t,Kt[rs++]=n,Kt[rs++]=s,po|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function vo(e,t,n,s){return vi(e,t,n,s),yi(e)}function Sa(e,t){return vi(e,null,null,t),yi(e)}function Jd(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var u=!1,d=e.return;d!==null;)d.childLanes|=n,s=d.alternate,s!==null&&(s.childLanes|=n),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(u=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,u&&t!==null&&(u=31-de(n),e=d.hiddenUpdates,s=e[u],s===null?e[u]=[t]:s.push(t),t.lane=n|536870912),d):null}function yi(e){if(50<Or)throw Or=0,Tu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var is={};function s0(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,n,s){return new s0(e,t,n,s)}function yo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _n(e,t){var n=e.alternate;return n===null?(n=Ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Xd(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function bi(e,t,n,s,u,d){var m=0;if(s=e,typeof e=="function")yo(e)&&(m=1);else if(typeof e=="string")m=uy(e,n,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case I:return e=Ut(31,n,t,u),e.elementType=I,e.lanes=d,e;case N:return Ea(n.children,u,d,t);case S:m=8,u|=24;break;case B:return e=Ut(12,n,t,u|2),e.elementType=B,e.lanes=d,e;case te:return e=Ut(13,n,t,u),e.elementType=te,e.lanes=d,e;case Q:return e=Ut(19,n,t,u),e.elementType=Q,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:m=10;break e;case A:m=9;break e;case K:m=11;break e;case q:m=14;break e;case J:m=16,s=null;break e}m=29,n=Error(i(130,e===null?"null":typeof e,"")),s=null}return t=Ut(m,n,t,u),t.elementType=e,t.type=s,t.lanes=d,t}function Ea(e,t,n,s){return e=Ut(7,e,s,t),e.lanes=n,e}function bo(e,t,n){return e=Ut(6,e,null,t),e.lanes=n,e}function Zd(e){var t=Ut(18,null,null,0);return t.stateNode=e,t}function wo(e,t,n){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Pd=new WeakMap;function It(e,t){if(typeof e=="object"&&e!==null){var n=Pd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Fr(t)},Pd.set(e,t),t)}return{value:e,source:t,stack:Fr(t)}}var ls=[],os=0,wi=null,ir=0,Qt=[],Jt=0,$n=null,cn=1,dn="";function xn(e,t){ls[os++]=ir,ls[os++]=wi,wi=e,ir=t}function Wd(e,t,n){Qt[Jt++]=cn,Qt[Jt++]=dn,Qt[Jt++]=$n,$n=e;var s=cn;e=dn;var u=32-de(s)-1;s&=~(1<<u),n+=1;var d=32-de(t)+u;if(30<d){var m=u-u%5;d=(s&(1<<m)-1).toString(32),s>>=m,u-=m,cn=1<<32-de(t)+u|n<<u|s,dn=d+e}else cn=1<<d|n<<u|s,dn=e}function _o(e){e.return!==null&&(xn(e,1),Wd(e,1,0))}function xo(e){for(;e===wi;)wi=ls[--os],ls[os]=null,ir=ls[--os],ls[os]=null;for(;e===$n;)$n=Qt[--Jt],Qt[Jt]=null,dn=Qt[--Jt],Qt[Jt]=null,cn=Qt[--Jt],Qt[Jt]=null}function Fd(e,t){Qt[Jt++]=cn,Qt[Jt++]=dn,Qt[Jt++]=$n,cn=t.id,dn=t.overflow,$n=e}var gt=null,Ke=null,je=!1,Vn=null,Xt=!1,So=Error(i(519));function Gn(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw lr(It(t,e)),So}function ef(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[mt]=e,t[jt]=s,n){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(n=0;n<Nr.length;n++)we(Nr[n],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),hd(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),gd(t,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||ym(t.textContent,n)?(s.popover!=null&&(we("beforetoggle",t),we("toggle",t)),s.onScroll!=null&&we("scroll",t),s.onScrollEnd!=null&&we("scrollend",t),s.onClick!=null&&(t.onclick=bn),t=!0):t=!1,t||Gn(e,!0)}function tf(e){for(gt=e.return;gt;)switch(gt.tag){case 5:case 31:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:gt=gt.return}}function us(e){if(e!==gt)return!1;if(!je)return tf(e),je=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||$u(e.type,e.memoizedProps)),n=!n),n&&Ke&&Gn(e),tf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ke=Om(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ke=Om(e)}else t===27?(t=Ke,aa(e.type)?(e=Iu,Iu=null,Ke=e):Ke=t):Ke=gt?Pt(e.stateNode.nextSibling):null;return!0}function ja(){Ke=gt=null,je=!1}function Eo(){var e=Vn;return e!==null&&(kt===null?kt=e:kt.push.apply(kt,e),Vn=null),e}function lr(e){Vn===null?Vn=[e]:Vn.push(e)}var jo=T(null),Ta=null,Sn=null;function Yn(e,t,n){W(jo,t._currentValue),t._currentValue=n}function En(e){e._currentValue=jo.current,V(jo)}function To(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Oo(e,t,n,s){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var d=u.dependencies;if(d!==null){var m=u.child;d=d.firstContext;e:for(;d!==null;){var y=d;d=u;for(var x=0;x<t.length;x++)if(y.context===t[x]){d.lanes|=n,y=d.alternate,y!==null&&(y.lanes|=n),To(d.return,n,e),s||(m=null);break e}d=y.next}}else if(u.tag===18){if(m=u.return,m===null)throw Error(i(341));m.lanes|=n,d=m.alternate,d!==null&&(d.lanes|=n),To(m,n,e),m=null}else m=u.child;if(m!==null)m.return=u;else for(m=u;m!==null;){if(m===e){m=null;break}if(u=m.sibling,u!==null){u.return=m.return,m=u;break}m=m.return}u=m}}function cs(e,t,n,s){e=null;for(var u=t,d=!1;u!==null;){if(!d){if((u.flags&524288)!==0)d=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var m=u.alternate;if(m===null)throw Error(i(387));if(m=m.memoizedProps,m!==null){var y=u.type;Dt(u.pendingProps.value,m.value)||(e!==null?e.push(y):e=[y])}}else if(u===Te.current){if(m=u.alternate,m===null)throw Error(i(387));m.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Ur):e=[Ur])}u=u.return}e!==null&&Oo(t,e,n,s),t.flags|=262144}function _i(e){for(e=e.firstContext;e!==null;){if(!Dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Oa(e){Ta=e,Sn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pt(e){return nf(Ta,e)}function xi(e,t){return Ta===null&&Oa(e),nf(e,t)}function nf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Sn===null){if(e===null)throw Error(i(308));Sn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Sn=Sn.next=t;return n}var r0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},i0=l.unstable_scheduleCallback,l0=l.unstable_NormalPriority,st={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ao(){return{controller:new r0,data:new Map,refCount:0}}function or(e){e.refCount--,e.refCount===0&&i0(l0,function(){e.controller.abort()})}var ur=null,No=0,ds=0,fs=null;function o0(e,t){if(ur===null){var n=ur=[];No=0,ds=Ru(),fs={status:"pending",value:void 0,then:function(s){n.push(s)}}}return No++,t.then(af,af),t}function af(){if(--No===0&&ur!==null){fs!==null&&(fs.status="fulfilled");var e=ur;ur=null,ds=0,fs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function u0(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(s.status="rejected",s.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),s}var sf=L.S;L.S=function(e,t){Vh=St(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&o0(e,t),sf!==null&&sf(e,t)};var Aa=T(null);function ko(){var e=Aa.current;return e!==null?e:$e.pooledCache}function Si(e,t){t===null?W(Aa,Aa.current):W(Aa,t.pool)}function rf(){var e=ko();return e===null?null:{parent:st._currentValue,pool:e}}var hs=Error(i(460)),Co=Error(i(474)),Ei=Error(i(542)),ji={then:function(){}};function lf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function of(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(bn,bn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cf(e),e;default:if(typeof t.status=="string")t.then(bn,bn);else{if(e=$e,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=s}},function(s){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cf(e),e}throw ka=t,hs}}function Na(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ka=n,hs):n}}var ka=null;function uf(){if(ka===null)throw Error(i(459));var e=ka;return ka=null,e}function cf(e){if(e===hs||e===Ei)throw Error(i(483))}var ms=null,cr=0;function Ti(e){var t=cr;return cr+=1,ms===null&&(ms=[]),of(ms,e,t)}function dr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Oi(e,t){throw t.$$typeof===_?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function df(e){function t(k,E){if(e){var D=k.deletions;D===null?(k.deletions=[E],k.flags|=16):D.push(E)}}function n(k,E){if(!e)return null;for(;E!==null;)t(k,E),E=E.sibling;return null}function s(k){for(var E=new Map;k!==null;)k.key!==null?E.set(k.key,k):E.set(k.index,k),k=k.sibling;return E}function u(k,E){return k=_n(k,E),k.index=0,k.sibling=null,k}function d(k,E,D){return k.index=D,e?(D=k.alternate,D!==null?(D=D.index,D<E?(k.flags|=67108866,E):D):(k.flags|=67108866,E)):(k.flags|=1048576,E)}function m(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function y(k,E,D,$){return E===null||E.tag!==6?(E=bo(D,k.mode,$),E.return=k,E):(E=u(E,D),E.return=k,E)}function x(k,E,D,$){var le=D.type;return le===N?H(k,E,D.props.children,$,D.key):E!==null&&(E.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===J&&Na(le)===E.type)?(E=u(E,D.props),dr(E,D),E.return=k,E):(E=bi(D.type,D.key,D.props,null,k.mode,$),dr(E,D),E.return=k,E)}function U(k,E,D,$){return E===null||E.tag!==4||E.stateNode.containerInfo!==D.containerInfo||E.stateNode.implementation!==D.implementation?(E=wo(D,k.mode,$),E.return=k,E):(E=u(E,D.children||[]),E.return=k,E)}function H(k,E,D,$,le){return E===null||E.tag!==7?(E=Ea(D,k.mode,$,le),E.return=k,E):(E=u(E,D),E.return=k,E)}function G(k,E,D){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=bo(""+E,k.mode,D),E.return=k,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case O:return D=bi(E.type,E.key,E.props,null,k.mode,D),dr(D,E),D.return=k,D;case C:return E=wo(E,k.mode,D),E.return=k,E;case J:return E=Na(E),G(k,E,D)}if(Qe(E)||Se(E))return E=Ea(E,k.mode,D,null),E.return=k,E;if(typeof E.then=="function")return G(k,Ti(E),D);if(E.$$typeof===R)return G(k,xi(k,E),D);Oi(k,E)}return null}function z(k,E,D,$){var le=E!==null?E.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return le!==null?null:y(k,E,""+D,$);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case O:return D.key===le?x(k,E,D,$):null;case C:return D.key===le?U(k,E,D,$):null;case J:return D=Na(D),z(k,E,D,$)}if(Qe(D)||Se(D))return le!==null?null:H(k,E,D,$,null);if(typeof D.then=="function")return z(k,E,Ti(D),$);if(D.$$typeof===R)return z(k,E,xi(k,D),$);Oi(k,D)}return null}function M(k,E,D,$,le){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return k=k.get(D)||null,y(E,k,""+$,le);if(typeof $=="object"&&$!==null){switch($.$$typeof){case O:return k=k.get($.key===null?D:$.key)||null,x(E,k,$,le);case C:return k=k.get($.key===null?D:$.key)||null,U(E,k,$,le);case J:return $=Na($),M(k,E,D,$,le)}if(Qe($)||Se($))return k=k.get(D)||null,H(E,k,$,le,null);if(typeof $.then=="function")return M(k,E,D,Ti($),le);if($.$$typeof===R)return M(k,E,D,xi(E,$),le);Oi(E,$)}return null}function ee(k,E,D,$){for(var le=null,Oe=null,ne=E,ye=E=0,xe=null;ne!==null&&ye<D.length;ye++){ne.index>ye?(xe=ne,ne=null):xe=ne.sibling;var Ae=z(k,ne,D[ye],$);if(Ae===null){ne===null&&(ne=xe);break}e&&ne&&Ae.alternate===null&&t(k,ne),E=d(Ae,E,ye),Oe===null?le=Ae:Oe.sibling=Ae,Oe=Ae,ne=xe}if(ye===D.length)return n(k,ne),je&&xn(k,ye),le;if(ne===null){for(;ye<D.length;ye++)ne=G(k,D[ye],$),ne!==null&&(E=d(ne,E,ye),Oe===null?le=ne:Oe.sibling=ne,Oe=ne);return je&&xn(k,ye),le}for(ne=s(ne);ye<D.length;ye++)xe=M(ne,k,ye,D[ye],$),xe!==null&&(e&&xe.alternate!==null&&ne.delete(xe.key===null?ye:xe.key),E=d(xe,E,ye),Oe===null?le=xe:Oe.sibling=xe,Oe=xe);return e&&ne.forEach(function(oa){return t(k,oa)}),je&&xn(k,ye),le}function ue(k,E,D,$){if(D==null)throw Error(i(151));for(var le=null,Oe=null,ne=E,ye=E=0,xe=null,Ae=D.next();ne!==null&&!Ae.done;ye++,Ae=D.next()){ne.index>ye?(xe=ne,ne=null):xe=ne.sibling;var oa=z(k,ne,Ae.value,$);if(oa===null){ne===null&&(ne=xe);break}e&&ne&&oa.alternate===null&&t(k,ne),E=d(oa,E,ye),Oe===null?le=oa:Oe.sibling=oa,Oe=oa,ne=xe}if(Ae.done)return n(k,ne),je&&xn(k,ye),le;if(ne===null){for(;!Ae.done;ye++,Ae=D.next())Ae=G(k,Ae.value,$),Ae!==null&&(E=d(Ae,E,ye),Oe===null?le=Ae:Oe.sibling=Ae,Oe=Ae);return je&&xn(k,ye),le}for(ne=s(ne);!Ae.done;ye++,Ae=D.next())Ae=M(ne,k,ye,Ae.value,$),Ae!==null&&(e&&Ae.alternate!==null&&ne.delete(Ae.key===null?ye:Ae.key),E=d(Ae,E,ye),Oe===null?le=Ae:Oe.sibling=Ae,Oe=Ae);return e&&ne.forEach(function(wy){return t(k,wy)}),je&&xn(k,ye),le}function Be(k,E,D,$){if(typeof D=="object"&&D!==null&&D.type===N&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case O:e:{for(var le=D.key;E!==null;){if(E.key===le){if(le=D.type,le===N){if(E.tag===7){n(k,E.sibling),$=u(E,D.props.children),$.return=k,k=$;break e}}else if(E.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===J&&Na(le)===E.type){n(k,E.sibling),$=u(E,D.props),dr($,D),$.return=k,k=$;break e}n(k,E);break}else t(k,E);E=E.sibling}D.type===N?($=Ea(D.props.children,k.mode,$,D.key),$.return=k,k=$):($=bi(D.type,D.key,D.props,null,k.mode,$),dr($,D),$.return=k,k=$)}return m(k);case C:e:{for(le=D.key;E!==null;){if(E.key===le)if(E.tag===4&&E.stateNode.containerInfo===D.containerInfo&&E.stateNode.implementation===D.implementation){n(k,E.sibling),$=u(E,D.children||[]),$.return=k,k=$;break e}else{n(k,E);break}else t(k,E);E=E.sibling}$=wo(D,k.mode,$),$.return=k,k=$}return m(k);case J:return D=Na(D),Be(k,E,D,$)}if(Qe(D))return ee(k,E,D,$);if(Se(D)){if(le=Se(D),typeof le!="function")throw Error(i(150));return D=le.call(D),ue(k,E,D,$)}if(typeof D.then=="function")return Be(k,E,Ti(D),$);if(D.$$typeof===R)return Be(k,E,xi(k,D),$);Oi(k,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,E!==null&&E.tag===6?(n(k,E.sibling),$=u(E,D),$.return=k,k=$):(n(k,E),$=bo(D,k.mode,$),$.return=k,k=$),m(k)):n(k,E)}return function(k,E,D,$){try{cr=0;var le=Be(k,E,D,$);return ms=null,le}catch(ne){if(ne===hs||ne===Ei)throw ne;var Oe=Ut(29,ne,null,k.mode);return Oe.lanes=$,Oe.return=k,Oe}finally{}}}var Ca=df(!0),ff=df(!1),Kn=!1;function Ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function In(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(De&2)!==0){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,t=yi(e),Jd(e,null,n),t}return vi(e,s,t,n),yi(e)}function fr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,nd(e,n)}}function Uo(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var u=null,d=null;if(n=n.firstBaseUpdate,n!==null){do{var m={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};d===null?u=d=m:d=d.next=m,n=n.next}while(n!==null);d===null?u=d=t:d=d.next=t}else u=d=t;n={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var zo=!1;function hr(){if(zo){var e=fs;if(e!==null)throw e}}function mr(e,t,n,s){zo=!1;var u=e.updateQueue;Kn=!1;var d=u.firstBaseUpdate,m=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var x=y,U=x.next;x.next=null,m===null?d=U:m.next=U,m=x;var H=e.alternate;H!==null&&(H=H.updateQueue,y=H.lastBaseUpdate,y!==m&&(y===null?H.firstBaseUpdate=U:y.next=U,H.lastBaseUpdate=x))}if(d!==null){var G=u.baseState;m=0,H=U=x=null,y=d;do{var z=y.lane&-536870913,M=z!==y.lane;if(M?(_e&z)===z:(s&z)===z){z!==0&&z===ds&&(zo=!0),H!==null&&(H=H.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var ee=e,ue=y;z=t;var Be=n;switch(ue.tag){case 1:if(ee=ue.payload,typeof ee=="function"){G=ee.call(Be,G,z);break e}G=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=ue.payload,z=typeof ee=="function"?ee.call(Be,G,z):ee,z==null)break e;G=w({},G,z);break e;case 2:Kn=!0}}z=y.callback,z!==null&&(e.flags|=64,M&&(e.flags|=8192),M=u.callbacks,M===null?u.callbacks=[z]:M.push(z))}else M={lane:z,tag:y.tag,payload:y.payload,callback:y.callback,next:null},H===null?(U=H=M,x=G):H=H.next=M,m|=z;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;M=y,y=M.next,M.next=null,u.lastBaseUpdate=M,u.shared.pending=null}}while(!0);H===null&&(x=G),u.baseState=x,u.firstBaseUpdate=U,u.lastBaseUpdate=H,d===null&&(u.shared.lanes=0),Wn|=m,e.lanes=m,e.memoizedState=G}}function hf(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function mf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)hf(n[e],t)}var gs=T(null),Ai=T(0);function gf(e,t){e=Dn,W(Ai,e),W(gs,t),Dn=e|t.baseLanes}function Mo(){W(Ai,Dn),W(gs,gs.current)}function Lo(){Dn=Ai.current,V(gs),V(Ai)}var zt=T(null),Zt=null;function Jn(e){var t=e.alternate;W(tt,tt.current&1),W(zt,e),Zt===null&&(t===null||gs.current!==null||t.memoizedState!==null)&&(Zt=e)}function Bo(e){W(tt,tt.current),W(zt,e),Zt===null&&(Zt=e)}function pf(e){e.tag===22?(W(tt,tt.current),W(zt,e),Zt===null&&(Zt=e)):Xn()}function Xn(){W(tt,tt.current),W(zt,zt.current)}function Mt(e){V(zt),Zt===e&&(Zt=null),V(tt)}var tt=T(0);function Ni(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Yu(n)||Ku(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jn=0,pe=null,Me=null,rt=null,ki=!1,ps=!1,Ra=!1,Ci=0,gr=0,vs=null,c0=0;function We(){throw Error(i(321))}function qo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dt(e[n],t[n]))return!1;return!0}function Ho(e,t,n,s,u,d){return jn=d,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?Ff:tu,Ra=!1,d=n(s,u),Ra=!1,ps&&(d=yf(t,n,s,u)),vf(e),d}function vf(e){L.H=yr;var t=Me!==null&&Me.next!==null;if(jn=0,rt=Me=pe=null,ki=!1,gr=0,vs=null,t)throw Error(i(300));e===null||it||(e=e.dependencies,e!==null&&_i(e)&&(it=!0))}function yf(e,t,n,s){pe=e;var u=0;do{if(ps&&(vs=null),gr=0,ps=!1,25<=u)throw Error(i(301));if(u+=1,rt=Me=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}L.H=eh,d=t(n,s)}while(ps);return d}function d0(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?pr(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(pe.flags|=1024),t}function $o(){var e=Ci!==0;return Ci=0,e}function Vo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Go(e){if(ki){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ki=!1}jn=0,rt=Me=pe=null,ps=!1,gr=Ci=0,vs=null}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?pe.memoizedState=rt=e:rt=rt.next=e,rt}function nt(){if(Me===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=rt===null?pe.memoizedState:rt.next;if(t!==null)rt=t,Me=e;else{if(e===null)throw pe.alternate===null?Error(i(467)):Error(i(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},rt===null?pe.memoizedState=rt=e:rt=rt.next=e}return rt}function Ri(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pr(e){var t=gr;return gr+=1,vs===null&&(vs=[]),e=of(vs,e,t),t=pe,(rt===null?t.memoizedState:rt.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?Ff:tu),e}function Di(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return pr(e);if(e.$$typeof===R)return pt(e)}throw Error(i(438,String(e)))}function Yo(e){var t=null,n=pe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=pe.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ri(),pe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=X;return t.index++,n}function Tn(e,t){return typeof t=="function"?t(e):t}function Ui(e){var t=nt();return Ko(t,Me,e)}function Ko(e,t,n){var s=e.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=n;var u=e.baseQueue,d=s.pending;if(d!==null){if(u!==null){var m=u.next;u.next=d.next,d.next=m}t.baseQueue=u=d,s.pending=null}if(d=e.baseState,u===null)e.memoizedState=d;else{t=u.next;var y=m=null,x=null,U=t,H=!1;do{var G=U.lane&-536870913;if(G!==U.lane?(_e&G)===G:(jn&G)===G){var z=U.revertLane;if(z===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),G===ds&&(H=!0);else if((jn&z)===z){U=U.next,z===ds&&(H=!0);continue}else G={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},x===null?(y=x=G,m=d):x=x.next=G,pe.lanes|=z,Wn|=z;G=U.action,Ra&&n(d,G),d=U.hasEagerState?U.eagerState:n(d,G)}else z={lane:G,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},x===null?(y=x=z,m=d):x=x.next=z,pe.lanes|=G,Wn|=G;U=U.next}while(U!==null&&U!==t);if(x===null?m=d:x.next=y,!Dt(d,e.memoizedState)&&(it=!0,H&&(n=fs,n!==null)))throw n;e.memoizedState=d,e.baseState=m,e.baseQueue=x,s.lastRenderedState=d}return u===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Io(e){var t=nt(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var s=n.dispatch,u=n.pending,d=t.memoizedState;if(u!==null){n.pending=null;var m=u=u.next;do d=e(d,m.action),m=m.next;while(m!==u);Dt(d,t.memoizedState)||(it=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),n.lastRenderedState=d}return[d,s]}function bf(e,t,n){var s=pe,u=nt(),d=je;if(d){if(n===void 0)throw Error(i(407));n=n()}else n=t();var m=!Dt((Me||u).memoizedState,n);if(m&&(u.memoizedState=n,it=!0),u=u.queue,Xo(xf.bind(null,s,u,e),[e]),u.getSnapshot!==t||m||rt!==null&&rt.memoizedState.tag&1){if(s.flags|=2048,ys(9,{destroy:void 0},_f.bind(null,s,u,n,t),null),$e===null)throw Error(i(349));d||(jn&127)!==0||wf(s,t,n)}return n}function wf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pe.updateQueue,t===null?(t=Ri(),pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _f(e,t,n,s){t.value=n,t.getSnapshot=s,Sf(t)&&Ef(e)}function xf(e,t,n){return n(function(){Sf(t)&&Ef(e)})}function Sf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dt(e,n)}catch{return!0}}function Ef(e){var t=Sa(e,2);t!==null&&Ct(t,e,2)}function Qo(e){var t=Et();if(typeof e=="function"){var n=e;if(e=n(),Ra){ie(!0);try{n()}finally{ie(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:e},t}function jf(e,t,n,s){return e.baseState=n,Ko(e,Me,typeof s=="function"?s:Tn)}function f0(e,t,n,s,u){if(Li(e))throw Error(i(485));if(e=t.action,e!==null){var d={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){d.listeners.push(m)}};L.T!==null?n(!0):d.isTransition=!1,s(d),n=t.pending,n===null?(d.next=t.pending=d,Tf(t,d)):(d.next=n.next,t.pending=n.next=d)}}function Tf(e,t){var n=t.action,s=t.payload,u=e.state;if(t.isTransition){var d=L.T,m={};L.T=m;try{var y=n(u,s),x=L.S;x!==null&&x(m,y),Of(e,t,y)}catch(U){Jo(e,t,U)}finally{d!==null&&m.types!==null&&(d.types=m.types),L.T=d}}else try{d=n(u,s),Of(e,t,d)}catch(U){Jo(e,t,U)}}function Of(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){Af(e,t,s)},function(s){return Jo(e,t,s)}):Af(e,t,n)}function Af(e,t,n){t.status="fulfilled",t.value=n,Nf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Tf(e,n)))}function Jo(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,Nf(t),t=t.next;while(t!==s)}e.action=null}function Nf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function kf(e,t){return t}function Cf(e,t){if(je){var n=$e.formState;if(n!==null){e:{var s=pe;if(je){if(Ke){t:{for(var u=Ke,d=Xt;u.nodeType!==8;){if(!d){u=null;break t}if(u=Pt(u.nextSibling),u===null){u=null;break t}}d=u.data,u=d==="F!"||d==="F"?u:null}if(u){Ke=Pt(u.nextSibling),s=u.data==="F!";break e}}Gn(s)}s=!1}s&&(t=n[0])}}return n=Et(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kf,lastRenderedState:t},n.queue=s,n=Zf.bind(null,pe,s),s.dispatch=n,s=Qo(!1),d=eu.bind(null,pe,!1,s.queue),s=Et(),u={state:t,dispatch:null,action:e,pending:null},s.queue=u,n=f0.bind(null,pe,u,d,n),u.dispatch=n,s.memoizedState=e,[t,n,!1]}function Rf(e){var t=nt();return Df(t,Me,e)}function Df(e,t,n){if(t=Ko(e,t,kf)[0],e=Ui(Tn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=pr(t)}catch(m){throw m===hs?Ei:m}else s=t;t=nt();var u=t.queue,d=u.dispatch;return n!==t.memoizedState&&(pe.flags|=2048,ys(9,{destroy:void 0},h0.bind(null,u,n),null)),[s,d,e]}function h0(e,t){e.action=t}function Uf(e){var t=nt(),n=Me;if(n!==null)return Df(t,n,e);nt(),t=t.memoizedState,n=nt();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function ys(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=pe.updateQueue,t===null&&(t=Ri(),pe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function zf(){return nt().memoizedState}function zi(e,t,n,s){var u=Et();pe.flags|=e,u.memoizedState=ys(1|t,{destroy:void 0},n,s===void 0?null:s)}function Mi(e,t,n,s){var u=nt();s=s===void 0?null:s;var d=u.memoizedState.inst;Me!==null&&s!==null&&qo(s,Me.memoizedState.deps)?u.memoizedState=ys(t,d,n,s):(pe.flags|=e,u.memoizedState=ys(1|t,d,n,s))}function Mf(e,t){zi(8390656,8,e,t)}function Xo(e,t){Mi(2048,8,e,t)}function m0(e){pe.flags|=4;var t=pe.updateQueue;if(t===null)t=Ri(),pe.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Lf(e){var t=nt().memoizedState;return m0({ref:t,nextImpl:e}),function(){if((De&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Bf(e,t){return Mi(4,2,e,t)}function qf(e,t){return Mi(4,4,e,t)}function Hf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $f(e,t,n){n=n!=null?n.concat([e]):null,Mi(4,4,Hf.bind(null,t,e),n)}function Zo(){}function Vf(e,t){var n=nt();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&qo(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Gf(e,t){var n=nt();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&qo(t,s[1]))return s[0];if(s=e(),Ra){ie(!0);try{e()}finally{ie(!1)}}return n.memoizedState=[s,t],s}function Po(e,t,n){return n===void 0||(jn&1073741824)!==0&&(_e&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=Yh(),pe.lanes|=e,Wn|=e,n)}function Yf(e,t,n,s){return Dt(n,t)?n:gs.current!==null?(e=Po(e,n,s),Dt(e,t)||(it=!0),e):(jn&42)===0||(jn&1073741824)!==0&&(_e&261930)===0?(it=!0,e.memoizedState=n):(e=Yh(),pe.lanes|=e,Wn|=e,t)}function Kf(e,t,n,s,u){var d=P.p;P.p=d!==0&&8>d?d:8;var m=L.T,y={};L.T=y,eu(e,!1,t,n);try{var x=u(),U=L.S;if(U!==null&&U(y,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var H=u0(x,s);vr(e,t,H,qt(e))}else vr(e,t,s,qt(e))}catch(G){vr(e,t,{then:function(){},status:"rejected",reason:G},qt())}finally{P.p=d,m!==null&&y.types!==null&&(m.types=y.types),L.T=m}}function g0(){}function Wo(e,t,n,s){if(e.tag!==5)throw Error(i(476));var u=If(e).queue;Kf(e,u,t,ce,n===null?g0:function(){return Qf(e),n(s)})}function If(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:ce},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Qf(e){var t=If(e);t.next===null&&(t=e.alternate.memoizedState),vr(e,t.next.queue,{},qt())}function Fo(){return pt(Ur)}function Jf(){return nt().memoizedState}function Xf(){return nt().memoizedState}function p0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=qt();e=In(n);var s=Qn(t,e,n);s!==null&&(Ct(s,t,n),fr(s,t,n)),t={cache:Ao()},e.payload=t;return}t=t.return}}function v0(e,t,n){var s=qt();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Li(e)?Pf(t,n):(n=vo(e,t,n,s),n!==null&&(Ct(n,e,s),Wf(n,t,s)))}function Zf(e,t,n){var s=qt();vr(e,t,n,s)}function vr(e,t,n,s){var u={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Li(e))Pf(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var m=t.lastRenderedState,y=d(m,n);if(u.hasEagerState=!0,u.eagerState=y,Dt(y,m))return vi(e,t,u,0),$e===null&&pi(),!1}catch{}finally{}if(n=vo(e,t,u,s),n!==null)return Ct(n,e,s),Wf(n,t,s),!0}return!1}function eu(e,t,n,s){if(s={lane:2,revertLane:Ru(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Li(e)){if(t)throw Error(i(479))}else t=vo(e,n,s,2),t!==null&&Ct(t,e,2)}function Li(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function Pf(e,t){ps=ki=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wf(e,t,n){if((n&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,nd(e,n)}}var yr={readContext:pt,use:Di,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};yr.useEffectEvent=We;var Ff={readContext:pt,use:Di,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:Mf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,zi(4194308,4,Hf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zi(4194308,4,e,t)},useInsertionEffect:function(e,t){zi(4,2,e,t)},useMemo:function(e,t){var n=Et();t=t===void 0?null:t;var s=e();if(Ra){ie(!0);try{e()}finally{ie(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=Et();if(n!==void 0){var u=n(t);if(Ra){ie(!0);try{n(t)}finally{ie(!1)}}}else u=t;return s.memoizedState=s.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},s.queue=e,e=e.dispatch=v0.bind(null,pe,e),[s.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:function(e){e=Qo(e);var t=e.queue,n=Zf.bind(null,pe,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Zo,useDeferredValue:function(e,t){var n=Et();return Po(n,e,t)},useTransition:function(){var e=Qo(!1);return e=Kf.bind(null,pe,e.queue,!0,!1),Et().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=pe,u=Et();if(je){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),$e===null)throw Error(i(349));(_e&127)!==0||wf(s,t,n)}u.memoizedState=n;var d={value:n,getSnapshot:t};return u.queue=d,Mf(xf.bind(null,s,d,e),[e]),s.flags|=2048,ys(9,{destroy:void 0},_f.bind(null,s,d,n,t),null),n},useId:function(){var e=Et(),t=$e.identifierPrefix;if(je){var n=dn,s=cn;n=(s&~(1<<32-de(s)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Ci++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=c0++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Fo,useFormState:Cf,useActionState:Cf,useOptimistic:function(e){var t=Et();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=eu.bind(null,pe,!0,n),n.dispatch=t,[e,t]},useMemoCache:Yo,useCacheRefresh:function(){return Et().memoizedState=p0.bind(null,pe)},useEffectEvent:function(e){var t=Et(),n={impl:e};return t.memoizedState=n,function(){if((De&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},tu={readContext:pt,use:Di,useCallback:Vf,useContext:pt,useEffect:Xo,useImperativeHandle:$f,useInsertionEffect:Bf,useLayoutEffect:qf,useMemo:Gf,useReducer:Ui,useRef:zf,useState:function(){return Ui(Tn)},useDebugValue:Zo,useDeferredValue:function(e,t){var n=nt();return Yf(n,Me.memoizedState,e,t)},useTransition:function(){var e=Ui(Tn)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:pr(e),t]},useSyncExternalStore:bf,useId:Jf,useHostTransitionStatus:Fo,useFormState:Rf,useActionState:Rf,useOptimistic:function(e,t){var n=nt();return jf(n,Me,e,t)},useMemoCache:Yo,useCacheRefresh:Xf};tu.useEffectEvent=Lf;var eh={readContext:pt,use:Di,useCallback:Vf,useContext:pt,useEffect:Xo,useImperativeHandle:$f,useInsertionEffect:Bf,useLayoutEffect:qf,useMemo:Gf,useReducer:Io,useRef:zf,useState:function(){return Io(Tn)},useDebugValue:Zo,useDeferredValue:function(e,t){var n=nt();return Me===null?Po(n,e,t):Yf(n,Me.memoizedState,e,t)},useTransition:function(){var e=Io(Tn)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:pr(e),t]},useSyncExternalStore:bf,useId:Jf,useHostTransitionStatus:Fo,useFormState:Uf,useActionState:Uf,useOptimistic:function(e,t){var n=nt();return Me!==null?jf(n,Me,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Yo,useCacheRefresh:Xf};eh.useEffectEvent=Lf;function nu(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:w({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var au={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=qt(),u=In(s);u.payload=t,n!=null&&(u.callback=n),t=Qn(e,u,s),t!==null&&(Ct(t,e,s),fr(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=qt(),u=In(s);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=Qn(e,u,s),t!==null&&(Ct(t,e,s),fr(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qt(),s=In(n);s.tag=2,t!=null&&(s.callback=t),t=Qn(e,s,n),t!==null&&(Ct(t,e,n),fr(t,e,n))}};function th(e,t,n,s,u,d,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,m):t.prototype&&t.prototype.isPureReactComponent?!sr(n,s)||!sr(u,d):!0}function nh(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&au.enqueueReplaceState(t,t.state,null)}function Da(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=w({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}function ah(e){gi(e)}function sh(e){console.error(e)}function rh(e){gi(e)}function Bi(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function ih(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function su(e,t,n){return n=In(n),n.tag=3,n.payload={element:null},n.callback=function(){Bi(e,t)},n}function lh(e){return e=In(e),e.tag=3,e}function oh(e,t,n,s){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var d=s.value;e.payload=function(){return u(d)},e.callback=function(){ih(t,n,s)}}var m=n.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){ih(t,n,s),typeof u!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var y=s.stack;this.componentDidCatch(s.value,{componentStack:y!==null?y:""})})}function y0(e,t,n,s,u){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&cs(t,n,u,!0),n=zt.current,n!==null){switch(n.tag){case 31:case 13:return Zt===null?Zi():n.alternate===null&&Fe===0&&(Fe=3),n.flags&=-257,n.flags|=65536,n.lanes=u,s===ji?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),Nu(e,s,u)),!1;case 22:return n.flags|=65536,s===ji?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),Nu(e,s,u)),!1}throw Error(i(435,n.tag))}return Nu(e,s,u),Zi(),!1}if(je)return t=zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,s!==So&&(e=Error(i(422),{cause:s}),lr(It(e,n)))):(s!==So&&(t=Error(i(423),{cause:s}),lr(It(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,s=It(s,n),u=su(e.stateNode,s,u),Uo(e,u),Fe!==4&&(Fe=2)),!1;var d=Error(i(520),{cause:s});if(d=It(d,n),Tr===null?Tr=[d]:Tr.push(d),Fe!==4&&(Fe=2),t===null)return!0;s=It(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=su(n.stateNode,s,e),Uo(n,e),!1;case 1:if(t=n.type,d=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fn===null||!Fn.has(d))))return n.flags|=65536,u&=-u,n.lanes|=u,u=lh(u),oh(u,e,n,s),Uo(n,u),!1}n=n.return}while(n!==null);return!1}var ru=Error(i(461)),it=!1;function vt(e,t,n,s){t.child=e===null?ff(t,null,n,s):Ca(t,e.child,n,s)}function uh(e,t,n,s,u){n=n.render;var d=t.ref;if("ref"in s){var m={};for(var y in s)y!=="ref"&&(m[y]=s[y])}else m=s;return Oa(t),s=Ho(e,t,n,m,d,u),y=$o(),e!==null&&!it?(Vo(e,t,u),On(e,t,u)):(je&&y&&_o(t),t.flags|=1,vt(e,t,s,u),t.child)}function ch(e,t,n,s,u){if(e===null){var d=n.type;return typeof d=="function"&&!yo(d)&&d.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=d,dh(e,t,d,s,u)):(e=bi(n.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!hu(e,u)){var m=d.memoizedProps;if(n=n.compare,n=n!==null?n:sr,n(m,s)&&e.ref===t.ref)return On(e,t,u)}return t.flags|=1,e=_n(d,s),e.ref=t.ref,e.return=t,t.child=e}function dh(e,t,n,s,u){if(e!==null){var d=e.memoizedProps;if(sr(d,s)&&e.ref===t.ref)if(it=!1,t.pendingProps=s=d,hu(e,u))(e.flags&131072)!==0&&(it=!0);else return t.lanes=e.lanes,On(e,t,u)}return iu(e,t,n,s,u)}function fh(e,t,n,s){var u=s.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|n:n,e!==null){for(s=t.child=e.child,u=0;s!==null;)u=u|s.lanes|s.childLanes,s=s.sibling;s=u&~d}else s=0,t.child=null;return hh(e,t,d,n,s)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Si(t,d!==null?d.cachePool:null),d!==null?gf(t,d):Mo(),pf(t);else return s=t.lanes=536870912,hh(e,t,d!==null?d.baseLanes|n:n,n,s)}else d!==null?(Si(t,d.cachePool),gf(t,d),Xn(),t.memoizedState=null):(e!==null&&Si(t,null),Mo(),Xn());return vt(e,t,u,n),t.child}function br(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function hh(e,t,n,s,u){var d=ko();return d=d===null?null:{parent:st._currentValue,pool:d},t.memoizedState={baseLanes:n,cachePool:d},e!==null&&Si(t,null),Mo(),pf(t),e!==null&&cs(e,t,s,!0),t.childLanes=u,null}function qi(e,t){return t=$i({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function mh(e,t,n){return Ca(t,e.child,null,n),e=qi(t,t.pendingProps),e.flags|=2,Mt(t),t.memoizedState=null,e}function b0(e,t,n){var s=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(je){if(s.mode==="hidden")return e=qi(t,s),t.lanes=536870912,br(null,e);if(Bo(t),(e=Ke)?(e=Tm(e,Xt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:$n!==null?{id:cn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},n=Zd(e),n.return=t,t.child=n,gt=t,Ke=null)):e=null,e===null)throw Gn(t);return t.lanes=536870912,null}return qi(t,s)}var d=e.memoizedState;if(d!==null){var m=d.dehydrated;if(Bo(t),u)if(t.flags&256)t.flags&=-257,t=mh(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(it||cs(e,t,n,!1),u=(n&e.childLanes)!==0,it||u){if(s=$e,s!==null&&(m=ad(s,n),m!==0&&m!==d.retryLane))throw d.retryLane=m,Sa(e,m),Ct(s,e,m),ru;Zi(),t=mh(e,t,n)}else e=d.treeContext,Ke=Pt(m.nextSibling),gt=t,je=!0,Vn=null,Xt=!1,e!==null&&Fd(t,e),t=qi(t,s),t.flags|=4096;return t}return e=_n(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Hi(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function iu(e,t,n,s,u){return Oa(t),n=Ho(e,t,n,s,void 0,u),s=$o(),e!==null&&!it?(Vo(e,t,u),On(e,t,u)):(je&&s&&_o(t),t.flags|=1,vt(e,t,n,u),t.child)}function gh(e,t,n,s,u,d){return Oa(t),t.updateQueue=null,n=yf(t,s,n,u),vf(e),s=$o(),e!==null&&!it?(Vo(e,t,d),On(e,t,d)):(je&&s&&_o(t),t.flags|=1,vt(e,t,n,d),t.child)}function ph(e,t,n,s,u){if(Oa(t),t.stateNode===null){var d=is,m=n.contextType;typeof m=="object"&&m!==null&&(d=pt(m)),d=new n(s,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=au,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=s,d.state=t.memoizedState,d.refs={},Ro(t),m=n.contextType,d.context=typeof m=="object"&&m!==null?pt(m):is,d.state=t.memoizedState,m=n.getDerivedStateFromProps,typeof m=="function"&&(nu(t,n,m,s),d.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(m=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),m!==d.state&&au.enqueueReplaceState(d,d.state,null),mr(t,s,d,u),hr(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){d=t.stateNode;var y=t.memoizedProps,x=Da(n,y);d.props=x;var U=d.context,H=n.contextType;m=is,typeof H=="object"&&H!==null&&(m=pt(H));var G=n.getDerivedStateFromProps;H=typeof G=="function"||typeof d.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,H||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y||U!==m)&&nh(t,d,s,m),Kn=!1;var z=t.memoizedState;d.state=z,mr(t,s,d,u),hr(),U=t.memoizedState,y||z!==U||Kn?(typeof G=="function"&&(nu(t,n,G,s),U=t.memoizedState),(x=Kn||th(t,n,x,s,z,U,m))?(H||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=U),d.props=s,d.state=U,d.context=m,s=x):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,Do(e,t),m=t.memoizedProps,H=Da(n,m),d.props=H,G=t.pendingProps,z=d.context,U=n.contextType,x=is,typeof U=="object"&&U!==null&&(x=pt(U)),y=n.getDerivedStateFromProps,(U=typeof y=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(m!==G||z!==x)&&nh(t,d,s,x),Kn=!1,z=t.memoizedState,d.state=z,mr(t,s,d,u),hr();var M=t.memoizedState;m!==G||z!==M||Kn||e!==null&&e.dependencies!==null&&_i(e.dependencies)?(typeof y=="function"&&(nu(t,n,y,s),M=t.memoizedState),(H=Kn||th(t,n,H,s,z,M,x)||e!==null&&e.dependencies!==null&&_i(e.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,M,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,M,x)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=M),d.props=s,d.state=M,d.context=x,s=H):(typeof d.componentDidUpdate!="function"||m===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),s=!1)}return d=s,Hi(e,t),s=(t.flags&128)!==0,d||s?(d=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&s?(t.child=Ca(t,e.child,null,u),t.child=Ca(t,null,n,u)):vt(e,t,n,u),t.memoizedState=d.state,e=t.child):e=On(e,t,u),e}function vh(e,t,n,s){return ja(),t.flags|=256,vt(e,t,n,s),t.child}var lu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ou(e){return{baseLanes:e,cachePool:rf()}}function uu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Bt),e}function yh(e,t,n){var s=t.pendingProps,u=!1,d=(t.flags&128)!==0,m;if((m=d)||(m=e!==null&&e.memoizedState===null?!1:(tt.current&2)!==0),m&&(u=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(je){if(u?Jn(t):Xn(),(e=Ke)?(e=Tm(e,Xt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:$n!==null?{id:cn,overflow:dn}:null,retryLane:536870912,hydrationErrors:null},n=Zd(e),n.return=t,t.child=n,gt=t,Ke=null)):e=null,e===null)throw Gn(t);return Ku(e)?t.lanes=32:t.lanes=536870912,null}var y=s.children;return s=s.fallback,u?(Xn(),u=t.mode,y=$i({mode:"hidden",children:y},u),s=Ea(s,u,n,null),y.return=t,s.return=t,y.sibling=s,t.child=y,s=t.child,s.memoizedState=ou(n),s.childLanes=uu(e,m,n),t.memoizedState=lu,br(null,s)):(Jn(t),cu(t,y))}var x=e.memoizedState;if(x!==null&&(y=x.dehydrated,y!==null)){if(d)t.flags&256?(Jn(t),t.flags&=-257,t=du(e,t,n)):t.memoizedState!==null?(Xn(),t.child=e.child,t.flags|=128,t=null):(Xn(),y=s.fallback,u=t.mode,s=$i({mode:"visible",children:s.children},u),y=Ea(y,u,n,null),y.flags|=2,s.return=t,y.return=t,s.sibling=y,t.child=s,Ca(t,e.child,null,n),s=t.child,s.memoizedState=ou(n),s.childLanes=uu(e,m,n),t.memoizedState=lu,t=br(null,s));else if(Jn(t),Ku(y)){if(m=y.nextSibling&&y.nextSibling.dataset,m)var U=m.dgst;m=U,s=Error(i(419)),s.stack="",s.digest=m,lr({value:s,source:null,stack:null}),t=du(e,t,n)}else if(it||cs(e,t,n,!1),m=(n&e.childLanes)!==0,it||m){if(m=$e,m!==null&&(s=ad(m,n),s!==0&&s!==x.retryLane))throw x.retryLane=s,Sa(e,s),Ct(m,e,s),ru;Yu(y)||Zi(),t=du(e,t,n)}else Yu(y)?(t.flags|=192,t.child=e.child,t=null):(e=x.treeContext,Ke=Pt(y.nextSibling),gt=t,je=!0,Vn=null,Xt=!1,e!==null&&Fd(t,e),t=cu(t,s.children),t.flags|=4096);return t}return u?(Xn(),y=s.fallback,u=t.mode,x=e.child,U=x.sibling,s=_n(x,{mode:"hidden",children:s.children}),s.subtreeFlags=x.subtreeFlags&65011712,U!==null?y=_n(U,y):(y=Ea(y,u,n,null),y.flags|=2),y.return=t,s.return=t,s.sibling=y,t.child=s,br(null,s),s=t.child,y=e.child.memoizedState,y===null?y=ou(n):(u=y.cachePool,u!==null?(x=st._currentValue,u=u.parent!==x?{parent:x,pool:x}:u):u=rf(),y={baseLanes:y.baseLanes|n,cachePool:u}),s.memoizedState=y,s.childLanes=uu(e,m,n),t.memoizedState=lu,br(e.child,s)):(Jn(t),n=e.child,e=n.sibling,n=_n(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=n,t.memoizedState=null,n)}function cu(e,t){return t=$i({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function $i(e,t){return e=Ut(22,e,null,t),e.lanes=0,e}function du(e,t,n){return Ca(t,e.child,null,n),e=cu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bh(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),To(e.return,t,n)}function fu(e,t,n,s,u,d){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:u,treeForkCount:d}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=n,m.tailMode=u,m.treeForkCount=d)}function wh(e,t,n){var s=t.pendingProps,u=s.revealOrder,d=s.tail;s=s.children;var m=tt.current,y=(m&2)!==0;if(y?(m=m&1|2,t.flags|=128):m&=1,W(tt,m),vt(e,t,s,n),s=je?ir:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bh(e,n,t);else if(e.tag===19)bh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&Ni(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),fu(t,!1,u,n,d,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Ni(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}fu(t,!0,n,null,d,s);break;case"together":fu(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function On(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wn|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(cs(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=_n(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_n(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&_i(e)))}function w0(e,t,n){switch(t.tag){case 3:et(t,t.stateNode.containerInfo),Yn(t,st,e.memoizedState.cache),ja();break;case 27:case 5:va(t);break;case 4:et(t,t.stateNode.containerInfo);break;case 10:Yn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Bo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Jn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?yh(e,t,n):(Jn(t),e=On(e,t,n),e!==null?e.sibling:null);Jn(t);break;case 19:var u=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(cs(e,t,n,!1),s=(n&t.childLanes)!==0),u){if(s)return wh(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),W(tt,tt.current),s)break;return null;case 22:return t.lanes=0,fh(e,t,n,t.pendingProps);case 24:Yn(t,st,e.memoizedState.cache)}return On(e,t,n)}function _h(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)it=!0;else{if(!hu(e,n)&&(t.flags&128)===0)return it=!1,w0(e,t,n);it=(e.flags&131072)!==0}else it=!1,je&&(t.flags&1048576)!==0&&Wd(t,ir,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Na(t.elementType),t.type=e,typeof e=="function")yo(e)?(s=Da(e,s),t.tag=1,t=ph(null,t,e,s,n)):(t.tag=0,t=iu(null,t,e,s,n));else{if(e!=null){var u=e.$$typeof;if(u===K){t.tag=11,t=uh(null,t,e,s,n);break e}else if(u===q){t.tag=14,t=ch(null,t,e,s,n);break e}}throw t=Ee(e)||e,Error(i(306,t,""))}}return t;case 0:return iu(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,u=Da(s,t.pendingProps),ph(e,t,s,u,n);case 3:e:{if(et(t,t.stateNode.containerInfo),e===null)throw Error(i(387));s=t.pendingProps;var d=t.memoizedState;u=d.element,Do(e,t),mr(t,s,null,n);var m=t.memoizedState;if(s=m.cache,Yn(t,st,s),s!==d.cache&&Oo(t,[st],n,!0),hr(),s=m.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=vh(e,t,s,n);break e}else if(s!==u){u=It(Error(i(424)),t),lr(u),t=vh(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ke=Pt(e.firstChild),gt=t,je=!0,Vn=null,Xt=!0,n=ff(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ja(),s===u){t=On(e,t,n);break e}vt(e,t,s,n)}t=t.child}return t;case 26:return Hi(e,t),e===null?(n=Rm(t.type,null,t.pendingProps,null))?t.memoizedState=n:je||(n=t.type,e=t.pendingProps,s=al(ge.current).createElement(n),s[mt]=t,s[jt]=e,yt(s,n,e),dt(s),t.stateNode=s):t.memoizedState=Rm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return va(t),e===null&&je&&(s=t.stateNode=Nm(t.type,t.pendingProps,ge.current),gt=t,Xt=!0,u=Ke,aa(t.type)?(Iu=u,Ke=Pt(s.firstChild)):Ke=u),vt(e,t,t.pendingProps.children,n),Hi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&je&&((u=s=Ke)&&(s=Z0(s,t.type,t.pendingProps,Xt),s!==null?(t.stateNode=s,gt=t,Ke=Pt(s.firstChild),Xt=!1,u=!0):u=!1),u||Gn(t)),va(t),u=t.type,d=t.pendingProps,m=e!==null?e.memoizedProps:null,s=d.children,$u(u,d)?s=null:m!==null&&$u(u,m)&&(t.flags|=32),t.memoizedState!==null&&(u=Ho(e,t,d0,null,null,n),Ur._currentValue=u),Hi(e,t),vt(e,t,s,n),t.child;case 6:return e===null&&je&&((e=n=Ke)&&(n=P0(n,t.pendingProps,Xt),n!==null?(t.stateNode=n,gt=t,Ke=null,e=!0):e=!1),e||Gn(t)),null;case 13:return yh(e,t,n);case 4:return et(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Ca(t,null,s,n):vt(e,t,s,n),t.child;case 11:return uh(e,t,t.type,t.pendingProps,n);case 7:return vt(e,t,t.pendingProps,n),t.child;case 8:return vt(e,t,t.pendingProps.children,n),t.child;case 12:return vt(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,Yn(t,t.type,s.value),vt(e,t,s.children,n),t.child;case 9:return u=t.type._context,s=t.pendingProps.children,Oa(t),u=pt(u),s=s(u),t.flags|=1,vt(e,t,s,n),t.child;case 14:return ch(e,t,t.type,t.pendingProps,n);case 15:return dh(e,t,t.type,t.pendingProps,n);case 19:return wh(e,t,n);case 31:return b0(e,t,n);case 22:return fh(e,t,n,t.pendingProps);case 24:return Oa(t),s=pt(st),e===null?(u=ko(),u===null&&(u=$e,d=Ao(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=n),u=d),t.memoizedState={parent:s,cache:u},Ro(t),Yn(t,st,u)):((e.lanes&n)!==0&&(Do(e,t),mr(t,null,null,n),hr()),u=e.memoizedState,d=t.memoizedState,u.parent!==s?(u={parent:s,cache:s},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Yn(t,st,s)):(s=d.cache,Yn(t,st,s),s!==u.cache&&Oo(t,[st],n,!0))),vt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function An(e){e.flags|=4}function mu(e,t,n,s,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Jh())e.flags|=8192;else throw ka=ji,Co}else e.flags&=-16777217}function xh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Lm(t))if(Jh())e.flags|=8192;else throw ka=ji,Co}function Vi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ed():536870912,e.lanes|=t,xs|=t)}function wr(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,s|=u.subtreeFlags&65011712,s|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function _0(e,t,n){var s=t.pendingProps;switch(xo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Ie(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),En(st),Ge(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(us(t)?An(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Eo())),Ie(t),null;case 26:var u=t.type,d=t.memoizedState;return e===null?(An(t),d!==null?(Ie(t),xh(t,d)):(Ie(t),mu(t,u,null,s,n))):d?d!==e.memoizedState?(An(t),Ie(t),xh(t,d)):(Ie(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&An(t),Ie(t),mu(t,u,e,s,n)),null;case 27:if(Ya(t),n=ge.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&An(t);else{if(!s){if(t.stateNode===null)throw Error(i(166));return Ie(t),null}e=F.current,us(t)?ef(t):(e=Nm(u,s,n),t.stateNode=e,An(t))}return Ie(t),null;case 5:if(Ya(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&An(t);else{if(!s){if(t.stateNode===null)throw Error(i(166));return Ie(t),null}if(d=F.current,us(t))ef(t);else{var m=al(ge.current);switch(d){case 1:d=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:d=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":d=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":d=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":d=m.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?d.multiple=!0:s.size&&(d.size=s.size);break;default:d=typeof s.is=="string"?m.createElement(u,{is:s.is}):m.createElement(u)}}d[mt]=t,d[jt]=s;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)d.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=d;e:switch(yt(d,u,s),u){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&An(t)}}return Ie(t),mu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&An(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(i(166));if(e=ge.current,us(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,u=gt,u!==null)switch(u.tag){case 27:case 5:s=u.memoizedProps}e[mt]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||ym(e.nodeValue,n)),e||Gn(t,!0)}else e=al(e).createTextNode(s),e[mt]=t,t.stateNode=e}return Ie(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(s=us(t),n!==null){if(e===null){if(!s)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[mt]=t}else ja(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),e=!1}else n=Eo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Mt(t),t):(Mt(t),null);if((t.flags&128)!==0)throw Error(i(558))}return Ie(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=us(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[mt]=t}else ja(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),u=!1}else u=Eo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Mt(t),t):(Mt(t),null)}return Mt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=s!==null,e=e!==null&&e.memoizedState!==null,n&&(s=t.child,u=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(u=s.alternate.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==u&&(s.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Vi(t,t.updateQueue),Ie(t),null);case 4:return Ge(),e===null&&Mu(t.stateNode.containerInfo),Ie(t),null;case 10:return En(t.type),Ie(t),null;case 19:if(V(tt),s=t.memoizedState,s===null)return Ie(t),null;if(u=(t.flags&128)!==0,d=s.rendering,d===null)if(u)wr(s,!1);else{if(Fe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=Ni(e),d!==null){for(t.flags|=128,wr(s,!1),e=d.updateQueue,t.updateQueue=e,Vi(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Xd(n,e),n=n.sibling;return W(tt,tt.current&1|2),je&&xn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&St()>Qi&&(t.flags|=128,u=!0,wr(s,!1),t.lanes=4194304)}else{if(!u)if(e=Ni(d),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Vi(t,e),wr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!d.alternate&&!je)return Ie(t),null}else 2*St()-s.renderingStartTime>Qi&&n!==536870912&&(t.flags|=128,u=!0,wr(s,!1),t.lanes=4194304);s.isBackwards?(d.sibling=t.child,t.child=d):(e=s.last,e!==null?e.sibling=d:t.child=d,s.last=d)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=St(),e.sibling=null,n=tt.current,W(tt,u?n&1|2:n&1),je&&xn(t,s.treeForkCount),e):(Ie(t),null);case 22:case 23:return Mt(t),Lo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(n&536870912)!==0&&(t.flags&128)===0&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),n=t.updateQueue,n!==null&&Vi(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&V(Aa),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),En(st),Ie(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function x0(e,t){switch(xo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return En(st),Ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ya(t),null;case 31:if(t.memoizedState!==null){if(Mt(t),t.alternate===null)throw Error(i(340));ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Mt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));ja()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return V(tt),null;case 4:return Ge(),null;case 10:return En(t.type),null;case 22:case 23:return Mt(t),Lo(),e!==null&&V(Aa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return En(st),null;case 25:return null;default:return null}}function Sh(e,t){switch(xo(t),t.tag){case 3:En(st),Ge();break;case 26:case 27:case 5:Ya(t);break;case 4:Ge();break;case 31:t.memoizedState!==null&&Mt(t);break;case 13:Mt(t);break;case 19:V(tt);break;case 10:En(t.type);break;case 22:case 23:Mt(t),Lo(),e!==null&&V(Aa);break;case 24:En(st)}}function _r(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var u=s.next;n=u;do{if((n.tag&e)===e){s=void 0;var d=n.create,m=n.inst;s=d(),m.destroy=s}n=n.next}while(n!==u)}}catch(y){ze(t,t.return,y)}}function Zn(e,t,n){try{var s=t.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var d=u.next;s=d;do{if((s.tag&e)===e){var m=s.inst,y=m.destroy;if(y!==void 0){m.destroy=void 0,u=t;var x=n,U=y;try{U()}catch(H){ze(u,x,H)}}}s=s.next}while(s!==d)}}catch(H){ze(t,t.return,H)}}function Eh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{mf(t,n)}catch(s){ze(e,e.return,s)}}}function jh(e,t,n){n.props=Da(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){ze(e,t,s)}}function xr(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(u){ze(e,t,u)}}function fn(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(u){ze(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){ze(e,t,u)}else n.current=null}function Th(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(u){ze(e,e.return,u)}}function gu(e,t,n){try{var s=e.stateNode;Y0(s,e.type,n,t),s[jt]=t}catch(u){ze(e,e.return,u)}}function Oh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&aa(e.type)||e.tag===4}function pu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Oh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&aa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vu(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=bn));else if(s!==4&&(s===27&&aa(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(vu(e,t,n),e=e.sibling;e!==null;)vu(e,t,n),e=e.sibling}function Gi(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&aa(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Gi(e,t,n),e=e.sibling;e!==null;)Gi(e,t,n),e=e.sibling}function Ah(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);yt(t,s,n),t[mt]=e,t[jt]=n}catch(d){ze(e,e.return,d)}}var Nn=!1,lt=!1,yu=!1,Nh=typeof WeakSet=="function"?WeakSet:Set,ft=null;function S0(e,t){if(e=e.containerInfo,qu=cl,e=Hd(e),co(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var u=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{n.nodeType,d.nodeType}catch{n=null;break e}var m=0,y=-1,x=-1,U=0,H=0,G=e,z=null;t:for(;;){for(var M;G!==n||u!==0&&G.nodeType!==3||(y=m+u),G!==d||s!==0&&G.nodeType!==3||(x=m+s),G.nodeType===3&&(m+=G.nodeValue.length),(M=G.firstChild)!==null;)z=G,G=M;for(;;){if(G===e)break t;if(z===n&&++U===u&&(y=m),z===d&&++H===s&&(x=m),(M=G.nextSibling)!==null)break;G=z,z=G.parentNode}G=M}n=y===-1||x===-1?null:{start:y,end:x}}else n=null}n=n||{start:0,end:0}}else n=null;for(Hu={focusedElem:e,selectionRange:n},cl=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){switch(t=ft,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)u=e[n],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,n=t,u=d.memoizedProps,d=d.memoizedState,s=n.stateNode;try{var ee=Da(n.type,u);e=s.getSnapshotBeforeUpdate(ee,d),s.__reactInternalSnapshotBeforeUpdate=e}catch(ue){ze(n,n.return,ue)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Gu(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}}function kh(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Cn(e,n),s&4&&_r(5,n);break;case 1:if(Cn(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(m){ze(n,n.return,m)}else{var u=Da(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){ze(n,n.return,m)}}s&64&&Eh(n),s&512&&xr(n,n.return);break;case 3:if(Cn(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{mf(e,t)}catch(m){ze(n,n.return,m)}}break;case 27:t===null&&s&4&&Ah(n);case 26:case 5:Cn(e,n),t===null&&s&4&&Th(n),s&512&&xr(n,n.return);break;case 12:Cn(e,n);break;case 31:Cn(e,n),s&4&&Dh(e,n);break;case 13:Cn(e,n),s&4&&Uh(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=R0.bind(null,n),W0(e,n))));break;case 22:if(s=n.memoizedState!==null||Nn,!s){t=t!==null&&t.memoizedState!==null||lt,u=Nn;var d=lt;Nn=s,(lt=t)&&!d?Rn(e,n,(n.subtreeFlags&8772)!==0):Cn(e,n),Nn=u,lt=d}break;case 30:break;default:Cn(e,n)}}function Ch(e){var t=e.alternate;t!==null&&(e.alternate=null,Ch(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ql(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,Ot=!1;function kn(e,t,n){for(n=n.child;n!==null;)Rh(e,t,n),n=n.sibling}function Rh(e,t,n){if(re&&typeof re.onCommitFiberUnmount=="function")try{re.onCommitFiberUnmount(Z,n)}catch{}switch(n.tag){case 26:lt||fn(n,t),kn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:lt||fn(n,t);var s=Je,u=Ot;aa(n.type)&&(Je=n.stateNode,Ot=!1),kn(e,t,n),Cr(n.stateNode),Je=s,Ot=u;break;case 5:lt||fn(n,t);case 6:if(s=Je,u=Ot,Je=null,kn(e,t,n),Je=s,Ot=u,Je!==null)if(Ot)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(n.stateNode)}catch(d){ze(n,t,d)}else try{Je.removeChild(n.stateNode)}catch(d){ze(n,t,d)}break;case 18:Je!==null&&(Ot?(e=Je,Em(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ks(e)):Em(Je,n.stateNode));break;case 4:s=Je,u=Ot,Je=n.stateNode.containerInfo,Ot=!0,kn(e,t,n),Je=s,Ot=u;break;case 0:case 11:case 14:case 15:Zn(2,n,t),lt||Zn(4,n,t),kn(e,t,n);break;case 1:lt||(fn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&jh(n,t,s)),kn(e,t,n);break;case 21:kn(e,t,n);break;case 22:lt=(s=lt)||n.memoizedState!==null,kn(e,t,n),lt=s;break;default:kn(e,t,n)}}function Dh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ks(e)}catch(n){ze(t,t.return,n)}}}function Uh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ks(e)}catch(n){ze(t,t.return,n)}}function E0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Nh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Nh),t;default:throw Error(i(435,e.tag))}}function Yi(e,t){var n=E0(e);t.forEach(function(s){if(!n.has(s)){n.add(s);var u=D0.bind(null,e,s);s.then(u,u)}})}function At(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var u=n[s],d=e,m=t,y=m;e:for(;y!==null;){switch(y.tag){case 27:if(aa(y.type)){Je=y.stateNode,Ot=!1;break e}break;case 5:Je=y.stateNode,Ot=!1;break e;case 3:case 4:Je=y.stateNode.containerInfo,Ot=!0;break e}y=y.return}if(Je===null)throw Error(i(160));Rh(d,m,u),Je=null,Ot=!1,d=u.alternate,d!==null&&(d.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)zh(t,e),t=t.sibling}var an=null;function zh(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:At(t,e),Nt(e),s&4&&(Zn(3,e,e.return),_r(3,e),Zn(5,e,e.return));break;case 1:At(t,e),Nt(e),s&512&&(lt||n===null||fn(n,n.return)),s&64&&Nn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var u=an;if(At(t,e),Nt(e),s&512&&(lt||n===null||fn(n,n.return)),s&4){var d=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(s){case"title":d=u.getElementsByTagName("title")[0],(!d||d[Xs]||d[mt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=u.createElement(s),u.head.insertBefore(d,u.querySelector("head > title"))),yt(d,s,n),d[mt]=e,dt(d),s=d;break e;case"link":var m=zm("link","href",u).get(s+(n.href||""));if(m){for(var y=0;y<m.length;y++)if(d=m[y],d.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&d.getAttribute("rel")===(n.rel==null?null:n.rel)&&d.getAttribute("title")===(n.title==null?null:n.title)&&d.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){m.splice(y,1);break t}}d=u.createElement(s),yt(d,s,n),u.head.appendChild(d);break;case"meta":if(m=zm("meta","content",u).get(s+(n.content||""))){for(y=0;y<m.length;y++)if(d=m[y],d.getAttribute("content")===(n.content==null?null:""+n.content)&&d.getAttribute("name")===(n.name==null?null:n.name)&&d.getAttribute("property")===(n.property==null?null:n.property)&&d.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&d.getAttribute("charset")===(n.charSet==null?null:n.charSet)){m.splice(y,1);break t}}d=u.createElement(s),yt(d,s,n),u.head.appendChild(d);break;default:throw Error(i(468,s))}d[mt]=e,dt(d),s=d}e.stateNode=s}else Mm(u,e.type,e.stateNode);else e.stateNode=Um(u,s,e.memoizedProps);else d!==s?(d===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):d.count--,s===null?Mm(u,e.type,e.stateNode):Um(u,s,e.memoizedProps)):s===null&&e.stateNode!==null&&gu(e,e.memoizedProps,n.memoizedProps)}break;case 27:At(t,e),Nt(e),s&512&&(lt||n===null||fn(n,n.return)),n!==null&&s&4&&gu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(At(t,e),Nt(e),s&512&&(lt||n===null||fn(n,n.return)),e.flags&32){u=e.stateNode;try{Fa(u,"")}catch(ee){ze(e,e.return,ee)}}s&4&&e.stateNode!=null&&(u=e.memoizedProps,gu(e,u,n!==null?n.memoizedProps:u)),s&1024&&(yu=!0);break;case 6:if(At(t,e),Nt(e),s&4){if(e.stateNode===null)throw Error(i(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(ee){ze(e,e.return,ee)}}break;case 3:if(il=null,u=an,an=sl(t.containerInfo),At(t,e),an=u,Nt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ks(t.containerInfo)}catch(ee){ze(e,e.return,ee)}yu&&(yu=!1,Mh(e));break;case 4:s=an,an=sl(e.stateNode.containerInfo),At(t,e),Nt(e),an=s;break;case 12:At(t,e),Nt(e);break;case 31:At(t,e),Nt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Yi(e,s)));break;case 13:At(t,e),Nt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ii=St()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Yi(e,s)));break;case 22:u=e.memoizedState!==null;var x=n!==null&&n.memoizedState!==null,U=Nn,H=lt;if(Nn=U||u,lt=H||x,At(t,e),lt=H,Nn=U,Nt(e),s&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||x||Nn||lt||Ua(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){x=n=t;try{if(d=x.stateNode,u)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{y=x.stateNode;var G=x.memoizedProps.style,z=G!=null&&G.hasOwnProperty("display")?G.display:null;y.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ee){ze(x,x.return,ee)}}}else if(t.tag===6){if(n===null){x=t;try{x.stateNode.nodeValue=u?"":x.memoizedProps}catch(ee){ze(x,x.return,ee)}}}else if(t.tag===18){if(n===null){x=t;try{var M=x.stateNode;u?jm(M,!0):jm(x.stateNode,!1)}catch(ee){ze(x,x.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,Yi(e,n))));break;case 19:At(t,e),Nt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Yi(e,s)));break;case 30:break;case 21:break;default:At(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(Oh(s)){n=s;break}s=s.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var u=n.stateNode,d=pu(e);Gi(e,d,u);break;case 5:var m=n.stateNode;n.flags&32&&(Fa(m,""),n.flags&=-33);var y=pu(e);Gi(e,y,m);break;case 3:case 4:var x=n.stateNode.containerInfo,U=pu(e);vu(e,U,x);break;default:throw Error(i(161))}}catch(H){ze(e,e.return,H)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Mh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Cn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)kh(e,t.alternate,t),t=t.sibling}function Ua(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Zn(4,t,t.return),Ua(t);break;case 1:fn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&jh(t,t.return,n),Ua(t);break;case 27:Cr(t.stateNode);case 26:case 5:fn(t,t.return),Ua(t);break;case 22:t.memoizedState===null&&Ua(t);break;case 30:Ua(t);break;default:Ua(t)}e=e.sibling}}function Rn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,u=e,d=t,m=d.flags;switch(d.tag){case 0:case 11:case 15:Rn(u,d,n),_r(4,d);break;case 1:if(Rn(u,d,n),s=d,u=s.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(U){ze(s,s.return,U)}if(s=d,u=s.updateQueue,u!==null){var y=s.stateNode;try{var x=u.shared.hiddenCallbacks;if(x!==null)for(u.shared.hiddenCallbacks=null,u=0;u<x.length;u++)hf(x[u],y)}catch(U){ze(s,s.return,U)}}n&&m&64&&Eh(d),xr(d,d.return);break;case 27:Ah(d);case 26:case 5:Rn(u,d,n),n&&s===null&&m&4&&Th(d),xr(d,d.return);break;case 12:Rn(u,d,n);break;case 31:Rn(u,d,n),n&&m&4&&Dh(u,d);break;case 13:Rn(u,d,n),n&&m&4&&Uh(u,d);break;case 22:d.memoizedState===null&&Rn(u,d,n),xr(d,d.return);break;case 30:break;default:Rn(u,d,n)}t=t.sibling}}function bu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&or(n))}function wu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&or(e))}function sn(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Lh(e,t,n,s),t=t.sibling}function Lh(e,t,n,s){var u=t.flags;switch(t.tag){case 0:case 11:case 15:sn(e,t,n,s),u&2048&&_r(9,t);break;case 1:sn(e,t,n,s);break;case 3:sn(e,t,n,s),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&or(e)));break;case 12:if(u&2048){sn(e,t,n,s),e=t.stateNode;try{var d=t.memoizedProps,m=d.id,y=d.onPostCommit;typeof y=="function"&&y(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){ze(t,t.return,x)}}else sn(e,t,n,s);break;case 31:sn(e,t,n,s);break;case 13:sn(e,t,n,s);break;case 23:break;case 22:d=t.stateNode,m=t.alternate,t.memoizedState!==null?d._visibility&2?sn(e,t,n,s):Sr(e,t):d._visibility&2?sn(e,t,n,s):(d._visibility|=2,bs(e,t,n,s,(t.subtreeFlags&10256)!==0||!1)),u&2048&&bu(m,t);break;case 24:sn(e,t,n,s),u&2048&&wu(t.alternate,t);break;default:sn(e,t,n,s)}}function bs(e,t,n,s,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,m=t,y=n,x=s,U=m.flags;switch(m.tag){case 0:case 11:case 15:bs(d,m,y,x,u),_r(8,m);break;case 23:break;case 22:var H=m.stateNode;m.memoizedState!==null?H._visibility&2?bs(d,m,y,x,u):Sr(d,m):(H._visibility|=2,bs(d,m,y,x,u)),u&&U&2048&&bu(m.alternate,m);break;case 24:bs(d,m,y,x,u),u&&U&2048&&wu(m.alternate,m);break;default:bs(d,m,y,x,u)}t=t.sibling}}function Sr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,u=s.flags;switch(s.tag){case 22:Sr(n,s),u&2048&&bu(s.alternate,s);break;case 24:Sr(n,s),u&2048&&wu(s.alternate,s);break;default:Sr(n,s)}t=t.sibling}}var Er=8192;function ws(e,t,n){if(e.subtreeFlags&Er)for(e=e.child;e!==null;)Bh(e,t,n),e=e.sibling}function Bh(e,t,n){switch(e.tag){case 26:ws(e,t,n),e.flags&Er&&e.memoizedState!==null&&cy(n,an,e.memoizedState,e.memoizedProps);break;case 5:ws(e,t,n);break;case 3:case 4:var s=an;an=sl(e.stateNode.containerInfo),ws(e,t,n),an=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Er,Er=16777216,ws(e,t,n),Er=s):ws(e,t,n));break;default:ws(e,t,n)}}function qh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function jr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];ft=s,$h(s,e)}qh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Hh(e),e=e.sibling}function Hh(e){switch(e.tag){case 0:case 11:case 15:jr(e),e.flags&2048&&Zn(9,e,e.return);break;case 3:jr(e);break;case 12:jr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ki(e)):jr(e);break;default:jr(e)}}function Ki(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];ft=s,$h(s,e)}qh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Zn(8,t,t.return),Ki(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ki(t));break;default:Ki(t)}e=e.sibling}}function $h(e,t){for(;ft!==null;){var n=ft;switch(n.tag){case 0:case 11:case 15:Zn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:or(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,ft=s;else e:for(n=e;ft!==null;){s=ft;var u=s.sibling,d=s.return;if(Ch(s),s===n){ft=null;break e}if(u!==null){u.return=d,ft=u;break e}ft=d}}}var j0={getCacheForType:function(e){var t=pt(st),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return pt(st).controller.signal}},T0=typeof WeakMap=="function"?WeakMap:Map,De=0,$e=null,be=null,_e=0,Ue=0,Lt=null,Pn=!1,_s=!1,_u=!1,Dn=0,Fe=0,Wn=0,za=0,xu=0,Bt=0,xs=0,Tr=null,kt=null,Su=!1,Ii=0,Vh=0,Qi=1/0,Ji=null,Fn=null,ut=0,ea=null,Ss=null,Un=0,Eu=0,ju=null,Gh=null,Or=0,Tu=null;function qt(){return(De&2)!==0&&_e!==0?_e&-_e:L.T!==null?Ru():sd()}function Yh(){if(Bt===0)if((_e&536870912)===0||je){var e=He;He<<=1,(He&3932160)===0&&(He=262144),Bt=e}else Bt=536870912;return e=zt.current,e!==null&&(e.flags|=32),Bt}function Ct(e,t,n){(e===$e&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)&&(Es(e,0),ta(e,_e,Bt,!1)),Js(e,n),((De&2)===0||e!==$e)&&(e===$e&&((De&2)===0&&(za|=n),Fe===4&&ta(e,_e,Bt,!1)),hn(e))}function Kh(e,t,n){if((De&6)!==0)throw Error(i(327));var s=!n&&(t&127)===0&&(t&e.expiredLanes)===0||tn(e,t),u=s?N0(e,t):Au(e,t,!0),d=s;do{if(u===0){_s&&!s&&ta(e,t,0,!1);break}else{if(n=e.current.alternate,d&&!O0(n)){u=Au(e,t,!1),d=!1;continue}if(u===2){if(d=t,e.errorRecoveryDisabledLanes&d)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var y=e;u=Tr;var x=y.current.memoizedState.isDehydrated;if(x&&(Es(y,m).flags|=256),m=Au(y,m,!1),m!==2){if(_u&&!x){y.errorRecoveryDisabledLanes|=d,za|=d,u=4;break e}d=kt,kt=u,d!==null&&(kt===null?kt=d:kt.push.apply(kt,d))}u=m}if(d=!1,u!==2)continue}}if(u===1){Es(e,0),ta(e,t,0,!0);break}e:{switch(s=e,d=u,d){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:ta(s,t,Bt,!Pn);break e;case 2:kt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(u=Ii+300-St(),10<u)){if(ta(s,t,Bt,!Pn),Ze(s,0,!0)!==0)break e;Un=t,s.timeoutHandle=xm(Ih.bind(null,s,n,kt,Ji,Su,t,Bt,za,xs,Pn,d,"Throttled",-0,0),u);break e}Ih(s,n,kt,Ji,Su,t,Bt,za,xs,Pn,d,null,-0,0)}}break}while(!0);hn(e)}function Ih(e,t,n,s,u,d,m,y,x,U,H,G,z,M){if(e.timeoutHandle=-1,G=t.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bn},Bh(t,d,G);var ee=(d&62914560)===d?Ii-St():(d&4194048)===d?Vh-St():0;if(ee=dy(G,ee),ee!==null){Un=d,e.cancelPendingCommit=ee(em.bind(null,e,t,d,n,s,u,m,y,x,H,G,null,z,M)),ta(e,d,m,!U);return}}em(e,t,d,n,s,u,m,y,x)}function O0(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var u=n[s],d=u.getSnapshot;u=u.value;try{if(!Dt(d(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ta(e,t,n,s){t&=~xu,t&=~za,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var u=t;0<u;){var d=31-de(u),m=1<<d;s[d]=-1,u&=~m}n!==0&&td(e,n,t)}function Xi(){return(De&6)===0?(Ar(0),!1):!0}function Ou(){if(be!==null){if(Ue===0)var e=be.return;else e=be,Sn=Ta=null,Go(e),ms=null,cr=0,e=be;for(;e!==null;)Sh(e.alternate,e),e=e.return;be=null}}function Es(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Q0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Un=0,Ou(),$e=e,be=n=_n(e.current,null),_e=t,Ue=0,Lt=null,Pn=!1,_s=tn(e,t),_u=!1,xs=Bt=xu=za=Wn=Fe=0,kt=Tr=null,Su=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var u=31-de(s),d=1<<u;t|=e[u],s&=~d}return Dn=t,pi(),n}function Qh(e,t){pe=null,L.H=yr,t===hs||t===Ei?(t=uf(),Ue=3):t===Co?(t=uf(),Ue=4):Ue=t===ru?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Lt=t,be===null&&(Fe=1,Bi(e,It(t,e.current)))}function Jh(){var e=zt.current;return e===null?!0:(_e&4194048)===_e?Zt===null:(_e&62914560)===_e||(_e&536870912)!==0?e===Zt:!1}function Xh(){var e=L.H;return L.H=yr,e===null?yr:e}function Zh(){var e=L.A;return L.A=j0,e}function Zi(){Fe=4,Pn||(_e&4194048)!==_e&&zt.current!==null||(_s=!0),(Wn&134217727)===0&&(za&134217727)===0||$e===null||ta($e,_e,Bt,!1)}function Au(e,t,n){var s=De;De|=2;var u=Xh(),d=Zh();($e!==e||_e!==t)&&(Ji=null,Es(e,t)),t=!1;var m=Fe;e:do try{if(Ue!==0&&be!==null){var y=be,x=Lt;switch(Ue){case 8:Ou(),m=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(t=!0);var U=Ue;if(Ue=0,Lt=null,js(e,y,x,U),n&&_s){m=0;break e}break;default:U=Ue,Ue=0,Lt=null,js(e,y,x,U)}}A0(),m=Fe;break}catch(H){Qh(e,H)}while(!0);return t&&e.shellSuspendCounter++,Sn=Ta=null,De=s,L.H=u,L.A=d,be===null&&($e=null,_e=0,pi()),m}function A0(){for(;be!==null;)Ph(be)}function N0(e,t){var n=De;De|=2;var s=Xh(),u=Zh();$e!==e||_e!==t?(Ji=null,Qi=St()+500,Es(e,t)):_s=tn(e,t);e:do try{if(Ue!==0&&be!==null){t=be;var d=Lt;t:switch(Ue){case 1:Ue=0,Lt=null,js(e,t,d,1);break;case 2:case 9:if(lf(d)){Ue=0,Lt=null,Wh(t);break}t=function(){Ue!==2&&Ue!==9||$e!==e||(Ue=7),hn(e)},d.then(t,t);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:lf(d)?(Ue=0,Lt=null,Wh(t)):(Ue=0,Lt=null,js(e,t,d,7));break;case 5:var m=null;switch(be.tag){case 26:m=be.memoizedState;case 5:case 27:var y=be;if(m?Lm(m):y.stateNode.complete){Ue=0,Lt=null;var x=y.sibling;if(x!==null)be=x;else{var U=y.return;U!==null?(be=U,Pi(U)):be=null}break t}}Ue=0,Lt=null,js(e,t,d,5);break;case 6:Ue=0,Lt=null,js(e,t,d,6);break;case 8:Ou(),Fe=6;break e;default:throw Error(i(462))}}k0();break}catch(H){Qh(e,H)}while(!0);return Sn=Ta=null,L.H=s,L.A=u,De=n,be!==null?0:($e=null,_e=0,pi(),Fe)}function k0(){for(;be!==null&&!ql();)Ph(be)}function Ph(e){var t=_h(e.alternate,e,Dn);e.memoizedProps=e.pendingProps,t===null?Pi(e):be=t}function Wh(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=gh(n,t,t.pendingProps,t.type,void 0,_e);break;case 11:t=gh(n,t,t.pendingProps,t.type.render,t.ref,_e);break;case 5:Go(t);default:Sh(n,t),t=be=Xd(t,Dn),t=_h(n,t,Dn)}e.memoizedProps=e.pendingProps,t===null?Pi(e):be=t}function js(e,t,n,s){Sn=Ta=null,Go(t),ms=null,cr=0;var u=t.return;try{if(y0(e,u,t,n,_e)){Fe=1,Bi(e,It(n,e.current)),be=null;return}}catch(d){if(u!==null)throw be=u,d;Fe=1,Bi(e,It(n,e.current)),be=null;return}t.flags&32768?(je||s===1?e=!0:_s||(_e&536870912)!==0?e=!1:(Pn=e=!0,(s===2||s===9||s===3||s===6)&&(s=zt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Fh(t,e)):Pi(t)}function Pi(e){var t=e;do{if((t.flags&32768)!==0){Fh(t,Pn);return}e=t.return;var n=_0(t.alternate,t,Dn);if(n!==null){be=n;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Fe===0&&(Fe=5)}function Fh(e,t){do{var n=x0(e.alternate,e);if(n!==null){n.flags&=32767,be=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=n}while(e!==null);Fe=6,be=null}function em(e,t,n,s,u,d,m,y,x){e.cancelPendingCommit=null;do Wi();while(ut!==0);if((De&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(d=t.lanes|t.childLanes,d|=po,uv(e,n,d,m,y,x),e===$e&&(be=$e=null,_e=0),Ss=t,ea=e,Un=n,Eu=d,ju=u,Gh=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,U0(Ia,function(){return rm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=L.T,L.T=null,u=P.p,P.p=2,m=De,De|=4;try{S0(e,t,n)}finally{De=m,P.p=u,L.T=s}}ut=1,tm(),nm(),am()}}function tm(){if(ut===1){ut=0;var e=ea,t=Ss,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=L.T,L.T=null;var s=P.p;P.p=2;var u=De;De|=4;try{zh(t,e);var d=Hu,m=Hd(e.containerInfo),y=d.focusedElem,x=d.selectionRange;if(m!==y&&y&&y.ownerDocument&&qd(y.ownerDocument.documentElement,y)){if(x!==null&&co(y)){var U=x.start,H=x.end;if(H===void 0&&(H=U),"selectionStart"in y)y.selectionStart=U,y.selectionEnd=Math.min(H,y.value.length);else{var G=y.ownerDocument||document,z=G&&G.defaultView||window;if(z.getSelection){var M=z.getSelection(),ee=y.textContent.length,ue=Math.min(x.start,ee),Be=x.end===void 0?ue:Math.min(x.end,ee);!M.extend&&ue>Be&&(m=Be,Be=ue,ue=m);var k=Bd(y,ue),E=Bd(y,Be);if(k&&E&&(M.rangeCount!==1||M.anchorNode!==k.node||M.anchorOffset!==k.offset||M.focusNode!==E.node||M.focusOffset!==E.offset)){var D=G.createRange();D.setStart(k.node,k.offset),M.removeAllRanges(),ue>Be?(M.addRange(D),M.extend(E.node,E.offset)):(D.setEnd(E.node,E.offset),M.addRange(D))}}}}for(G=[],M=y;M=M.parentNode;)M.nodeType===1&&G.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<G.length;y++){var $=G[y];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}cl=!!qu,Hu=qu=null}finally{De=u,P.p=s,L.T=n}}e.current=t,ut=2}}function nm(){if(ut===2){ut=0;var e=ea,t=Ss,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=L.T,L.T=null;var s=P.p;P.p=2;var u=De;De|=4;try{kh(e,t.alternate,t)}finally{De=u,P.p=s,L.T=n}}ut=3}}function am(){if(ut===4||ut===3){ut=0,Hl();var e=ea,t=Ss,n=Un,s=Gh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ut=5:(ut=0,Ss=ea=null,sm(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Fn=null),Kl(n),t=t.stateNode,re&&typeof re.onCommitFiberRoot=="function")try{re.onCommitFiberRoot(Z,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=L.T,u=P.p,P.p=2,L.T=null;try{for(var d=e.onRecoverableError,m=0;m<s.length;m++){var y=s[m];d(y.value,{componentStack:y.stack})}}finally{L.T=t,P.p=u}}(Un&3)!==0&&Wi(),hn(e),u=e.pendingLanes,(n&261930)!==0&&(u&42)!==0?e===Tu?Or++:(Or=0,Tu=e):Or=0,Ar(0)}}function sm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,or(t)))}function Wi(){return tm(),nm(),am(),rm()}function rm(){if(ut!==5)return!1;var e=ea,t=Eu;Eu=0;var n=Kl(Un),s=L.T,u=P.p;try{P.p=32>n?32:n,L.T=null,n=ju,ju=null;var d=ea,m=Un;if(ut=0,Ss=ea=null,Un=0,(De&6)!==0)throw Error(i(331));var y=De;if(De|=4,Hh(d.current),Lh(d,d.current,m,n),De=y,Ar(0,!1),re&&typeof re.onPostCommitFiberRoot=="function")try{re.onPostCommitFiberRoot(Z,d)}catch{}return!0}finally{P.p=u,L.T=s,sm(e,t)}}function im(e,t,n){t=It(n,t),t=su(e.stateNode,t,2),e=Qn(e,t,2),e!==null&&(Js(e,2),hn(e))}function ze(e,t,n){if(e.tag===3)im(e,e,n);else for(;t!==null;){if(t.tag===3){im(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Fn===null||!Fn.has(s))){e=It(n,e),n=lh(2),s=Qn(t,n,2),s!==null&&(oh(n,s,t,e),Js(s,2),hn(s));break}}t=t.return}}function Nu(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new T0;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(n)||(_u=!0,u.add(n),e=C0.bind(null,e,t,n),t.then(e,e))}function C0(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,$e===e&&(_e&n)===n&&(Fe===4||Fe===3&&(_e&62914560)===_e&&300>St()-Ii?(De&2)===0&&Es(e,0):xu|=n,xs===_e&&(xs=0)),hn(e)}function lm(e,t){t===0&&(t=ed()),e=Sa(e,t),e!==null&&(Js(e,t),hn(e))}function R0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),lm(e,n)}function D0(e,t){var n=0;switch(e.tag){case 31:case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(i(314))}s!==null&&s.delete(t),lm(e,n)}function U0(e,t){return Is(e,t)}var Fi=null,Ts=null,ku=!1,el=!1,Cu=!1,na=0;function hn(e){e!==Ts&&e.next===null&&(Ts===null?Fi=Ts=e:Ts=Ts.next=e),el=!0,ku||(ku=!0,M0())}function Ar(e,t){if(!Cu&&el){Cu=!0;do for(var n=!1,s=Fi;s!==null;){if(e!==0){var u=s.pendingLanes;if(u===0)var d=0;else{var m=s.suspendedLanes,y=s.pingedLanes;d=(1<<31-de(42|e)+1)-1,d&=u&~(m&~y),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(n=!0,dm(s,d))}else d=_e,d=Ze(s,s===$e?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(d&3)===0||tn(s,d)||(n=!0,dm(s,d));s=s.next}while(n);Cu=!1}}function z0(){om()}function om(){el=ku=!1;var e=0;na!==0&&I0()&&(e=na);for(var t=St(),n=null,s=Fi;s!==null;){var u=s.next,d=um(s,t);d===0?(s.next=null,n===null?Fi=u:n.next=u,u===null&&(Ts=n)):(n=s,(e!==0||(d&3)!==0)&&(el=!0)),s=u}ut!==0&&ut!==5||Ar(e),na!==0&&(na=0)}function um(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var m=31-de(d),y=1<<m,x=u[m];x===-1?((y&n)===0||(y&s)!==0)&&(u[m]=Vl(y,t)):x<=t&&(e.expiredLanes|=y),d&=~y}if(t=$e,n=_e,n=Ze(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(Ue===2||Ue===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Qs(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||tn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&Qs(s),Kl(n)){case 2:case 8:n=ni;break;case 32:n=Ia;break;case 268435456:n=ai;break;default:n=Ia}return s=cm.bind(null,e),n=Is(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&Qs(s),e.callbackPriority=2,e.callbackNode=null,2}function cm(e,t){if(ut!==0&&ut!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Wi()&&e.callbackNode!==n)return null;var s=_e;return s=Ze(e,e===$e?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Kh(e,s,t),um(e,St()),e.callbackNode!=null&&e.callbackNode===n?cm.bind(null,e):null)}function dm(e,t){if(Wi())return null;Kh(e,t,!0)}function M0(){J0(function(){(De&6)!==0?Is(ti,z0):om()})}function Ru(){if(na===0){var e=ds;e===0&&(e=Re,Re<<=1,(Re&261888)===0&&(Re=256)),na=e}return na}function fm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oi(""+e)}function hm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function L0(e,t,n,s,u){if(t==="submit"&&n&&n.stateNode===u){var d=fm((u[jt]||null).action),m=s.submitter;m&&(t=(t=m[jt]||null)?fm(t.formAction):m.getAttribute("formAction"),t!==null&&(d=t,m=null));var y=new fi("action","action",null,s,u);e.push({event:y,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(na!==0){var x=m?hm(u,m):new FormData(u);Wo(n,{pending:!0,data:x,method:u.method,action:d},null,x)}}else typeof d=="function"&&(y.preventDefault(),x=m?hm(u,m):new FormData(u),Wo(n,{pending:!0,data:x,method:u.method,action:d},d,x))},currentTarget:u}]})}}for(var Du=0;Du<go.length;Du++){var Uu=go[Du],B0=Uu.toLowerCase(),q0=Uu[0].toUpperCase()+Uu.slice(1);nn(B0,"on"+q0)}nn(Gd,"onAnimationEnd"),nn(Yd,"onAnimationIteration"),nn(Kd,"onAnimationStart"),nn("dblclick","onDoubleClick"),nn("focusin","onFocus"),nn("focusout","onBlur"),nn(t0,"onTransitionRun"),nn(n0,"onTransitionStart"),nn(a0,"onTransitionCancel"),nn(Id,"onTransitionEnd"),Pa("onMouseEnter",["mouseout","mouseover"]),Pa("onMouseLeave",["mouseout","mouseover"]),Pa("onPointerEnter",["pointerout","pointerover"]),Pa("onPointerLeave",["pointerout","pointerover"]),ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ba("onBeforeInput",["compositionend","keypress","textInput","paste"]),ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nr));function mm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],u=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var m=s.length-1;0<=m;m--){var y=s[m],x=y.instance,U=y.currentTarget;if(y=y.listener,x!==d&&u.isPropagationStopped())break e;d=y,u.currentTarget=U;try{d(u)}catch(H){gi(H)}u.currentTarget=null,d=x}else for(m=0;m<s.length;m++){if(y=s[m],x=y.instance,U=y.currentTarget,y=y.listener,x!==d&&u.isPropagationStopped())break e;d=y,u.currentTarget=U;try{d(u)}catch(H){gi(H)}u.currentTarget=null,d=x}}}}function we(e,t){var n=t[Il];n===void 0&&(n=t[Il]=new Set);var s=e+"__bubble";n.has(s)||(gm(t,e,2,!1),n.add(s))}function zu(e,t,n){var s=0;t&&(s|=4),gm(n,e,s,t)}var tl="_reactListening"+Math.random().toString(36).slice(2);function Mu(e){if(!e[tl]){e[tl]=!0,ld.forEach(function(n){n!=="selectionchange"&&(H0.has(n)||zu(n,!1,e),zu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tl]||(t[tl]=!0,zu("selectionchange",!1,t))}}function gm(e,t,n,s){switch(Ym(t)){case 2:var u=my;break;case 8:u=gy;break;default:u=Pu}n=u.bind(null,t,n,e),u=void 0,!to||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Lu(e,t,n,s,u){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var y=s.stateNode.containerInfo;if(y===u)break;if(m===4)for(m=s.return;m!==null;){var x=m.tag;if((x===3||x===4)&&m.stateNode.containerInfo===u)return;m=m.return}for(;y!==null;){if(m=Ja(y),m===null)return;if(x=m.tag,x===5||x===6||x===26||x===27){s=d=m;continue e}y=y.parentNode}}s=s.return}bd(function(){var U=d,H=Fl(n),G=[];e:{var z=Qd.get(e);if(z!==void 0){var M=fi,ee=e;switch(e){case"keypress":if(ci(n)===0)break e;case"keydown":case"keyup":M=Dv;break;case"focusin":ee="focus",M=ro;break;case"focusout":ee="blur",M=ro;break;case"beforeblur":case"afterblur":M=ro;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=xd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=_v;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=Mv;break;case Gd:case Yd:case Kd:M=Ev;break;case Id:M=Bv;break;case"scroll":case"scrollend":M=bv;break;case"wheel":M=Hv;break;case"copy":case"cut":case"paste":M=Tv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Ed;break;case"toggle":case"beforetoggle":M=Vv}var ue=(t&4)!==0,Be=!ue&&(e==="scroll"||e==="scrollend"),k=ue?z!==null?z+"Capture":null:z;ue=[];for(var E=U,D;E!==null;){var $=E;if(D=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||D===null||k===null||($=Ps(E,k),$!=null&&ue.push(kr(E,$,D))),Be)break;E=E.return}0<ue.length&&(z=new M(z,ee,null,n,H),G.push({event:z,listeners:ue}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",z&&n!==Wl&&(ee=n.relatedTarget||n.fromElement)&&(Ja(ee)||ee[Qa]))break e;if((M||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,M?(ee=n.relatedTarget||n.toElement,M=U,ee=ee?Ja(ee):null,ee!==null&&(Be=c(ee),ue=ee.tag,ee!==Be||ue!==5&&ue!==27&&ue!==6)&&(ee=null)):(M=null,ee=U),M!==ee)){if(ue=xd,$="onMouseLeave",k="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(ue=Ed,$="onPointerLeave",k="onPointerEnter",E="pointer"),Be=M==null?z:Zs(M),D=ee==null?z:Zs(ee),z=new ue($,E+"leave",M,n,H),z.target=Be,z.relatedTarget=D,$=null,Ja(H)===U&&(ue=new ue(k,E+"enter",ee,n,H),ue.target=D,ue.relatedTarget=Be,$=ue),Be=$,M&&ee)t:{for(ue=$0,k=M,E=ee,D=0,$=k;$;$=ue($))D++;$=0;for(var le=E;le;le=ue(le))$++;for(;0<D-$;)k=ue(k),D--;for(;0<$-D;)E=ue(E),$--;for(;D--;){if(k===E||E!==null&&k===E.alternate){ue=k;break t}k=ue(k),E=ue(E)}ue=null}else ue=null;M!==null&&pm(G,z,M,ue,!1),ee!==null&&Be!==null&&pm(G,Be,ee,ue,!0)}}e:{if(z=U?Zs(U):window,M=z.nodeName&&z.nodeName.toLowerCase(),M==="select"||M==="input"&&z.type==="file")var Oe=Rd;else if(kd(z))if(Dd)Oe=Wv;else{Oe=Zv;var ne=Xv}else M=z.nodeName,!M||M.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?U&&Pl(U.elementType)&&(Oe=Rd):Oe=Pv;if(Oe&&(Oe=Oe(e,U))){Cd(G,Oe,n,H);break e}ne&&ne(e,z,U),e==="focusout"&&U&&z.type==="number"&&U.memoizedProps.value!=null&&Zl(z,"number",z.value)}switch(ne=U?Zs(U):window,e){case"focusin":(kd(ne)||ne.contentEditable==="true")&&(as=ne,fo=U,rr=null);break;case"focusout":rr=fo=as=null;break;case"mousedown":ho=!0;break;case"contextmenu":case"mouseup":case"dragend":ho=!1,$d(G,n,H);break;case"selectionchange":if(e0)break;case"keydown":case"keyup":$d(G,n,H)}var ye;if(lo)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else ns?Ad(e,n)&&(xe="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(xe="onCompositionStart");xe&&(jd&&n.locale!=="ko"&&(ns||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&ns&&(ye=wd()):(Hn=H,no="value"in Hn?Hn.value:Hn.textContent,ns=!0)),ne=nl(U,xe),0<ne.length&&(xe=new Sd(xe,e,null,n,H),G.push({event:xe,listeners:ne}),ye?xe.data=ye:(ye=Nd(n),ye!==null&&(xe.data=ye)))),(ye=Yv?Kv(e,n):Iv(e,n))&&(xe=nl(U,"onBeforeInput"),0<xe.length&&(ne=new Sd("onBeforeInput","beforeinput",null,n,H),G.push({event:ne,listeners:xe}),ne.data=ye)),L0(G,e,U,n,H)}mm(G,t)})}function kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nl(e,t){for(var n=t+"Capture",s=[];e!==null;){var u=e,d=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||d===null||(u=Ps(e,n),u!=null&&s.unshift(kr(e,u,d)),u=Ps(e,t),u!=null&&s.push(kr(e,u,d))),e.tag===3)return s;e=e.return}return[]}function $0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function pm(e,t,n,s,u){for(var d=t._reactName,m=[];n!==null&&n!==s;){var y=n,x=y.alternate,U=y.stateNode;if(y=y.tag,x!==null&&x===s)break;y!==5&&y!==26&&y!==27||U===null||(x=U,u?(U=Ps(n,d),U!=null&&m.unshift(kr(n,U,x))):u||(U=Ps(n,d),U!=null&&m.push(kr(n,U,x)))),n=n.return}m.length!==0&&e.push({event:t,listeners:m})}var V0=/\r\n?/g,G0=/\u0000|\uFFFD/g;function vm(e){return(typeof e=="string"?e:""+e).replace(V0,`
`).replace(G0,"")}function ym(e,t){return t=vm(t),vm(e)===t}function Le(e,t,n,s,u,d){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Fa(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Fa(e,""+s);break;case"className":ii(e,"class",s);break;case"tabIndex":ii(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(e,n,s);break;case"style":vd(e,s,d);break;case"data":if(t!=="object"){ii(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=oi(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(n==="formAction"?(t!=="input"&&Le(e,t,"name",u.name,u,null),Le(e,t,"formEncType",u.formEncType,u,null),Le(e,t,"formMethod",u.formMethod,u,null),Le(e,t,"formTarget",u.formTarget,u,null)):(Le(e,t,"encType",u.encType,u,null),Le(e,t,"method",u.method,u,null),Le(e,t,"target",u.target,u,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=oi(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=bn);break;case"onScroll":s!=null&&we("scroll",e);break;case"onScrollEnd":s!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(i(61));if(n=s.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=oi(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":we("beforetoggle",e),we("toggle",e),ri(e,"popover",s);break;case"xlinkActuate":yn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":yn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":yn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":yn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":yn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":yn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":yn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":yn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":yn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ri(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=vv.get(n)||n,ri(e,n,s))}}function Bu(e,t,n,s,u,d){switch(n){case"style":vd(e,s,d);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(i(61));if(n=s.__html,n!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=n}}break;case"children":typeof s=="string"?Fa(e,s):(typeof s=="number"||typeof s=="bigint")&&Fa(e,""+s);break;case"onScroll":s!=null&&we("scroll",e);break;case"onScrollEnd":s!=null&&we("scrollend",e);break;case"onClick":s!=null&&(e.onclick=bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!od.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),d=e[jt]||null,d=d!=null?d[n]:null,typeof d=="function"&&e.removeEventListener(t,d,u),typeof s=="function")){typeof d!="function"&&d!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,u);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):ri(e,n,s)}}}function yt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var s=!1,u=!1,d;for(d in n)if(n.hasOwnProperty(d)){var m=n[d];if(m!=null)switch(d){case"src":s=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Le(e,t,d,m,n,null)}}u&&Le(e,t,"srcSet",n.srcSet,n,null),s&&Le(e,t,"src",n.src,n,null);return;case"input":we("invalid",e);var y=d=m=u=null,x=null,U=null;for(s in n)if(n.hasOwnProperty(s)){var H=n[s];if(H!=null)switch(s){case"name":u=H;break;case"type":m=H;break;case"checked":x=H;break;case"defaultChecked":U=H;break;case"value":d=H;break;case"defaultValue":y=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,t));break;default:Le(e,t,s,H,n,null)}}hd(e,d,y,x,U,m,u,!1);return;case"select":we("invalid",e),s=m=d=null;for(u in n)if(n.hasOwnProperty(u)&&(y=n[u],y!=null))switch(u){case"value":d=y;break;case"defaultValue":m=y;break;case"multiple":s=y;default:Le(e,t,u,y,n,null)}t=d,n=m,e.multiple=!!s,t!=null?Wa(e,!!s,t,!1):n!=null&&Wa(e,!!s,n,!0);return;case"textarea":we("invalid",e),d=u=s=null;for(m in n)if(n.hasOwnProperty(m)&&(y=n[m],y!=null))switch(m){case"value":s=y;break;case"defaultValue":u=y;break;case"children":d=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:Le(e,t,m,y,n,null)}gd(e,s,u,d);return;case"option":for(x in n)if(n.hasOwnProperty(x)&&(s=n[x],s!=null))switch(x){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Le(e,t,x,s,n,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(s=0;s<Nr.length;s++)we(Nr[s],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in n)if(n.hasOwnProperty(U)&&(s=n[U],s!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Le(e,t,U,s,n,null)}return;default:if(Pl(t)){for(H in n)n.hasOwnProperty(H)&&(s=n[H],s!==void 0&&Bu(e,t,H,s,n,void 0));return}}for(y in n)n.hasOwnProperty(y)&&(s=n[y],s!=null&&Le(e,t,y,s,n,null))}function Y0(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,d=null,m=null,y=null,x=null,U=null,H=null;for(M in n){var G=n[M];if(n.hasOwnProperty(M)&&G!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":x=G;default:s.hasOwnProperty(M)||Le(e,t,M,null,s,G)}}for(var z in s){var M=s[z];if(G=n[z],s.hasOwnProperty(z)&&(M!=null||G!=null))switch(z){case"type":d=M;break;case"name":u=M;break;case"checked":U=M;break;case"defaultChecked":H=M;break;case"value":m=M;break;case"defaultValue":y=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(i(137,t));break;default:M!==G&&Le(e,t,z,M,s,G)}}Xl(e,m,y,x,U,H,d,u);return;case"select":M=m=y=z=null;for(d in n)if(x=n[d],n.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":M=x;default:s.hasOwnProperty(d)||Le(e,t,d,null,s,x)}for(u in s)if(d=s[u],x=n[u],s.hasOwnProperty(u)&&(d!=null||x!=null))switch(u){case"value":z=d;break;case"defaultValue":y=d;break;case"multiple":m=d;default:d!==x&&Le(e,t,u,d,s,x)}t=y,n=m,s=M,z!=null?Wa(e,!!n,z,!1):!!s!=!!n&&(t!=null?Wa(e,!!n,t,!0):Wa(e,!!n,n?[]:"",!1));return;case"textarea":M=z=null;for(y in n)if(u=n[y],n.hasOwnProperty(y)&&u!=null&&!s.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Le(e,t,y,null,s,u)}for(m in s)if(u=s[m],d=n[m],s.hasOwnProperty(m)&&(u!=null||d!=null))switch(m){case"value":z=u;break;case"defaultValue":M=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==d&&Le(e,t,m,u,s,d)}md(e,z,M);return;case"option":for(var ee in n)if(z=n[ee],n.hasOwnProperty(ee)&&z!=null&&!s.hasOwnProperty(ee))switch(ee){case"selected":e.selected=!1;break;default:Le(e,t,ee,null,s,z)}for(x in s)if(z=s[x],M=n[x],s.hasOwnProperty(x)&&z!==M&&(z!=null||M!=null))switch(x){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Le(e,t,x,z,s,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in n)z=n[ue],n.hasOwnProperty(ue)&&z!=null&&!s.hasOwnProperty(ue)&&Le(e,t,ue,null,s,z);for(U in s)if(z=s[U],M=n[U],s.hasOwnProperty(U)&&z!==M&&(z!=null||M!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,t));break;default:Le(e,t,U,z,s,M)}return;default:if(Pl(t)){for(var Be in n)z=n[Be],n.hasOwnProperty(Be)&&z!==void 0&&!s.hasOwnProperty(Be)&&Bu(e,t,Be,void 0,s,z);for(H in s)z=s[H],M=n[H],!s.hasOwnProperty(H)||z===M||z===void 0&&M===void 0||Bu(e,t,H,z,s,M);return}}for(var k in n)z=n[k],n.hasOwnProperty(k)&&z!=null&&!s.hasOwnProperty(k)&&Le(e,t,k,null,s,z);for(G in s)z=s[G],M=n[G],!s.hasOwnProperty(G)||z===M||z==null&&M==null||Le(e,t,G,z,s,M)}function bm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function K0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var u=n[s],d=u.transferSize,m=u.initiatorType,y=u.duration;if(d&&y&&bm(m)){for(m=0,y=u.responseEnd,s+=1;s<n.length;s++){var x=n[s],U=x.startTime;if(U>y)break;var H=x.transferSize,G=x.initiatorType;H&&bm(G)&&(x=x.responseEnd,m+=H*(x<y?1:(y-U)/(x-U)))}if(--s,t+=8*(d+m)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var qu=null,Hu=null;function al(e){return e.nodeType===9?e:e.ownerDocument}function wm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _m(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function $u(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vu=null;function I0(){var e=window.event;return e&&e.type==="popstate"?e===Vu?!1:(Vu=e,!0):(Vu=null,!1)}var xm=typeof setTimeout=="function"?setTimeout:void 0,Q0=typeof clearTimeout=="function"?clearTimeout:void 0,Sm=typeof Promise=="function"?Promise:void 0,J0=typeof queueMicrotask=="function"?queueMicrotask:typeof Sm<"u"?function(e){return Sm.resolve(null).then(e).catch(X0)}:xm;function X0(e){setTimeout(function(){throw e})}function aa(e){return e==="head"}function Em(e,t){var n=t,s=0;do{var u=n.nextSibling;if(e.removeChild(n),u&&u.nodeType===8)if(n=u.data,n==="/$"||n==="/&"){if(s===0){e.removeChild(u),ks(t);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")Cr(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Cr(n);for(var d=n.firstChild;d;){var m=d.nextSibling,y=d.nodeName;d[Xs]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&d.rel.toLowerCase()==="stylesheet"||n.removeChild(d),d=m}}else n==="body"&&Cr(e.ownerDocument.body);n=u}while(n);ks(t)}function jm(e,t){var n=e;e=0;do{var s=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=s}while(n)}function Gu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Gu(n),Ql(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Z0(e,t,n,s){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Xs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Pt(e.nextSibling),e===null)break}return null}function P0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Pt(e.nextSibling),e===null))return null;return e}function Tm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Pt(e.nextSibling),e===null))return null;return e}function Yu(e){return e.data==="$?"||e.data==="$~"}function Ku(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function W0(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Pt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Iu=null;function Om(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Pt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Am(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Nm(e,t,n){switch(t=al(n),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Cr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ql(e)}var Wt=new Map,km=new Set;function sl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zn=P.d;P.d={f:F0,r:ey,D:ty,C:ny,L:ay,m:sy,X:iy,S:ry,M:ly};function F0(){var e=zn.f(),t=Xi();return e||t}function ey(e){var t=Xa(e);t!==null&&t.tag===5&&t.type==="form"?Qf(t):zn.r(e)}var Os=typeof document>"u"?null:document;function Cm(e,t,n){var s=Os;if(s&&typeof t=="string"&&t){var u=Yt(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),km.has(u)||(km.add(u),e={rel:e,crossOrigin:n,href:t},s.querySelector(u)===null&&(t=s.createElement("link"),yt(t,"link",e),dt(t),s.head.appendChild(t)))}}function ty(e){zn.D(e),Cm("dns-prefetch",e,null)}function ny(e,t){zn.C(e,t),Cm("preconnect",e,t)}function ay(e,t,n){zn.L(e,t,n);var s=Os;if(s&&e&&t){var u='link[rel="preload"][as="'+Yt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+Yt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+Yt(n.imageSizes)+'"]')):u+='[href="'+Yt(e)+'"]';var d=u;switch(t){case"style":d=As(e);break;case"script":d=Ns(e)}Wt.has(d)||(e=w({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Wt.set(d,e),s.querySelector(u)!==null||t==="style"&&s.querySelector(Rr(d))||t==="script"&&s.querySelector(Dr(d))||(t=s.createElement("link"),yt(t,"link",e),dt(t),s.head.appendChild(t)))}}function sy(e,t){zn.m(e,t);var n=Os;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+Yt(s)+'"][href="'+Yt(e)+'"]',d=u;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ns(e)}if(!Wt.has(d)&&(e=w({rel:"modulepreload",href:e},t),Wt.set(d,e),n.querySelector(u)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Dr(d)))return}s=n.createElement("link"),yt(s,"link",e),dt(s),n.head.appendChild(s)}}}function ry(e,t,n){zn.S(e,t,n);var s=Os;if(s&&e){var u=Za(s).hoistableStyles,d=As(e);t=t||"default";var m=u.get(d);if(!m){var y={loading:0,preload:null};if(m=s.querySelector(Rr(d)))y.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Wt.get(d))&&Qu(e,n);var x=m=s.createElement("link");dt(x),yt(x,"link",e),x._p=new Promise(function(U,H){x.onload=U,x.onerror=H}),x.addEventListener("load",function(){y.loading|=1}),x.addEventListener("error",function(){y.loading|=2}),y.loading|=4,rl(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:y},u.set(d,m)}}}function iy(e,t){zn.X(e,t);var n=Os;if(n&&e){var s=Za(n).hoistableScripts,u=Ns(e),d=s.get(u);d||(d=n.querySelector(Dr(u)),d||(e=w({src:e,async:!0},t),(t=Wt.get(u))&&Ju(e,t),d=n.createElement("script"),dt(d),yt(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(u,d))}}function ly(e,t){zn.M(e,t);var n=Os;if(n&&e){var s=Za(n).hoistableScripts,u=Ns(e),d=s.get(u);d||(d=n.querySelector(Dr(u)),d||(e=w({src:e,async:!0,type:"module"},t),(t=Wt.get(u))&&Ju(e,t),d=n.createElement("script"),dt(d),yt(d,"link",e),n.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(u,d))}}function Rm(e,t,n,s){var u=(u=ge.current)?sl(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=As(n.href),n=Za(u).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=As(n.href);var d=Za(u).hoistableStyles,m=d.get(e);if(m||(u=u.ownerDocument||u,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,m),(d=u.querySelector(Rr(e)))&&!d._p&&(m.instance=d,m.state.loading=5),Wt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Wt.set(e,n),d||oy(u,e,n,m.state))),t&&s===null)throw Error(i(528,""));return m}if(t&&s!==null)throw Error(i(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ns(n),n=Za(u).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function As(e){return'href="'+Yt(e)+'"'}function Rr(e){return'link[rel="stylesheet"]['+e+"]"}function Dm(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function oy(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),yt(t,"link",n),dt(t),e.head.appendChild(t))}function Ns(e){return'[src="'+Yt(e)+'"]'}function Dr(e){return"script[async]"+e}function Um(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Yt(n.href)+'"]');if(s)return t.instance=s,dt(s),s;var u=w({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),dt(s),yt(s,"style",u),rl(s,n.precedence,e),t.instance=s;case"stylesheet":u=As(n.href);var d=e.querySelector(Rr(u));if(d)return t.state.loading|=4,t.instance=d,dt(d),d;s=Dm(n),(u=Wt.get(u))&&Qu(s,u),d=(e.ownerDocument||e).createElement("link"),dt(d);var m=d;return m._p=new Promise(function(y,x){m.onload=y,m.onerror=x}),yt(d,"link",s),t.state.loading|=4,rl(d,n.precedence,e),t.instance=d;case"script":return d=Ns(n.src),(u=e.querySelector(Dr(d)))?(t.instance=u,dt(u),u):(s=n,(u=Wt.get(d))&&(s=w({},n),Ju(s,u)),e=e.ownerDocument||e,u=e.createElement("script"),dt(u),yt(u,"link",s),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,rl(s,n.precedence,e));return t.instance}function rl(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=s.length?s[s.length-1]:null,d=u,m=0;m<s.length;m++){var y=s[m];if(y.dataset.precedence===t)d=y;else if(d!==u)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Qu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var il=null;function zm(e,t,n){if(il===null){var s=new Map,u=il=new Map;u.set(n,s)}else u=il,s=u.get(n),s||(s=new Map,u.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var d=n[u];if(!(d[Xs]||d[mt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var m=d.getAttribute(t)||"";m=e+m;var y=s.get(m);y?y.push(d):s.set(m,[d])}}return s}function Mm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function uy(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Lm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function cy(e,t,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=As(s.href),d=t.querySelector(Rr(u));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ll.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=d,dt(d);return}d=t.ownerDocument||t,s=Dm(s),(u=Wt.get(u))&&Qu(s,u),d=d.createElement("link"),dt(d);var m=d;m._p=new Promise(function(y,x){m.onload=y,m.onerror=x}),yt(d,"link",s),n.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=ll.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Xu=0;function dy(e,t){return e.stylesheets&&e.count===0&&ul(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var s=setTimeout(function(){if(e.stylesheets&&ul(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Xu===0&&(Xu=62500*K0());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ul(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Xu?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(u)}}:null}function ll(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ul(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ol=null;function ul(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ol=new Map,t.forEach(fy,e),ol=null,ll.call(e))}function fy(e,t){if(!(t.state.loading&4)){var n=ol.get(e);if(n)var s=n.get(null);else{n=new Map,ol.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<u.length;d++){var m=u[d];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(n.set(m.dataset.precedence,m),s=m)}s&&n.set(null,s)}u=t.instance,m=u.getAttribute("data-precedence"),d=n.get(m)||s,d===s&&n.set(null,u),n.set(m,u),this.count++,s=ll.bind(this),u.addEventListener("load",s),u.addEventListener("error",s),d?d.parentNode.insertBefore(u,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Ur={$$typeof:R,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function hy(e,t,n,s,u,d,m,y,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gl(0),this.hiddenUpdates=Gl(null),this.identifierPrefix=s,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Bm(e,t,n,s,u,d,m,y,x,U,H,G){return e=new hy(e,t,n,m,x,U,H,G,y),t=1,d===!0&&(t|=24),d=Ut(3,null,null,t),e.current=d,d.stateNode=e,t=Ao(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:s,isDehydrated:n,cache:t},Ro(d),e}function qm(e){return e?(e=is,e):is}function Hm(e,t,n,s,u,d){u=qm(u),s.context===null?s.context=u:s.pendingContext=u,s=In(t),s.payload={element:n},d=d===void 0?null:d,d!==null&&(s.callback=d),n=Qn(e,s,t),n!==null&&(Ct(n,e,t),fr(n,e,t))}function $m(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Zu(e,t){$m(e,t),(e=e.alternate)&&$m(e,t)}function Vm(e){if(e.tag===13||e.tag===31){var t=Sa(e,67108864);t!==null&&Ct(t,e,67108864),Zu(e,67108864)}}function Gm(e){if(e.tag===13||e.tag===31){var t=qt();t=Yl(t);var n=Sa(e,t);n!==null&&Ct(n,e,t),Zu(e,t)}}var cl=!0;function my(e,t,n,s){var u=L.T;L.T=null;var d=P.p;try{P.p=2,Pu(e,t,n,s)}finally{P.p=d,L.T=u}}function gy(e,t,n,s){var u=L.T;L.T=null;var d=P.p;try{P.p=8,Pu(e,t,n,s)}finally{P.p=d,L.T=u}}function Pu(e,t,n,s){if(cl){var u=Wu(s);if(u===null)Lu(e,t,s,dl,n),Km(e,s);else if(vy(u,e,t,n,s))s.stopPropagation();else if(Km(e,s),t&4&&-1<py.indexOf(e)){for(;u!==null;){var d=Xa(u);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var m=ht(d.pendingLanes);if(m!==0){var y=d;for(y.pendingLanes|=2,y.entangledLanes|=2;m;){var x=1<<31-de(m);y.entanglements[1]|=x,m&=~x}hn(d),(De&6)===0&&(Qi=St()+500,Ar(0))}}break;case 31:case 13:y=Sa(d,2),y!==null&&Ct(y,d,2),Xi(),Zu(d,2)}if(d=Wu(s),d===null&&Lu(e,t,s,dl,n),d===u)break;u=d}u!==null&&s.stopPropagation()}else Lu(e,t,s,null,n)}}function Wu(e){return e=Fl(e),Fu(e)}var dl=null;function Fu(e){if(dl=null,e=Ja(e),e!==null){var t=c(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=f(t),e!==null)return e;e=null}else if(n===31){if(e=h(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return dl=e,null}function Ym(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ei()){case ti:return 2;case ni:return 8;case Ia:case $l:return 32;case ai:return 268435456;default:return 32}default:return 32}}var ec=!1,sa=null,ra=null,ia=null,zr=new Map,Mr=new Map,la=[],py="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Km(e,t){switch(e){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":ia=null;break;case"pointerover":case"pointerout":zr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mr.delete(t.pointerId)}}function Lr(e,t,n,s,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:d,targetContainers:[u]},t!==null&&(t=Xa(t),t!==null&&Vm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function vy(e,t,n,s,u){switch(t){case"focusin":return sa=Lr(sa,e,t,n,s,u),!0;case"dragenter":return ra=Lr(ra,e,t,n,s,u),!0;case"mouseover":return ia=Lr(ia,e,t,n,s,u),!0;case"pointerover":var d=u.pointerId;return zr.set(d,Lr(zr.get(d)||null,e,t,n,s,u)),!0;case"gotpointercapture":return d=u.pointerId,Mr.set(d,Lr(Mr.get(d)||null,e,t,n,s,u)),!0}return!1}function Im(e){var t=Ja(e.target);if(t!==null){var n=c(t);if(n!==null){if(t=n.tag,t===13){if(t=f(n),t!==null){e.blockedOn=t,rd(e.priority,function(){Gm(n)});return}}else if(t===31){if(t=h(n),t!==null){e.blockedOn=t,rd(e.priority,function(){Gm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wu(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Wl=s,n.target.dispatchEvent(s),Wl=null}else return t=Xa(n),t!==null&&Vm(t),e.blockedOn=n,!1;t.shift()}return!0}function Qm(e,t,n){fl(e)&&n.delete(t)}function yy(){ec=!1,sa!==null&&fl(sa)&&(sa=null),ra!==null&&fl(ra)&&(ra=null),ia!==null&&fl(ia)&&(ia=null),zr.forEach(Qm),Mr.forEach(Qm)}function hl(e,t){e.blockedOn===t&&(e.blockedOn=null,ec||(ec=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,yy)))}var ml=null;function Jm(e){ml!==e&&(ml=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){ml===e&&(ml=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],u=e[t+2];if(typeof s!="function"){if(Fu(s||n)===null)continue;break}var d=Xa(n);d!==null&&(e.splice(t,3),t-=3,Wo(d,{pending:!0,data:u,method:n.method,action:s},s,u))}}))}function ks(e){function t(x){return hl(x,e)}sa!==null&&hl(sa,e),ra!==null&&hl(ra,e),ia!==null&&hl(ia,e),zr.forEach(t),Mr.forEach(t);for(var n=0;n<la.length;n++){var s=la[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<la.length&&(n=la[0],n.blockedOn===null);)Im(n),n.blockedOn===null&&la.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var u=n[s],d=n[s+1],m=u[jt]||null;if(typeof d=="function")m||Jm(n);else if(m){var y=null;if(d&&d.hasAttribute("formAction")){if(u=d,m=d[jt]||null)y=m.formAction;else if(Fu(u)!==null)continue}else y=m.action;typeof y=="function"?n[s+1]=y:(n.splice(s,3),s-=3),Jm(n)}}}function Xm(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(m){return u=m})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function tc(e){this._internalRoot=e}gl.prototype.render=tc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current,s=qt();Hm(n,s,e,t,null,null)},gl.prototype.unmount=tc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hm(e.current,2,null,e,null,null),Xi(),t[Qa]=null}};function gl(e){this._internalRoot=e}gl.prototype.unstable_scheduleHydration=function(e){if(e){var t=sd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<la.length&&t!==0&&t<la[n].priority;n++);la.splice(n,0,e),n===0&&Im(e)}};var Zm=a.version;if(Zm!=="19.2.0")throw Error(i(527,Zm,"19.2.0"));P.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=p(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var by={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pl.isDisabled&&pl.supportsFiber)try{Z=pl.inject(by),re=pl}catch{}}return qr.createRoot=function(e,t){if(!o(e))throw Error(i(299));var n=!1,s="",u=ah,d=sh,m=rh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Bm(e,1,!1,null,null,n,s,null,u,d,m,Xm),e[Qa]=t.current,Mu(e),new tc(t)},qr.hydrateRoot=function(e,t,n){if(!o(e))throw Error(i(299));var s=!1,u="",d=ah,m=sh,y=rh,x=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.formState!==void 0&&(x=n.formState)),t=Bm(e,1,!0,t,n??null,s,u,x,d,m,y,Xm),t.context=qm(null),n=t.current,s=qt(),s=Yl(s),u=In(s),u.callback=null,Qn(n,u,s),n=s,t.current.lanes=n,Js(t,n),hn(t),e[Qa]=t.current,Mu(e),new gl(t)},qr.version="19.2.0",qr}var ig;function Ny(){if(ig)return ac.exports;ig=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(a){console.error(a)}}return l(),ac.exports=Ay(),ac.exports}var ky=Ny();const Cy=Bc(ky);var j=qc();const Ln=Bc(j),Ry=_y({__proto__:null,default:Ln},[j]);var Dl=Pg();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ir(){return Ir=Object.assign?Object.assign.bind():function(l){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(l[i]=r[i])}return l},Ir.apply(this,arguments)}var ha;(function(l){l.Pop="POP",l.Push="PUSH",l.Replace="REPLACE"})(ha||(ha={}));const lg="popstate";function Dy(l){l===void 0&&(l={});function a(o,c){let{pathname:f="/",search:h="",hash:g=""}=Va(o.location.hash.substr(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),_c("",{pathname:f,search:h,hash:g},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(o,c){let f=o.document.querySelector("base"),h="";if(f&&f.getAttribute("href")){let g=o.location.href,p=g.indexOf("#");h=p===-1?g:g.slice(0,p)}return h+"#"+(typeof c=="string"?c:Ol(c))}function i(o,c){Hc(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(c)+")")}return zy(a,r,i,l)}function at(l,a){if(l===!1||l===null||typeof l>"u")throw new Error(a)}function Hc(l,a){if(!l){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Uy(){return Math.random().toString(36).substr(2,8)}function og(l,a){return{usr:l.state,key:l.key,idx:a}}function _c(l,a,r,i){return r===void 0&&(r=null),Ir({pathname:typeof l=="string"?l:l.pathname,search:"",hash:""},typeof a=="string"?Va(a):a,{state:r,key:a&&a.key||i||Uy()})}function Ol(l){let{pathname:a="/",search:r="",hash:i=""}=l;return r&&r!=="?"&&(a+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(a+=i.charAt(0)==="#"?i:"#"+i),a}function Va(l){let a={};if(l){let r=l.indexOf("#");r>=0&&(a.hash=l.substr(r),l=l.substr(0,r));let i=l.indexOf("?");i>=0&&(a.search=l.substr(i),l=l.substr(0,i)),l&&(a.pathname=l)}return a}function zy(l,a,r,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:c=!1}=i,f=o.history,h=ha.Pop,g=null,p=b();p==null&&(p=0,f.replaceState(Ir({},f.state,{idx:p}),""));function b(){return(f.state||{idx:null}).idx}function w(){h=ha.Pop;let S=b(),B=S==null?null:S-p;p=S,g&&g({action:h,location:N.location,delta:B})}function _(S,B){h=ha.Push;let A=_c(N.location,S,B);r&&r(A,S),p=b()+1;let R=og(A,p),K=N.createHref(A);try{f.pushState(R,"",K)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;o.location.assign(K)}c&&g&&g({action:h,location:N.location,delta:1})}function O(S,B){h=ha.Replace;let A=_c(N.location,S,B);r&&r(A,S),p=b();let R=og(A,p),K=N.createHref(A);f.replaceState(R,"",K),c&&g&&g({action:h,location:N.location,delta:0})}function C(S){let B=o.location.origin!=="null"?o.location.origin:o.location.href,A=typeof S=="string"?S:Ol(S);return A=A.replace(/ $/,"%20"),at(B,"No window.location.(origin|href) available to create URL for href: "+A),new URL(A,B)}let N={get action(){return h},get location(){return l(o,f)},listen(S){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(lg,w),g=S,()=>{o.removeEventListener(lg,w),g=null}},createHref(S){return a(o,S)},createURL:C,encodeLocation(S){let B=C(S);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:_,replace:O,go(S){return f.go(S)}};return N}var ug;(function(l){l.data="data",l.deferred="deferred",l.redirect="redirect",l.error="error"})(ug||(ug={}));function My(l,a,r){return r===void 0&&(r="/"),Ly(l,a,r)}function Ly(l,a,r,i){let o=typeof a=="string"?Va(a):a,c=$c(o.pathname||"/",r);if(c==null)return null;let f=Wg(l);By(f);let h=null;for(let g=0;h==null&&g<f.length;++g){let p=Zy(c);h=Qy(f[g],p)}return h}function Wg(l,a,r,i){a===void 0&&(a=[]),r===void 0&&(r=[]),i===void 0&&(i="");let o=(c,f,h)=>{let g={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};g.relativePath.startsWith("/")&&(at(g.relativePath.startsWith(i),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(i.length));let p=ma([i,g.relativePath]),b=r.concat(g);c.children&&c.children.length>0&&(at(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Wg(c.children,a,b,p)),!(c.path==null&&!c.index)&&a.push({path:p,score:Ky(p,c.index),routesMeta:b})};return l.forEach((c,f)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))o(c,f);else for(let g of Fg(c.path))o(c,f,g)}),a}function Fg(l){let a=l.split("/");if(a.length===0)return[];let[r,...i]=a,o=r.endsWith("?"),c=r.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let f=Fg(i.join("/")),h=[];return h.push(...f.map(g=>g===""?c:[c,g].join("/"))),o&&h.push(...f),h.map(g=>l.startsWith("/")&&g===""?"/":g)}function By(l){l.sort((a,r)=>a.score!==r.score?r.score-a.score:Iy(a.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}const qy=/^:[\w-]+$/,Hy=3,$y=2,Vy=1,Gy=10,Yy=-2,cg=l=>l==="*";function Ky(l,a){let r=l.split("/"),i=r.length;return r.some(cg)&&(i+=Yy),a&&(i+=$y),r.filter(o=>!cg(o)).reduce((o,c)=>o+(qy.test(c)?Hy:c===""?Vy:Gy),i)}function Iy(l,a){return l.length===a.length&&l.slice(0,-1).every((i,o)=>i===a[o])?l[l.length-1]-a[a.length-1]:0}function Qy(l,a,r){let{routesMeta:i}=l,o={},c="/",f=[];for(let h=0;h<i.length;++h){let g=i[h],p=h===i.length-1,b=c==="/"?a:a.slice(c.length)||"/",w=Jy({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},b),_=g.route;if(!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:ma([c,w.pathname]),pathnameBase:eb(ma([c,w.pathnameBase])),route:_}),w.pathnameBase!=="/"&&(c=ma([c,w.pathnameBase]))}return f}function Jy(l,a){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[r,i]=Xy(l.path,l.caseSensitive,l.end),o=a.match(r);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((p,b,w)=>{let{paramName:_,isOptional:O}=b;if(_==="*"){let N=h[w]||"";f=c.slice(0,c.length-N.length).replace(/(.)\/+$/,"$1")}const C=h[w];return O&&!C?p[_]=void 0:p[_]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:f,pattern:l}}function Xy(l,a,r){a===void 0&&(a=!1),r===void 0&&(r=!0),Hc(l==="*"||!l.endsWith("*")||l.endsWith("/*"),'Route path "'+l+'" will be treated as if it were '+('"'+l.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+l.replace(/\*$/,"/*")+'".'));let i=[],o="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,g)=>(i.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(i.push({paramName:"*"}),o+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":l!==""&&l!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,a?void 0:"i"),i]}function Zy(l){try{return l.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Hc(!1,'The URL path "'+l+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+a+").")),l}}function $c(l,a){if(a==="/")return l;if(!l.toLowerCase().startsWith(a.toLowerCase()))return null;let r=a.endsWith("/")?a.length-1:a.length,i=l.charAt(r);return i&&i!=="/"?null:l.slice(r)||"/"}function Py(l,a){a===void 0&&(a="/");let{pathname:r,search:i="",hash:o=""}=typeof l=="string"?Va(l):l;return{pathname:r?r.startsWith("/")?r:Wy(r,a):a,search:tb(i),hash:nb(o)}}function Wy(l,a){let r=a.replace(/\/+$/,"").split("/");return l.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function oc(l,a,r,i){return"Cannot include a '"+l+"' character in a manually specified "+("`to."+a+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fy(l){return l.filter((a,r)=>r===0||a.route.path&&a.route.path.length>0)}function Vc(l,a){let r=Fy(l);return a?r.map((i,o)=>o===r.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function Gc(l,a,r,i){i===void 0&&(i=!1);let o;typeof l=="string"?o=Va(l):(o=Ir({},l),at(!o.pathname||!o.pathname.includes("?"),oc("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),oc("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),oc("#","search","hash",o)));let c=l===""||o.pathname==="",f=c?"/":o.pathname,h;if(f==null)h=r;else{let w=a.length-1;if(!i&&f.startsWith("..")){let _=f.split("/");for(;_[0]==="..";)_.shift(),w-=1;o.pathname=_.join("/")}h=w>=0?a[w]:"/"}let g=Py(o,h),p=f&&f!=="/"&&f.endsWith("/"),b=(c||f===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(p||b)&&(g.pathname+="/"),g}const ma=l=>l.join("/").replace(/\/\/+/g,"/"),eb=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),tb=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,nb=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function ab(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}const ep=["post","put","patch","delete"];new Set(ep);const sb=["get",...ep];new Set(sb);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qr(){return Qr=Object.assign?Object.assign.bind():function(l){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(l[i]=r[i])}return l},Qr.apply(this,arguments)}const Yc=j.createContext(null),rb=j.createContext(null),ga=j.createContext(null),Ul=j.createContext(null),mn=j.createContext({outlet:null,matches:[],isDataRoute:!1}),tp=j.createContext(null);function ib(l,a){let{relative:r}=a===void 0?{}:a;$s()||at(!1);let{basename:i,navigator:o}=j.useContext(ga),{hash:c,pathname:f,search:h}=sp(l,{relative:r}),g=f;return i!=="/"&&(g=f==="/"?i:ma([i,f])),o.createHref({pathname:g,search:h,hash:c})}function $s(){return j.useContext(Ul)!=null}function un(){return $s()||at(!1),j.useContext(Ul).location}function np(l){j.useContext(ga).static||j.useLayoutEffect(l)}function en(){let{isDataRoute:l}=j.useContext(mn);return l?_b():lb()}function lb(){$s()||at(!1);let l=j.useContext(Yc),{basename:a,future:r,navigator:i}=j.useContext(ga),{matches:o}=j.useContext(mn),{pathname:c}=un(),f=JSON.stringify(Vc(o,r.v7_relativeSplatPath)),h=j.useRef(!1);return np(()=>{h.current=!0}),j.useCallback(function(p,b){if(b===void 0&&(b={}),!h.current)return;if(typeof p=="number"){i.go(p);return}let w=Gc(p,JSON.parse(f),c,b.relative==="path");l==null&&a!=="/"&&(w.pathname=w.pathname==="/"?a:ma([a,w.pathname])),(b.replace?i.replace:i.push)(w,b.state,b)},[a,i,f,c,l])}const ob=j.createContext(null);function ub(l){let a=j.useContext(mn).outlet;return a&&j.createElement(ob.Provider,{value:l},a)}function ap(){let{matches:l}=j.useContext(mn),a=l[l.length-1];return a?a.params:{}}function sp(l,a){let{relative:r}=a===void 0?{}:a,{future:i}=j.useContext(ga),{matches:o}=j.useContext(mn),{pathname:c}=un(),f=JSON.stringify(Vc(o,i.v7_relativeSplatPath));return j.useMemo(()=>Gc(l,JSON.parse(f),c,r==="path"),[l,f,c,r])}function cb(l,a){return db(l,a)}function db(l,a,r,i){$s()||at(!1);let{navigator:o}=j.useContext(ga),{matches:c}=j.useContext(mn),f=c[c.length-1],h=f?f.params:{};f&&f.pathname;let g=f?f.pathnameBase:"/";f&&f.route;let p=un(),b;if(a){var w;let S=typeof a=="string"?Va(a):a;g==="/"||(w=S.pathname)!=null&&w.startsWith(g)||at(!1),b=S}else b=p;let _=b.pathname||"/",O=_;if(g!=="/"){let S=g.replace(/^\//,"").split("/");O="/"+_.replace(/^\//,"").split("/").slice(S.length).join("/")}let C=My(l,{pathname:O}),N=pb(C&&C.map(S=>Object.assign({},S,{params:Object.assign({},h,S.params),pathname:ma([g,o.encodeLocation?o.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?g:ma([g,o.encodeLocation?o.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),c,r,i);return a&&N?j.createElement(Ul.Provider,{value:{location:Qr({pathname:"/",search:"",hash:"",state:null,key:"default"},b),navigationType:ha.Pop}},N):N}function fb(){let l=wb(),a=ab(l)?l.status+" "+l.statusText:l instanceof Error?l.message:JSON.stringify(l),r=l instanceof Error?l.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},a),r?j.createElement("pre",{style:o},r):null,null)}const hb=j.createElement(fb,null);class mb extends j.Component{constructor(a){super(a),this.state={location:a.location,revalidation:a.revalidation,error:a.error}}static getDerivedStateFromError(a){return{error:a}}static getDerivedStateFromProps(a,r){return r.location!==a.location||r.revalidation!=="idle"&&a.revalidation==="idle"?{error:a.error,location:a.location,revalidation:a.revalidation}:{error:a.error!==void 0?a.error:r.error,location:r.location,revalidation:a.revalidation||r.revalidation}}componentDidCatch(a,r){console.error("React Router caught the following error during render",a,r)}render(){return this.state.error!==void 0?j.createElement(mn.Provider,{value:this.props.routeContext},j.createElement(tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gb(l){let{routeContext:a,match:r,children:i}=l,o=j.useContext(Yc);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(mn.Provider,{value:a},i)}function pb(l,a,r,i){var o;if(a===void 0&&(a=[]),r===void 0&&(r=null),i===void 0&&(i=null),l==null){var c;if(!r)return null;if(r.errors)l=r.matches;else if((c=i)!=null&&c.v7_partialHydration&&a.length===0&&!r.initialized&&r.matches.length>0)l=r.matches;else return null}let f=l,h=(o=r)==null?void 0:o.errors;if(h!=null){let b=f.findIndex(w=>w.route.id&&(h==null?void 0:h[w.route.id])!==void 0);b>=0||at(!1),f=f.slice(0,Math.min(f.length,b+1))}let g=!1,p=-1;if(r&&i&&i.v7_partialHydration)for(let b=0;b<f.length;b++){let w=f[b];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=b),w.route.id){let{loaderData:_,errors:O}=r,C=w.route.loader&&_[w.route.id]===void 0&&(!O||O[w.route.id]===void 0);if(w.route.lazy||C){g=!0,p>=0?f=f.slice(0,p+1):f=[f[0]];break}}}return f.reduceRight((b,w,_)=>{let O,C=!1,N=null,S=null;r&&(O=h&&w.route.id?h[w.route.id]:void 0,N=w.route.errorElement||hb,g&&(p<0&&_===0?(xb("route-fallback"),C=!0,S=null):p===_&&(C=!0,S=w.route.hydrateFallbackElement||null)));let B=a.concat(f.slice(0,_+1)),A=()=>{let R;return O?R=N:C?R=S:w.route.Component?R=j.createElement(w.route.Component,null):w.route.element?R=w.route.element:R=b,j.createElement(gb,{match:w,routeContext:{outlet:b,matches:B,isDataRoute:r!=null},children:R})};return r&&(w.route.ErrorBoundary||w.route.errorElement||_===0)?j.createElement(mb,{location:r.location,revalidation:r.revalidation,component:N,error:O,children:A(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):A()},null)}var rp=(function(l){return l.UseBlocker="useBlocker",l.UseRevalidator="useRevalidator",l.UseNavigateStable="useNavigate",l})(rp||{}),ip=(function(l){return l.UseBlocker="useBlocker",l.UseLoaderData="useLoaderData",l.UseActionData="useActionData",l.UseRouteError="useRouteError",l.UseNavigation="useNavigation",l.UseRouteLoaderData="useRouteLoaderData",l.UseMatches="useMatches",l.UseRevalidator="useRevalidator",l.UseNavigateStable="useNavigate",l.UseRouteId="useRouteId",l})(ip||{});function vb(l){let a=j.useContext(Yc);return a||at(!1),a}function yb(l){let a=j.useContext(rb);return a||at(!1),a}function bb(l){let a=j.useContext(mn);return a||at(!1),a}function lp(l){let a=bb(),r=a.matches[a.matches.length-1];return r.route.id||at(!1),r.route.id}function wb(){var l;let a=j.useContext(tp),r=yb(),i=lp();return a!==void 0?a:(l=r.errors)==null?void 0:l[i]}function _b(){let{router:l}=vb(rp.UseNavigateStable),a=lp(ip.UseNavigateStable),r=j.useRef(!1);return np(()=>{r.current=!0}),j.useCallback(function(o,c){c===void 0&&(c={}),r.current&&(typeof o=="number"?l.navigate(o):l.navigate(o,Qr({fromRouteId:a},c)))},[l,a])}const dg={};function xb(l,a,r){dg[l]||(dg[l]=!0)}function Sb(l,a){l==null||l.v7_startTransition,l==null||l.v7_relativeSplatPath}function op(l){let{to:a,replace:r,state:i,relative:o}=l;$s()||at(!1);let{future:c,static:f}=j.useContext(ga),{matches:h}=j.useContext(mn),{pathname:g}=un(),p=en(),b=Gc(a,Vc(h,c.v7_relativeSplatPath),g,o==="path"),w=JSON.stringify(b);return j.useEffect(()=>p(JSON.parse(w),{replace:r,state:i,relative:o}),[p,w,o,r,i]),null}function Eb(l){return ub(l.context)}function Ft(l){at(!1)}function jb(l){let{basename:a="/",children:r=null,location:i,navigationType:o=ha.Pop,navigator:c,static:f=!1,future:h}=l;$s()&&at(!1);let g=a.replace(/^\/*/,"/"),p=j.useMemo(()=>({basename:g,navigator:c,static:f,future:Qr({v7_relativeSplatPath:!1},h)}),[g,h,c,f]);typeof i=="string"&&(i=Va(i));let{pathname:b="/",search:w="",hash:_="",state:O=null,key:C="default"}=i,N=j.useMemo(()=>{let S=$c(b,g);return S==null?null:{location:{pathname:S,search:w,hash:_,state:O,key:C},navigationType:o}},[g,b,w,_,O,C,o]);return N==null?null:j.createElement(ga.Provider,{value:p},j.createElement(Ul.Provider,{children:r,value:N}))}function Tb(l){let{children:a,location:r}=l;return cb(xc(a),r)}new Promise(()=>{});function xc(l,a){a===void 0&&(a=[]);let r=[];return j.Children.forEach(l,(i,o)=>{if(!j.isValidElement(i))return;let c=[...a,o];if(i.type===j.Fragment){r.push.apply(r,xc(i.props.children,c));return}i.type!==Ft&&at(!1),!i.props.index||!i.props.children||at(!1);let f={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=xc(i.props.children,c)),r.push(f)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sc(){return Sc=Object.assign?Object.assign.bind():function(l){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(l[i]=r[i])}return l},Sc.apply(this,arguments)}function Ob(l,a){if(l==null)return{};var r={},i=Object.keys(l),o,c;for(c=0;c<i.length;c++)o=i[c],!(a.indexOf(o)>=0)&&(r[o]=l[o]);return r}function Ab(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Nb(l,a){return l.button===0&&(!a||a==="_self")&&!Ab(l)}function Ec(l){return l===void 0&&(l=""),new URLSearchParams(typeof l=="string"||Array.isArray(l)||l instanceof URLSearchParams?l:Object.keys(l).reduce((a,r)=>{let i=l[r];return a.concat(Array.isArray(i)?i.map(o=>[r,o]):[[r,i]])},[]))}function kb(l,a){let r=Ec(l);return a&&a.forEach((i,o)=>{r.has(o)||a.getAll(o).forEach(c=>{r.append(o,c)})}),r}const Cb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Rb="6";try{window.__reactRouterVersion=Rb}catch{}const Db="startTransition",fg=Ry[Db];function Ub(l){let{basename:a,children:r,future:i,window:o}=l,c=j.useRef();c.current==null&&(c.current=Dy({window:o,v5Compat:!0}));let f=c.current,[h,g]=j.useState({action:f.action,location:f.location}),{v7_startTransition:p}=i||{},b=j.useCallback(w=>{p&&fg?fg(()=>g(w)):g(w)},[g,p]);return j.useLayoutEffect(()=>f.listen(b),[f,b]),j.useEffect(()=>Sb(i),[i]),j.createElement(jb,{basename:a,children:r,location:h.location,navigationType:h.action,navigator:f,future:i})}const zb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,up=j.forwardRef(function(a,r){let{onClick:i,relative:o,reloadDocument:c,replace:f,state:h,target:g,to:p,preventScrollReset:b,viewTransition:w}=a,_=Ob(a,Cb),{basename:O}=j.useContext(ga),C,N=!1;if(typeof p=="string"&&Mb.test(p)&&(C=p,zb))try{let R=new URL(window.location.href),K=p.startsWith("//")?new URL(R.protocol+p):new URL(p),te=$c(K.pathname,O);K.origin===R.origin&&te!=null?p=te+K.search+K.hash:N=!0}catch{}let S=ib(p,{relative:o}),B=Lb(p,{replace:f,state:h,target:g,preventScrollReset:b,relative:o,viewTransition:w});function A(R){i&&i(R),R.defaultPrevented||B(R)}return j.createElement("a",Sc({},_,{href:C||S,onClick:N||c?i:A,ref:r,target:g}))});var hg;(function(l){l.UseScrollRestoration="useScrollRestoration",l.UseSubmit="useSubmit",l.UseSubmitFetcher="useSubmitFetcher",l.UseFetcher="useFetcher",l.useViewTransitionState="useViewTransitionState"})(hg||(hg={}));var mg;(function(l){l.UseFetcher="useFetcher",l.UseFetchers="useFetchers",l.UseScrollRestoration="useScrollRestoration"})(mg||(mg={}));function Lb(l,a){let{target:r,replace:i,state:o,preventScrollReset:c,relative:f,viewTransition:h}=a===void 0?{}:a,g=en(),p=un(),b=sp(l,{relative:f});return j.useCallback(w=>{if(Nb(w,r)){w.preventDefault();let _=i!==void 0?i:Ol(p)===Ol(b);g(l,{replace:_,state:o,preventScrollReset:c,relative:f,viewTransition:h})}},[p,g,b,i,o,r,l,c,f,h])}function Bb(l){let a=j.useRef(Ec(l)),r=j.useRef(!1),i=un(),o=j.useMemo(()=>kb(i.search,r.current?null:a.current),[i.search]),c=en(),f=j.useCallback((h,g)=>{const p=Ec(typeof h=="function"?h(o):h);r.current=!0,c("?"+p,g)},[c,o]);return[o,f]}var jc=function(l,a){return jc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},jc(l,a)};function cp(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");jc(l,a);function r(){this.constructor=l}l.prototype=a===null?Object.create(a):(r.prototype=a.prototype,new r)}var Al=function(){return Al=Object.assign||function(a){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(a[c]=r[c])}return a},Al.apply(this,arguments)};function Vs(l,a){var r={};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&a.indexOf(i)<0&&(r[i]=l[i]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(l);o<i.length;o++)a.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(l,i[o])&&(r[i[o]]=l[i[o]]);return r}function dp(l,a,r,i){var o=arguments.length,c=o<3?a:i===null?i=Object.getOwnPropertyDescriptor(a,r):i,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")c=Reflect.decorate(l,a,r,i);else for(var h=l.length-1;h>=0;h--)(f=l[h])&&(c=(o<3?f(c):o>3?f(a,r,c):f(a,r))||c);return o>3&&c&&Object.defineProperty(a,r,c),c}function fp(l,a){return function(r,i){a(r,i,l)}}function hp(l,a,r,i,o,c){function f(B){if(B!==void 0&&typeof B!="function")throw new TypeError("Function expected");return B}for(var h=i.kind,g=h==="getter"?"get":h==="setter"?"set":"value",p=!a&&l?i.static?l:l.prototype:null,b=a||(p?Object.getOwnPropertyDescriptor(p,i.name):{}),w,_=!1,O=r.length-1;O>=0;O--){var C={};for(var N in i)C[N]=N==="access"?{}:i[N];for(var N in i.access)C.access[N]=i.access[N];C.addInitializer=function(B){if(_)throw new TypeError("Cannot add initializers after decoration has completed");c.push(f(B||null))};var S=(0,r[O])(h==="accessor"?{get:b.get,set:b.set}:b[g],C);if(h==="accessor"){if(S===void 0)continue;if(S===null||typeof S!="object")throw new TypeError("Object expected");(w=f(S.get))&&(b.get=w),(w=f(S.set))&&(b.set=w),(w=f(S.init))&&o.unshift(w)}else(w=f(S))&&(h==="field"?o.unshift(w):b[g]=w)}p&&Object.defineProperty(p,i.name,b),_=!0}function mp(l,a,r){for(var i=arguments.length>2,o=0;o<a.length;o++)r=i?a[o].call(l,r):a[o].call(l);return i?r:void 0}function gp(l){return typeof l=="symbol"?l:"".concat(l)}function pp(l,a,r){return typeof a=="symbol"&&(a=a.description?"[".concat(a.description,"]"):""),Object.defineProperty(l,"name",{configurable:!0,value:r?"".concat(r," ",a):a})}function vp(l,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,a)}function ae(l,a,r,i){function o(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function h(b){try{p(i.next(b))}catch(w){f(w)}}function g(b){try{p(i.throw(b))}catch(w){f(w)}}function p(b){b.done?c(b.value):o(b.value).then(h,g)}p((i=i.apply(l,a||[])).next())})}function yp(l,a){var r={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},i,o,c,f=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return f.next=h(0),f.throw=h(1),f.return=h(2),typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function h(p){return function(b){return g([p,b])}}function g(p){if(i)throw new TypeError("Generator is already executing.");for(;f&&(f=0,p[0]&&(r=0)),r;)try{if(i=1,o&&(c=p[0]&2?o.return:p[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,p[1])).done)return c;switch(o=0,c&&(p=[p[0]&2,c.value]),p[0]){case 0:case 1:c=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,o=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(c=r.trys,!(c=c.length>0&&c[c.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!c||p[1]>c[0]&&p[1]<c[3])){r.label=p[1];break}if(p[0]===6&&r.label<c[1]){r.label=c[1],c=p;break}if(c&&r.label<c[2]){r.label=c[2],r.ops.push(p);break}c[2]&&r.ops.pop(),r.trys.pop();continue}p=a.call(l,r)}catch(b){p=[6,b],o=0}finally{i=c=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}var zl=Object.create?(function(l,a,r,i){i===void 0&&(i=r);var o=Object.getOwnPropertyDescriptor(a,r);(!o||("get"in o?!a.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return a[r]}}),Object.defineProperty(l,i,o)}):(function(l,a,r,i){i===void 0&&(i=r),l[i]=a[r]});function bp(l,a){for(var r in l)r!=="default"&&!Object.prototype.hasOwnProperty.call(a,r)&&zl(a,l,r)}function Nl(l){var a=typeof Symbol=="function"&&Symbol.iterator,r=a&&l[a],i=0;if(r)return r.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&i>=l.length&&(l=void 0),{value:l&&l[i++],done:!l}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kc(l,a){var r=typeof Symbol=="function"&&l[Symbol.iterator];if(!r)return l;var i=r.call(l),o,c=[],f;try{for(;(a===void 0||a-- >0)&&!(o=i.next()).done;)c.push(o.value)}catch(h){f={error:h}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(f)throw f.error}}return c}function wp(){for(var l=[],a=0;a<arguments.length;a++)l=l.concat(Kc(arguments[a]));return l}function _p(){for(var l=0,a=0,r=arguments.length;a<r;a++)l+=arguments[a].length;for(var i=Array(l),o=0,a=0;a<r;a++)for(var c=arguments[a],f=0,h=c.length;f<h;f++,o++)i[o]=c[f];return i}function xp(l,a,r){if(r||arguments.length===2)for(var i=0,o=a.length,c;i<o;i++)(c||!(i in a))&&(c||(c=Array.prototype.slice.call(a,0,i)),c[i]=a[i]);return l.concat(c||Array.prototype.slice.call(a))}function qs(l){return this instanceof qs?(this.v=l,this):new qs(l)}function Sp(l,a,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(l,a||[]),o,c=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",f),o[Symbol.asyncIterator]=function(){return this},o;function f(O){return function(C){return Promise.resolve(C).then(O,w)}}function h(O,C){i[O]&&(o[O]=function(N){return new Promise(function(S,B){c.push([O,N,S,B])>1||g(O,N)})},C&&(o[O]=C(o[O])))}function g(O,C){try{p(i[O](C))}catch(N){_(c[0][3],N)}}function p(O){O.value instanceof qs?Promise.resolve(O.value.v).then(b,w):_(c[0][2],O)}function b(O){g("next",O)}function w(O){g("throw",O)}function _(O,C){O(C),c.shift(),c.length&&g(c[0][0],c[0][1])}}function Ep(l){var a,r;return a={},i("next"),i("throw",function(o){throw o}),i("return"),a[Symbol.iterator]=function(){return this},a;function i(o,c){a[o]=l[o]?function(f){return(r=!r)?{value:qs(l[o](f)),done:!1}:c?c(f):f}:c}}function jp(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l[Symbol.asyncIterator],r;return a?a.call(l):(l=typeof Nl=="function"?Nl(l):l[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(c){r[c]=l[c]&&function(f){return new Promise(function(h,g){f=l[c](f),o(h,g,f.done,f.value)})}}function o(c,f,h,g){Promise.resolve(g).then(function(p){c({value:p,done:h})},f)}}function Tp(l,a){return Object.defineProperty?Object.defineProperty(l,"raw",{value:a}):l.raw=a,l}var qb=Object.create?(function(l,a){Object.defineProperty(l,"default",{enumerable:!0,value:a})}):function(l,a){l.default=a},Tc=function(l){return Tc=Object.getOwnPropertyNames||function(a){var r=[];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[r.length]=i);return r},Tc(l)};function Op(l){if(l&&l.__esModule)return l;var a={};if(l!=null)for(var r=Tc(l),i=0;i<r.length;i++)r[i]!=="default"&&zl(a,l,r[i]);return qb(a,l),a}function Ap(l){return l&&l.__esModule?l:{default:l}}function Np(l,a,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?l!==a||!i:!a.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(l):i?i.value:a.get(l)}function kp(l,a,r,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?l!==a||!o:!a.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(l,r):o?o.value=r:a.set(l,r),r}function Cp(l,a){if(a===null||typeof a!="object"&&typeof a!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof l=="function"?a===l:l.has(a)}function Rp(l,a,r){if(a!=null){if(typeof a!="object"&&typeof a!="function")throw new TypeError("Object expected.");var i,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=a[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=a[Symbol.dispose],r&&(o=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");o&&(i=function(){try{o.call(this)}catch(c){return Promise.reject(c)}}),l.stack.push({value:a,dispose:i,async:r})}else r&&l.stack.push({async:!0});return a}var Hb=typeof SuppressedError=="function"?SuppressedError:function(l,a,r){var i=new Error(r);return i.name="SuppressedError",i.error=l,i.suppressed=a,i};function Dp(l){function a(c){l.error=l.hasError?new Hb(c,l.error,"An error was suppressed during disposal."):c,l.hasError=!0}var r,i=0;function o(){for(;r=l.stack.pop();)try{if(!r.async&&i===1)return i=0,l.stack.push(r),Promise.resolve().then(o);if(r.dispose){var c=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(c).then(o,function(f){return a(f),o()})}else i|=1}catch(f){a(f)}if(i===1)return l.hasError?Promise.reject(l.error):Promise.resolve();if(l.hasError)throw l.error}return o()}function Up(l,a){return typeof l=="string"&&/^\.\.?\//.test(l)?l.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,i,o,c,f){return i?a?".jsx":".js":o&&(!c||!f)?r:o+c+"."+f.toLowerCase()+"js"}):l}const $b={__extends:cp,__assign:Al,__rest:Vs,__decorate:dp,__param:fp,__esDecorate:hp,__runInitializers:mp,__propKey:gp,__setFunctionName:pp,__metadata:vp,__awaiter:ae,__generator:yp,__createBinding:zl,__exportStar:bp,__values:Nl,__read:Kc,__spread:wp,__spreadArrays:_p,__spreadArray:xp,__await:qs,__asyncGenerator:Sp,__asyncDelegator:Ep,__asyncValues:jp,__makeTemplateObject:Tp,__importStar:Op,__importDefault:Ap,__classPrivateFieldGet:Np,__classPrivateFieldSet:kp,__classPrivateFieldIn:Cp,__addDisposableResource:Rp,__disposeResources:Dp,__rewriteRelativeImportExtension:Up},Vb=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Rp,get __assign(){return Al},__asyncDelegator:Ep,__asyncGenerator:Sp,__asyncValues:jp,__await:qs,__awaiter:ae,__classPrivateFieldGet:Np,__classPrivateFieldIn:Cp,__classPrivateFieldSet:kp,__createBinding:zl,__decorate:dp,__disposeResources:Dp,__esDecorate:hp,__exportStar:bp,__extends:cp,__generator:yp,__importDefault:Ap,__importStar:Op,__makeTemplateObject:Tp,__metadata:vp,__param:fp,__propKey:gp,__read:Kc,__rest:Vs,__rewriteRelativeImportExtension:Up,__runInitializers:mp,__setFunctionName:pp,__spread:wp,__spreadArray:xp,__spreadArrays:_p,__values:Nl,default:$b},Symbol.toStringTag,{value:"Module"})),Gb="modulepreload",Yb=function(l){return"/GymLog/"+l},gg={},Gs=function(a,r,i){let o=Promise.resolve();if(r&&r.length>0){let f=function(p){return Promise.all(p.map(b=>Promise.resolve(b).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),g=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=f(r.map(p=>{if(p=Yb(p),p in gg)return;gg[p]=!0;const b=p.endsWith(".css"),w=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${w}`))return;const _=document.createElement("link");if(_.rel=b?"stylesheet":Gb,b||(_.as="script"),_.crossOrigin="",_.href=p,g&&_.setAttribute("nonce",g),document.head.appendChild(_),b)return new Promise((O,C)=>{_.addEventListener("load",O),_.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${p}`)))})}))}function c(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return o.then(f=>{for(const h of f||[])h.status==="rejected"&&c(h.reason);return a().catch(c)})},Kb=l=>{let a;return l?a=l:typeof fetch>"u"?a=(...r)=>Gs(async()=>{const{default:i}=await Promise.resolve().then(()=>Ga);return{default:i}},void 0).then(({default:i})=>i(...r)):a=fetch,(...r)=>a(...r)};class Ic extends Error{constructor(a,r="FunctionsError",i){super(a),this.name=r,this.context=i}}class pg extends Ic{constructor(a){super("Failed to send a request to the Edge Function","FunctionsFetchError",a)}}class vg extends Ic{constructor(a){super("Relay Error invoking the Edge Function","FunctionsRelayError",a)}}class yg extends Ic{constructor(a){super("Edge Function returned a non-2xx status code","FunctionsHttpError",a)}}var Oc;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Oc||(Oc={}));class Ib{constructor(a,{headers:r={},customFetch:i,region:o=Oc.Any}={}){this.url=a,this.headers=r,this.region=o,this.fetch=Kb(i)}setAuth(a){this.headers.Authorization=`Bearer ${a}`}invoke(a){return ae(this,arguments,void 0,function*(r,i={}){var o;try{const{headers:c,method:f,body:h,signal:g}=i;let p={},{region:b}=i;b||(b=this.region);const w=new URL(`${this.url}/${r}`);b&&b!=="any"&&(p["x-region"]=b,w.searchParams.set("forceFunctionRegion",b));let _;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",_=h):typeof h=="string"?(p["Content-Type"]="text/plain",_=h):typeof FormData<"u"&&h instanceof FormData?_=h:(p["Content-Type"]="application/json",_=JSON.stringify(h)):_=h;const O=yield this.fetch(w.toString(),{method:f||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),c),body:_,signal:g}).catch(B=>{throw B.name==="AbortError"?B:new pg(B)}),C=O.headers.get("x-relay-error");if(C&&C==="true")throw new vg(O);if(!O.ok)throw new yg(O);let N=((o=O.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),S;return N==="application/json"?S=yield O.json():N==="application/octet-stream"||N==="application/pdf"?S=yield O.blob():N==="text/event-stream"?S=O:N==="multipart/form-data"?S=yield O.formData():S=yield O.text(),{data:S,error:null,response:O}}catch(c){return c instanceof Error&&c.name==="AbortError"?{data:null,error:new pg(c)}:{data:null,error:c,response:c instanceof yg||c instanceof vg?c.context:void 0}}})}}var _t={};const Ys=Zg(Vb);var vl={},yl={},bl={},wl={},_l={},Qb=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Hs=Qb();const Jb=Hs.fetch,zp=Hs.fetch.bind(Hs),Mp=Hs.Headers,Xb=Hs.Request,Zb=Hs.Response,Ga=Object.freeze(Object.defineProperty({__proto__:null,Headers:Mp,Request:Xb,Response:Zb,default:zp,fetch:Jb},Symbol.toStringTag,{value:"Module"})),Pb=Zg(Ga);var xl={},bg;function Lp(){if(bg)return xl;bg=1,Object.defineProperty(xl,"__esModule",{value:!0});class l extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return xl.default=l,xl}var wg;function Bp(){if(wg)return _l;wg=1,Object.defineProperty(_l,"__esModule",{value:!0});const l=Ys,a=l.__importDefault(Pb),r=l.__importDefault(Lp());class i{constructor(c){var f,h;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(f=c.shouldThrowOnError)!==null&&f!==void 0?f:!1,this.signal=c.signal,this.isMaybeSingle=(h=c.isMaybeSingle)!==null&&h!==void 0?h:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,f){return this.headers=new Headers(this.headers),this.headers.set(c,f),this}then(c,f){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let g=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var b,w,_,O;let C=null,N=null,S=null,B=p.status,A=p.statusText;if(p.ok){if(this.method!=="HEAD"){const Q=await p.text();Q===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((b=this.headers.get("Accept"))===null||b===void 0)&&b.includes("application/vnd.pgrst.plan+text"))?N=Q:N=JSON.parse(Q))}const K=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),te=(_=p.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");K&&te&&te.length>1&&(S=parseInt(te[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(C={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,S=null,B=406,A="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const K=await p.text();try{C=JSON.parse(K),Array.isArray(C)&&p.status===404&&(N=[],C=null,B=200,A="OK")}catch{p.status===404&&K===""?(B=204,A="No Content"):C={message:K}}if(C&&this.isMaybeSingle&&(!((O=C==null?void 0:C.details)===null||O===void 0)&&O.includes("0 rows"))&&(C=null,B=200,A="OK"),C&&this.shouldThrowOnError)throw new r.default(C)}return{error:C,data:N,count:S,status:B,statusText:A}});return this.shouldThrowOnError||(g=g.catch(p=>{var b,w,_;return{error:{message:`${(b=p==null?void 0:p.name)!==null&&b!==void 0?b:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(w=p==null?void 0:p.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(_=p==null?void 0:p.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),g.then(c,f)}returns(){return this}overrideTypes(){return this}}return _l.default=i,_l}var _g;function qp(){if(_g)return wl;_g=1,Object.defineProperty(wl,"__esModule",{value:!0});const a=Ys.__importDefault(Bp());class r extends a.default{select(o){let c=!1;const f=(o??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",f),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:c=!0,nullsFirst:f,foreignTable:h,referencedTable:g=h}={}){const p=g?`${g}.order`:"order",b=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${b?`${b},`:""}${o}.${c?"asc":"desc"}${f===void 0?"":f?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:f=c}={}){const h=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,c,{foreignTable:f,referencedTable:h=f}={}){const g=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(g,`${o}`),this.url.searchParams.set(p,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:c=!1,settings:f=!1,buffers:h=!1,wal:g=!1,format:p="text"}={}){var b;const w=[o?"analyze":null,c?"verbose":null,f?"settings":null,h?"buffers":null,g?"wal":null].filter(Boolean).join("|"),_=(b=this.headers.get("Accept"))!==null&&b!==void 0?b:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${_}"; options=${w};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return wl.default=r,wl}var xg;function Qc(){if(xg)return bl;xg=1,Object.defineProperty(bl,"__esModule",{value:!0});const a=Ys.__importDefault(qp());class r extends a.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const f=Array.from(new Set(c)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${f})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:f,type:h}={}){let g="";h==="plain"?g="pl":h==="phrase"?g="ph":h==="websearch"&&(g="w");const p=f===void 0?"":`(${f})`;return this.url.searchParams.append(o,`${g}fts${p}.${c}`),this}match(o){return Object.entries(o).forEach(([c,f])=>{this.url.searchParams.append(c,`eq.${f}`)}),this}not(o,c,f){return this.url.searchParams.append(o,`not.${c}.${f}`),this}or(o,{foreignTable:c,referencedTable:f=c}={}){const h=f?`${f}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,c,f){return this.url.searchParams.append(o,`${c}.${f}`),this}}return bl.default=r,bl}var Sg;function Hp(){if(Sg)return yl;Sg=1,Object.defineProperty(yl,"__esModule",{value:!0});const a=Ys.__importDefault(Qc());class r{constructor(o,{headers:c={},schema:f,fetch:h}){this.url=o,this.headers=new Headers(c),this.schema=f,this.fetch=h}select(o,c){const{head:f=!1,count:h}=c??{},g=f?"HEAD":"GET";let p=!1;const b=(o??"*").split("").map(w=>/\s/.test(w)&&!p?"":(w==='"'&&(p=!p),w)).join("");return this.url.searchParams.set("select",b),h&&this.headers.append("Prefer",`count=${h}`),new a.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:c,defaultToNull:f=!0}={}){var h;const g="POST";if(c&&this.headers.append("Prefer",`count=${c}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const p=o.reduce((b,w)=>b.concat(Object.keys(w)),[]);if(p.length>0){const b=[...new Set(p)].map(w=>`"${w}"`);this.url.searchParams.set("columns",b.join(","))}}return new a.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(o,{onConflict:c,ignoreDuplicates:f=!1,count:h,defaultToNull:g=!0}={}){var p;const b="POST";if(this.headers.append("Prefer",`resolution=${f?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),h&&this.headers.append("Prefer",`count=${h}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const w=o.reduce((_,O)=>_.concat(Object.keys(O)),[]);if(w.length>0){const _=[...new Set(w)].map(O=>`"${O}"`);this.url.searchParams.set("columns",_.join(","))}}return new a.default({method:b,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(o,{count:c}={}){var f;const h="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new a.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}delete({count:o}={}){var c;const f="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new a.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return yl.default=r,yl}var Eg;function Wb(){if(Eg)return vl;Eg=1,Object.defineProperty(vl,"__esModule",{value:!0});const l=Ys,a=l.__importDefault(Hp()),r=l.__importDefault(Qc());class i{constructor(c,{headers:f={},schema:h,fetch:g}={}){this.url=c,this.headers=new Headers(f),this.schemaName=h,this.fetch=g}from(c){const f=new URL(`${this.url}/${c}`);return new a.default(f,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new i(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,f={},{head:h=!1,get:g=!1,count:p}={}){var b;let w;const _=new URL(`${this.url}/rpc/${c}`);let O;h||g?(w=h?"HEAD":"GET",Object.entries(f).filter(([N,S])=>S!==void 0).map(([N,S])=>[N,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([N,S])=>{_.searchParams.append(N,S)})):(w="POST",O=f);const C=new Headers(this.headers);return p&&C.set("Prefer",`count=${p}`),new r.default({method:w,url:_,headers:C,schema:this.schemaName,body:O,fetch:(b=this.fetch)!==null&&b!==void 0?b:fetch})}}return vl.default=i,vl}var jg;function Fb(){if(jg)return _t;jg=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.PostgrestError=_t.PostgrestBuilder=_t.PostgrestTransformBuilder=_t.PostgrestFilterBuilder=_t.PostgrestQueryBuilder=_t.PostgrestClient=void 0;const l=Ys,a=l.__importDefault(Wb());_t.PostgrestClient=a.default;const r=l.__importDefault(Hp());_t.PostgrestQueryBuilder=r.default;const i=l.__importDefault(Qc());_t.PostgrestFilterBuilder=i.default;const o=l.__importDefault(qp());_t.PostgrestTransformBuilder=o.default;const c=l.__importDefault(Bp());_t.PostgrestBuilder=c.default;const f=l.__importDefault(Lp());return _t.PostgrestError=f.default,_t.default={PostgrestClient:a.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:f.default},_t}var ew=Fb();const tw=Bc(ew),{PostgrestClient:nw,PostgrestQueryBuilder:Y1,PostgrestFilterBuilder:K1,PostgrestTransformBuilder:I1,PostgrestBuilder:Q1,PostgrestError:J1}=tw;class aw{static detectEnvironment(){var a;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((a=navigator.userAgent)===null||a===void 0)&&a.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const a=this.detectEnvironment();if(a.constructor)return a.constructor;let r=a.error||"WebSocket not supported in this environment.";throw a.workaround&&(r+=`

Suggested solution: ${a.workaround}`),new Error(r)}static createWebSocket(a,r){const i=this.getWebSocketConstructor();return new i(a,r)}static isWebSocketSupported(){try{const a=this.detectEnvironment();return a.type==="native"||a.type==="ws"}catch{return!1}}}const sw="2.76.1",rw=`realtime-js/${sw}`,iw="1.0.0",Ac=1e4,lw=1e3,ow=100;var Gr;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(Gr||(Gr={}));var ct;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(ct||(ct={}));var on;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(on||(on={}));var Nc;(function(l){l.websocket="websocket"})(Nc||(Nc={}));var qa;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(qa||(qa={}));class uw{constructor(){this.HEADER_LENGTH=1}decode(a,r){return a.constructor===ArrayBuffer?r(this._binaryDecode(a)):r(typeof a=="string"?JSON.parse(a):{})}_binaryDecode(a){const r=new DataView(a),i=new TextDecoder;return this._decodeBroadcast(a,r,i)}_decodeBroadcast(a,r,i){const o=r.getUint8(1),c=r.getUint8(2);let f=this.HEADER_LENGTH+2;const h=i.decode(a.slice(f,f+o));f=f+o;const g=i.decode(a.slice(f,f+c));f=f+c;const p=JSON.parse(i.decode(a.slice(f,a.byteLength)));return{ref:null,topic:h,event:g,payload:p}}}class $p{constructor(a,r){this.callback=a,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=a,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ve;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(Ve||(Ve={}));const Tg=(l,a,r={})=>{var i;const o=(i=r.skipTypes)!==null&&i!==void 0?i:[];return a?Object.keys(a).reduce((c,f)=>(c[f]=cw(f,l,a,o),c),{}):{}},cw=(l,a,r,i)=>{const o=a.find(h=>h.name===l),c=o==null?void 0:o.type,f=r[l];return c&&!i.includes(c)?Vp(c,f):kc(f)},Vp=(l,a)=>{if(l.charAt(0)==="_"){const r=l.slice(1,l.length);return mw(a,r)}switch(l){case Ve.bool:return dw(a);case Ve.float4:case Ve.float8:case Ve.int2:case Ve.int4:case Ve.int8:case Ve.numeric:case Ve.oid:return fw(a);case Ve.json:case Ve.jsonb:return hw(a);case Ve.timestamp:return gw(a);case Ve.abstime:case Ve.date:case Ve.daterange:case Ve.int4range:case Ve.int8range:case Ve.money:case Ve.reltime:case Ve.text:case Ve.time:case Ve.timestamptz:case Ve.timetz:case Ve.tsrange:case Ve.tstzrange:return kc(a);default:return kc(a)}},kc=l=>l,dw=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},fw=l=>{if(typeof l=="string"){const a=parseFloat(l);if(!Number.isNaN(a))return a}return l},hw=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(a){return console.log(`JSON parse error: ${a}`),l}return l},mw=(l,a)=>{if(typeof l!="string")return l;const r=l.length-1,i=l[r];if(l[0]==="{"&&i==="}"){let c;const f=l.slice(1,r);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(h=>Vp(a,h))}return l},gw=l=>typeof l=="string"?l.replace(" ","T"):l,Gp=l=>{const a=new URL(l);return a.protocol=a.protocol.replace(/^ws/i,"http"),a.pathname=a.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),a.pathname===""||a.pathname==="/"?a.pathname="/api/broadcast":a.pathname=a.pathname+"/api/broadcast",a.href};class uc{constructor(a,r,i={},o=Ac){this.channel=a,this.event=r,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(a){this.timeout=a,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(a){this.payload=Object.assign(Object.assign({},this.payload),a)}receive(a,r){var i;return this._hasReceived(a)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:a,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const a=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},a),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(a,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:a,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:a,response:r}){this.recHooks.filter(i=>i.status===a).forEach(i=>i.callback(r))}_hasReceived(a){return this.receivedResp&&this.receivedResp.status===a}}var Og;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(Og||(Og={}));class Yr{constructor(a,r){this.channel=a,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:c,onLeave:f,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yr.syncState(this.state,o,c,f),this.pendingDiffs.forEach(g=>{this.state=Yr.syncDiff(this.state,g,c,f)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},o=>{const{onJoin:c,onLeave:f,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Yr.syncDiff(this.state,o,c,f),h())}),this.onJoin((o,c,f)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:f})}),this.onLeave((o,c,f)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(a,r,i,o){const c=this.cloneDeep(a),f=this.transformState(r),h={},g={};return this.map(c,(p,b)=>{f[p]||(g[p]=b)}),this.map(f,(p,b)=>{const w=c[p];if(w){const _=b.map(S=>S.presence_ref),O=w.map(S=>S.presence_ref),C=b.filter(S=>O.indexOf(S.presence_ref)<0),N=w.filter(S=>_.indexOf(S.presence_ref)<0);C.length>0&&(h[p]=C),N.length>0&&(g[p]=N)}else h[p]=b}),this.syncDiff(c,{joins:h,leaves:g},i,o)}static syncDiff(a,r,i,o){const{joins:c,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(c,(h,g)=>{var p;const b=(p=a[h])!==null&&p!==void 0?p:[];if(a[h]=this.cloneDeep(g),b.length>0){const w=a[h].map(O=>O.presence_ref),_=b.filter(O=>w.indexOf(O.presence_ref)<0);a[h].unshift(..._)}i(h,b,g)}),this.map(f,(h,g)=>{let p=a[h];if(!p)return;const b=g.map(w=>w.presence_ref);p=p.filter(w=>b.indexOf(w.presence_ref)<0),a[h]=p,o(h,p,g),p.length===0&&delete a[h]}),a}static map(a,r){return Object.getOwnPropertyNames(a).map(i=>r(i,a[i]))}static transformState(a){return a=this.cloneDeep(a),Object.getOwnPropertyNames(a).reduce((r,i)=>{const o=a[i];return"metas"in o?r[i]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[i]=o,r},{})}static cloneDeep(a){return JSON.parse(JSON.stringify(a))}onJoin(a){this.caller.onJoin=a}onLeave(a){this.caller.onLeave=a}onSync(a){this.caller.onSync=a}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ag;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(Ag||(Ag={}));var Kr;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(Kr||(Kr={}));var Mn;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(Mn||(Mn={}));class Jc{constructor(a,r={config:{}},i){var o,c;if(this.topic=a,this.params=r,this.socket=i,this.bindings={},this.state=ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=a.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new uc(this,on.join,this.params,this.timeout),this.rejoinTimer=new $p(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ct.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(on.reply,{},(f,h)=>{this._trigger(this._replyEventName(h),f)}),this.presence=new Yr(this),this.broadcastEndpointURL=Gp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(a,r=this.timeout){var i,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==ct.closed){const{config:{broadcast:f,presence:h,private:g}}=this.params,p=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(O=>O.filter))!==null&&o!==void 0?o:[],b=!!this.bindings[Kr.PRESENCE]&&this.bindings[Kr.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,w={},_={broadcast:f,presence:Object.assign(Object.assign({},h),{enabled:b}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(O=>a==null?void 0:a(Mn.CHANNEL_ERROR,O)),this._onClose(()=>a==null?void 0:a(Mn.CLOSED)),this.updateJoinPayload(Object.assign({config:_},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:O})=>{var C;if(this.socket.setAuth(),O===void 0){a==null||a(Mn.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,S=(C=N==null?void 0:N.length)!==null&&C!==void 0?C:0,B=[];for(let A=0;A<S;A++){const R=N[A],{filter:{event:K,schema:te,table:Q,filter:q}}=R,J=O&&O[A];if(J&&J.event===K&&J.schema===te&&J.table===Q&&J.filter===q)B.push(Object.assign(Object.assign({},R),{id:J.id}));else{this.unsubscribe(),this.state=ct.errored,a==null||a(Mn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=B,a&&a(Mn.SUBSCRIBED);return}}).receive("error",O=>{this.state=ct.errored,a==null||a(Mn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(O).join(", ")||"error")))}).receive("timeout",()=>{a==null||a(Mn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(a,r={}){return await this.send({type:"presence",event:"track",payload:a},r.timeout||this.timeout)}async untrack(a={}){return await this.send({type:"presence",event:"untrack"},a)}on(a,r,i){return this.state===ct.joined&&a===Kr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(a,r,i)}async httpSend(a,r,i={}){var o;const c=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const f={method:"POST",headers:{Authorization:c,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:r,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let g=h.statusText;try{const p=await h.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(a,r={}){var i,o;if(!this._canPush()&&a.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:f}=a,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,h,g;const p=this._push(a.type,a,r.timeout||this.timeout);a.type==="broadcast"&&!(!((g=(h=(f=this.params)===null||f===void 0?void 0:f.config)===null||h===void 0?void 0:h.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(a){this.joinPush.updatePayload(a)}unsubscribe(a=this.timeout){this.state=ct.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(on.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new uc(this,on.leave,{},a),i.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(a=>a.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ct.closed,this.bindings={}}async _fetchWithTimeout(a,r,i){const o=new AbortController,c=setTimeout(()=>o.abort(),i),f=await this.socket.fetch(a,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(c),f}_push(a,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${a}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new uc(this,a,r,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(a){if(a.startTimeout(),this.pushBuffer.push(a),this.pushBuffer.length>ow){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(a,r,i){return r}_isMember(a){return this.topic===a}_joinRef(){return this.joinPush.ref}_trigger(a,r,i){var o,c;const f=a.toLocaleLowerCase(),{close:h,error:g,leave:p,join:b}=on;if(i&&[h,g,p,b].indexOf(f)>=0&&i!==this._joinRef())return;let _=this._onMessage(f,r,i);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(O=>{var C,N,S;return((C=O.filter)===null||C===void 0?void 0:C.event)==="*"||((S=(N=O.filter)===null||N===void 0?void 0:N.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===f}).map(O=>O.callback(_,i)):(c=this.bindings[f])===null||c===void 0||c.filter(O=>{var C,N,S,B,A,R;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in O){const K=O.id,te=(C=O.filter)===null||C===void 0?void 0:C.event;return K&&((N=r.ids)===null||N===void 0?void 0:N.includes(K))&&(te==="*"||(te==null?void 0:te.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{const K=(A=(B=O==null?void 0:O.filter)===null||B===void 0?void 0:B.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return K==="*"||K===((R=r==null?void 0:r.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return O.type.toLocaleLowerCase()===f}).map(O=>{if(typeof _=="object"&&"ids"in _){const C=_.data,{schema:N,table:S,commit_timestamp:B,type:A,errors:R}=C;_=Object.assign(Object.assign({},{schema:N,table:S,commit_timestamp:B,eventType:A,new:{},old:{},errors:R}),this._getPayloadRecords(C))}O.callback(_,i)})}_isClosed(){return this.state===ct.closed}_isJoined(){return this.state===ct.joined}_isJoining(){return this.state===ct.joining}_isLeaving(){return this.state===ct.leaving}_replyEventName(a){return`chan_reply_${a}`}_on(a,r,i){const o=a.toLocaleLowerCase(),c={type:o,filter:r,callback:i};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(a,r){const i=a.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===i&&Jc.isEqual(o.filter,r))})),this}static isEqual(a,r){if(Object.keys(a).length!==Object.keys(r).length)return!1;for(const i in a)if(a[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(a){this._on(on.close,{},a)}_onError(a){this._on(on.error,{},r=>a(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(a=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ct.joining,this.joinPush.resend(a))}_getPayloadRecords(a){const r={new:{},old:{}};return(a.type==="INSERT"||a.type==="UPDATE")&&(r.new=Tg(a.columns,a.record)),(a.type==="UPDATE"||a.type==="DELETE")&&(r.old=Tg(a.columns,a.old_record)),r}}const cc=()=>{},Sl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},pw=[1e3,2e3,5e3,1e4],vw=1e4,yw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bw{constructor(a,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ac,this.transport=null,this.heartbeatIntervalMs=Sl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cc,this.ref=0,this.reconnectTimer=null,this.logger=cc,this.conn=null,this.sendBuffer=[],this.serializer=new uw,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let c;return o?c=o:typeof fetch>"u"?c=(...f)=>Gs(async()=>{const{default:h}=await Promise.resolve().then(()=>Ga);return{default:h}},void 0).then(({default:h})=>h(...f)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...f)=>c(...f)},!(!((i=r==null?void 0:r.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${a}/${Nc.websocket}`,this.httpEndpoint=Gp(a),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=aw.createWebSocket(this.endpointURL())}catch(a){this._setConnectionState("disconnected");const r=a.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:iw}))}disconnect(a,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},a?this.conn.close(a,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(a){const r=await a.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const a=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),a}log(a,r,i){this.logger(a,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Gr.connecting:return qa.Connecting;case Gr.open:return qa.Open;case Gr.closing:return qa.Closing;default:return qa.Closed}}isConnected(){return this.connectionState()===qa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(a,r={config:{}}){const i=`realtime:${a}`,o=this.getChannels().find(c=>c.topic===i);if(o)return o;{const c=new Jc(`realtime:${a}`,r,this);return this.channels.push(c),c}}push(a){const{topic:r,event:i,payload:o,ref:c}=a,f=()=>{this.encode(a,h=>{var g;(g=this.conn)===null||g===void 0||g.send(h)})};this.log("push",`${r} ${i} (${c})`,o),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(a=null){this._authPromise=this._performAuth(a);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var a;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(a=this.conn)===null||a===void 0||a.close(lw,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Sl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(a){this.heartbeatCallback=a}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(a=>a()),this.sendBuffer=[])}_makeRef(){let a=this.ref+1;return a===this.ref?this.ref=0:this.ref=a,this.ref.toString()}_leaveOpenTopic(a){let r=this.channels.find(i=>i.topic===a&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${a}"`),r.unsubscribe())}_remove(a){this.channels=this.channels.filter(r=>r.topic!==a.topic)}_onConnMessage(a){this.decode(a.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:c,ref:f}=r,h=f?`(${f})`:"",g=c.status||"";this.log("receive",`${g} ${i} ${o} ${h}`.trim(),c),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(o,c,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(a){var r;a==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):a==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=a=>this._onConnError(a),this.conn.onmessage=a=>this._onConnMessage(a),this.conn.onclose=a=>this._onConnClose(a))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(a=>a.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const a=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(a),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(a){var r;this._setConnectionState("disconnected"),this.log("transport","close",a),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",a)}_onConnError(a){this._setConnectionState("disconnected"),this.log("transport",`${a}`),this._triggerChanError(),this._triggerStateCallbacks("error",a)}_triggerChanError(){this.channels.forEach(a=>a._trigger(on.error))}_appendParams(a,r){if(Object.keys(r).length===0)return a;const i=a.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${a}${i}${o}`}_workerObjectUrl(a){let r;if(a)r=a;else{const i=new Blob([yw],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(a,r=!1){this._connectionState=a,a==="connecting"?this._wasManualDisconnect=!1:a==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(a=null){let r;a?r=a:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const o={access_token:r,version:rw};r&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(on.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(a="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${a}`,r)})}_triggerStateCallbacks(a,r){try{this.stateChangeCallbacks[a].forEach(i=>{try{i(r)}catch(o){this.log("error",`error in ${a} callback`,o)}})}catch(i){this.log("error",`error triggering ${a} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new $p(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Sl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(a){var r,i,o,c,f,h,g,p,b;if(this.transport=(r=a==null?void 0:a.transport)!==null&&r!==void 0?r:null,this.timeout=(i=a==null?void 0:a.timeout)!==null&&i!==void 0?i:Ac,this.heartbeatIntervalMs=(o=a==null?void 0:a.heartbeatIntervalMs)!==null&&o!==void 0?o:Sl.HEARTBEAT_INTERVAL,this.worker=(c=a==null?void 0:a.worker)!==null&&c!==void 0?c:!1,this.accessToken=(f=a==null?void 0:a.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(h=a==null?void 0:a.heartbeatCallback)!==null&&h!==void 0?h:cc,a!=null&&a.params&&(this.params=a.params),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=a==null?void 0:a.reconnectAfterMs)!==null&&g!==void 0?g:(w=>pw[w-1]||vw),this.encode=(p=a==null?void 0:a.encode)!==null&&p!==void 0?p:((w,_)=>_(JSON.stringify(w))),this.decode=(b=a==null?void 0:a.decode)!==null&&b!==void 0?b:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=a==null?void 0:a.workerUrl}}}class Xc extends Error{constructor(a){super(a),this.__isStorageError=!0,this.name="StorageError"}}function Pe(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class ww extends Xc{constructor(a,r,i){super(a),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Cc extends Xc{constructor(a,r){super(a),this.name="StorageUnknownError",this.originalError=r}}const Zc=l=>{let a;return l?a=l:typeof fetch>"u"?a=(...r)=>Gs(async()=>{const{default:i}=await Promise.resolve().then(()=>Ga);return{default:i}},void 0).then(({default:i})=>i(...r)):a=fetch,(...r)=>a(...r)},_w=()=>ae(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gs(()=>Promise.resolve().then(()=>Ga),void 0)).Response:Response}),Rc=l=>{if(Array.isArray(l))return l.map(r=>Rc(r));if(typeof l=="function"||l!==Object(l))return l;const a={};return Object.entries(l).forEach(([r,i])=>{const o=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));a[o]=Rc(i)}),a},xw=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},dc=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Sw=(l,a,r)=>ae(void 0,void 0,void 0,function*(){const i=yield _w();l instanceof i&&!(r!=null&&r.noResolveJson)?l.json().then(o=>{const c=l.status||500,f=(o==null?void 0:o.statusCode)||c+"";a(new ww(dc(o),c,f))}).catch(o=>{a(new Cc(dc(o),o))}):a(new Cc(dc(l),l))}),Ew=(l,a,r,i)=>{const o={method:l,headers:(a==null?void 0:a.headers)||{}};return l==="GET"||!i?o:(xw(i)?(o.headers=Object.assign({"Content-Type":"application/json"},a==null?void 0:a.headers),o.body=JSON.stringify(i)):o.body=i,a!=null&&a.duplex&&(o.duplex=a.duplex),Object.assign(Object.assign({},o),r))};function Wr(l,a,r,i,o,c){return ae(this,void 0,void 0,function*(){return new Promise((f,h)=>{l(r,Ew(a,i,o,c)).then(g=>{if(!g.ok)throw g;return i!=null&&i.noResolveJson?g:g.json()}).then(g=>f(g)).catch(g=>Sw(g,h,i))})})}function Jr(l,a,r,i){return ae(this,void 0,void 0,function*(){return Wr(l,"GET",a,r,i)})}function ln(l,a,r,i,o){return ae(this,void 0,void 0,function*(){return Wr(l,"POST",a,i,o,r)})}function Dc(l,a,r,i,o){return ae(this,void 0,void 0,function*(){return Wr(l,"PUT",a,i,o,r)})}function jw(l,a,r,i){return ae(this,void 0,void 0,function*(){return Wr(l,"HEAD",a,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function Pc(l,a,r,i,o){return ae(this,void 0,void 0,function*(){return Wr(l,"DELETE",a,i,o,r)})}class Tw{constructor(a,r){this.downloadFn=a,this.shouldThrowOnError=r}then(a,r){return this.execute().then(a,r)}execute(){return ae(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pe(a))return{data:null,error:a};throw a}})}}var Yp;class Ow{constructor(a,r){this.downloadFn=a,this.shouldThrowOnError=r,this[Yp]="BlobDownloadBuilder",this.promise=null}asStream(){return new Tw(this.downloadFn,this.shouldThrowOnError)}then(a,r){return this.getPromise().then(a,r)}catch(a){return this.getPromise().catch(a)}finally(a){return this.getPromise().finally(a)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ae(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pe(a))return{data:null,error:a};throw a}})}}Yp=Symbol.toStringTag;const Aw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ng={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Nw{constructor(a,r={},i,o){this.shouldThrowOnError=!1,this.url=a,this.headers=r,this.bucketId=i,this.fetch=Zc(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(a,r,i,o){return ae(this,void 0,void 0,function*(){try{let c;const f=Object.assign(Object.assign({},Ng),o);let h=Object.assign(Object.assign({},this.headers),a==="POST"&&{"x-upsert":String(f.upsert)});const g=f.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.append("cacheControl",f.cacheControl),g&&c.append("metadata",this.encodeMetadata(g))):(c=i,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType,g&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const p=this._removeEmptyFolders(r),b=this._getFinalPath(p),w=yield(a=="PUT"?Dc:ln)(this.fetch,`${this.url}/object/${b}`,c,Object.assign({headers:h},f!=null&&f.duplex?{duplex:f.duplex}:{}));return{data:{path:p,id:w.Id,fullPath:w.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Pe(c))return{data:null,error:c};throw c}})}upload(a,r,i){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",a,r,i)})}uploadToSignedUrl(a,r,i,o){return ae(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(a),f=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${f}`);h.searchParams.set("token",r);try{let g;const p=Object.assign({upsert:Ng.upsert},o),b=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",p.cacheControl)):(g=i,b["cache-control"]=`max-age=${p.cacheControl}`,b["content-type"]=p.contentType);const w=yield Dc(this.fetch,h.toString(),g,{headers:b});return{data:{path:c,fullPath:w.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Pe(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(a,r){return ae(this,void 0,void 0,function*(){try{let i=this._getFinalPath(a);const o=Object.assign({},this.headers);r!=null&&r.upsert&&(o["x-upsert"]="true");const c=yield ln(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),f=new URL(this.url+c.url),h=f.searchParams.get("token");if(!h)throw new Xc("No token returned by API");return{data:{signedUrl:f.toString(),path:a,token:h},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}update(a,r,i){return ae(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",a,r,i)})}move(a,r,i){return ae(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:a,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}copy(a,r,i){return ae(this,void 0,void 0,function*(){try{return{data:{path:(yield ln(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:a,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}createSignedUrl(a,r,i){return ae(this,void 0,void 0,function*(){try{let o=this._getFinalPath(a),c=yield ln(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const f=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${f}`)},{data:c,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}createSignedUrls(a,r,i){return ae(this,void 0,void 0,function*(){try{const o=yield ln(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:a},{headers:this.headers}),c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(f=>Object.assign(Object.assign({},f),{signedUrl:f.signedURL?encodeURI(`${this.url}${f.signedURL}${c}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}download(a,r){const o=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),f=c?`?${c}`:"",h=this._getFinalPath(a),g=()=>Jr(this.fetch,`${this.url}/${o}/${h}${f}`,{headers:this.headers,noResolveJson:!0});return new Ow(g,this.shouldThrowOnError)}info(a){return ae(this,void 0,void 0,function*(){const r=this._getFinalPath(a);try{const i=yield Jr(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Rc(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}exists(a){return ae(this,void 0,void 0,function*(){const r=this._getFinalPath(a);try{return yield jw(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i)&&i instanceof Cc){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}})}getPublicUrl(a,r){const i=this._getFinalPath(a),o=[],c=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";c!==""&&o.push(c);const h=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});g!==""&&o.push(g);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${p}`)}}}remove(a){return ae(this,void 0,void 0,function*(){try{return{data:yield Pc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}list(a,r,i){return ae(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Aw),r),{prefix:a||""});return{data:yield ln(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}listV2(a,r){return ae(this,void 0,void 0,function*(){try{const i=Object.assign({},a);return{data:yield ln(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}encodeMetadata(a){return JSON.stringify(a)}toBase64(a){return typeof Buffer<"u"?Buffer.from(a).toString("base64"):btoa(a)}_getFinalPath(a){return`${this.bucketId}/${a.replace(/^\/+/,"")}`}_removeEmptyFolders(a){return a.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(a){const r=[];return a.width&&r.push(`width=${a.width}`),a.height&&r.push(`height=${a.height}`),a.resize&&r.push(`resize=${a.resize}`),a.format&&r.push(`format=${a.format}`),a.quality&&r.push(`quality=${a.quality}`),r.join("&")}}const Kp="2.76.1",Ip={"X-Client-Info":`storage-js/${Kp}`};class kw{constructor(a,r={},i,o){this.shouldThrowOnError=!1;const c=new URL(a);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ip),r),this.fetch=Zc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return ae(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Pe(a))return{data:null,error:a};throw a}})}getBucket(a){return ae(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/bucket/${a}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}createBucket(a){return ae(this,arguments,void 0,function*(r,i={public:!1}){try{return{data:yield ln(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}updateBucket(a,r){return ae(this,void 0,void 0,function*(){try{return{data:yield Dc(this.fetch,`${this.url}/bucket/${a}`,{id:a,name:a,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}emptyBucket(a){return ae(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket/${a}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}deleteBucket(a){return ae(this,void 0,void 0,function*(){try{return{data:yield Pc(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}}class Cw{constructor(a,r={},i){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ip),r),this.fetch=Zc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return ae(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket`,{name:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}listBuckets(a){return ae(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(a==null?void 0:a.limit)!==void 0&&r.set("limit",a.limit.toString()),(a==null?void 0:a.offset)!==void 0&&r.set("offset",a.offset.toString()),a!=null&&a.sortColumn&&r.set("sortColumn",a.sortColumn),a!=null&&a.sortOrder&&r.set("sortOrder",a.sortOrder),a!=null&&a.search&&r.set("search",a.search);const i=r.toString(),o=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`,c=yield Jr(this.fetch,o,{headers:this.headers});return{data:Array.isArray(c)?c.filter(h=>h.type==="ANALYTICS"):[],error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}deleteBucket(a){return ae(this,void 0,void 0,function*(){try{return{data:yield Pc(this.fetch,`${this.url}/bucket/${a}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}}const Wc={"X-Client-Info":`storage-js/${Kp}`,"Content-Type":"application/json"};class Qp extends Error{constructor(a){super(a),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function $t(l){return typeof l=="object"&&l!==null&&"__isStorageVectorsError"in l}class fc extends Qp{constructor(a,r,i){super(a),this.name="StorageVectorsApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Rw extends Qp{constructor(a,r){super(a),this.name="StorageVectorsUnknownError",this.originalError=r}}var kg;(function(l){l.InternalError="InternalError",l.S3VectorConflictException="S3VectorConflictException",l.S3VectorNotFoundException="S3VectorNotFoundException",l.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",l.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",l.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(kg||(kg={}));const Fc=l=>{let a;return l?a=l:typeof fetch>"u"?a=(...r)=>Gs(async()=>{const{default:i}=await Promise.resolve().then(()=>Ga);return{default:i}},void 0).then(({default:i})=>i(...r)):a=fetch,(...r)=>a(...r)},Dw=l=>{if(typeof l!="object"||l===null)return!1;const a=Object.getPrototypeOf(l);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)},Cg=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),Uw=(l,a,r)=>ae(void 0,void 0,void 0,function*(){if(l&&typeof l=="object"&&"status"in l&&"ok"in l&&typeof l.status=="number"&&!(r!=null&&r.noResolveJson)){const o=l.status||500,c=l;if(typeof c.json=="function")c.json().then(f=>{const h=(f==null?void 0:f.statusCode)||(f==null?void 0:f.code)||o+"";a(new fc(Cg(f),o,h))}).catch(()=>{const f=o+"",h=c.statusText||`HTTP ${o} error`;a(new fc(h,o,f))});else{const f=o+"",h=c.statusText||`HTTP ${o} error`;a(new fc(h,o,f))}}else a(new Rw(Cg(l),l))}),zw=(l,a,r,i)=>{const o={method:l,headers:(a==null?void 0:a.headers)||{}};return i?(Dw(i)?(o.headers=Object.assign({"Content-Type":"application/json"},a==null?void 0:a.headers),o.body=JSON.stringify(i)):o.body=i,Object.assign(Object.assign({},o),r)):o};function Mw(l,a,r,i,o,c){return ae(this,void 0,void 0,function*(){return new Promise((f,h)=>{l(r,zw(a,i,o,c)).then(g=>{if(!g.ok)throw g;if(i!=null&&i.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>f(g)).catch(g=>Uw(g,h,i))})})}function Vt(l,a,r,i,o){return ae(this,void 0,void 0,function*(){return Mw(l,"POST",a,i,o,r)})}class Lw{constructor(a,r={},i){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wc),r),this.fetch=Fc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(a){return ae(this,void 0,void 0,function*(){try{return{data:(yield Vt(this.fetch,`${this.url}/CreateIndex`,a,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}getIndex(a,r){return ae(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:a,indexName:r},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}})}listIndexes(a){return ae(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/ListIndexes`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}deleteIndex(a,r){return ae(this,void 0,void 0,function*(){try{return{data:(yield Vt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:a,indexName:r},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}})}}class Bw{constructor(a,r={},i){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wc),r),this.fetch=Fc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(a){return ae(this,void 0,void 0,function*(){try{if(a.vectors.length<1||a.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Vt(this.fetch,`${this.url}/PutVectors`,a,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}getVectors(a){return ae(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/GetVectors`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}listVectors(a){return ae(this,void 0,void 0,function*(){try{if(a.segmentCount!==void 0){if(a.segmentCount<1||a.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(a.segmentIndex!==void 0&&(a.segmentIndex<0||a.segmentIndex>=a.segmentCount))throw new Error(`segmentIndex must be between 0 and ${a.segmentCount-1}`)}return{data:yield Vt(this.fetch,`${this.url}/ListVectors`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}queryVectors(a){return ae(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/QueryVectors`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}deleteVectors(a){return ae(this,void 0,void 0,function*(){try{if(a.keys.length<1||a.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Vt(this.fetch,`${this.url}/DeleteVectors`,a,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}}class qw{constructor(a,r={},i){this.shouldThrowOnError=!1,this.url=a.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Wc),r),this.fetch=Fc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(a){return ae(this,void 0,void 0,function*(){try{return{data:(yield Vt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}getBucket(a){return ae(this,void 0,void 0,function*(){try{return{data:yield Vt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:a},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}listBuckets(){return ae(this,arguments,void 0,function*(a={}){try{return{data:yield Vt(this.fetch,`${this.url}/ListVectorBuckets`,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}deleteBucket(a){return ae(this,void 0,void 0,function*(){try{return{data:(yield Vt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:a},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}}class Hw extends qw{constructor(a,r={}){super(a,r.headers||{},r.fetch)}from(a){return new $w(this.url,this.headers,a,this.fetch)}}class $w extends Lw{constructor(a,r,i,o){super(a,r,o),this.vectorBucketName=i}createIndex(a){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ae(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const a=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ae(this,arguments,void 0,function*(r={}){return a.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(a){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ae(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,a)})}deleteIndex(a){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ae(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,a)})}index(a){return new Vw(this.url,this.headers,this.vectorBucketName,a,this.fetch)}}class Vw extends Bw{constructor(a,r,i,o,c){super(a,r,c),this.vectorBucketName=i,this.indexName=o}putVectors(a){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ae(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(a){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ae(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const a=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ae(this,arguments,void 0,function*(r={}){return a.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(a){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ae(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(a){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ae(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},a),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Gw extends kw{constructor(a,r={},i,o){super(a,r,i,o)}from(a){return new Nw(this.url,this.headers,a,this.fetch)}get vectors(){return new Hw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Cw(this.url+"/iceberg",this.headers,this.fetch)}}const Yw="2.76.1";let $r="";typeof Deno<"u"?$r="deno":typeof document<"u"?$r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?$r="react-native":$r="node";const Kw={"X-Client-Info":`supabase-js-${$r}/${Yw}`},Iw={headers:Kw},Qw={schema:"public"},Jw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Xw={},Zw=l=>{let a;return l?a=l:typeof fetch>"u"?a=zp:a=fetch,(...r)=>a(...r)},Pw=()=>typeof Headers>"u"?Mp:Headers,Ww=(l,a,r)=>{const i=Zw(r),o=Pw();return async(c,f)=>{var h;const g=(h=await a())!==null&&h!==void 0?h:l;let p=new o(f==null?void 0:f.headers);return p.has("apikey")||p.set("apikey",l),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),i(c,Object.assign(Object.assign({},f),{headers:p}))}};function Fw(l){return l.endsWith("/")?l:l+"/"}function e_(l,a){var r,i;const{db:o,auth:c,realtime:f,global:h}=l,{db:g,auth:p,realtime:b,global:w}=a,_={db:Object.assign(Object.assign({},g),o),auth:Object.assign(Object.assign({},p),c),realtime:Object.assign(Object.assign({},b),f),storage:{},global:Object.assign(Object.assign(Object.assign({},w),h),{headers:Object.assign(Object.assign({},(r=w==null?void 0:w.headers)!==null&&r!==void 0?r:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return l.accessToken?_.accessToken=l.accessToken:delete _.accessToken,_}function t_(l){const a=l==null?void 0:l.trim();if(!a)throw new Error("supabaseUrl is required.");if(!a.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Fw(a))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Jp="2.76.1",Ms=30*1e3,Uc=3,hc=Uc*Ms,n_="http://localhost:9999",a_="supabase.auth.token",s_={"X-Client-Info":`gotrue-js/${Jp}`},zc="X-Supabase-Api-Version",Xp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},r_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,i_=600*1e3;class Xr extends Error{constructor(a,r,i){super(a),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function oe(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class l_ extends Xr{constructor(a,r,i){super(a,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function o_(l){return oe(l)&&l.name==="AuthApiError"}class Ha extends Xr{constructor(a,r){super(a),this.name="AuthUnknownError",this.originalError=r}}class pa extends Xr{constructor(a,r,i,o){super(a,i,o),this.name=r,this.status=i}}class ca extends pa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function u_(l){return oe(l)&&l.name==="AuthSessionMissingError"}class Cs extends pa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class El extends pa{constructor(a){super(a,"AuthInvalidCredentialsError",400,void 0)}}class jl extends pa{constructor(a,r=null){super(a,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function c_(l){return oe(l)&&l.name==="AuthImplicitGrantRedirectError"}class Rg extends pa{constructor(a,r=null){super(a,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mc extends pa{constructor(a,r){super(a,"AuthRetryableFetchError",r,void 0)}}function mc(l){return oe(l)&&l.name==="AuthRetryableFetchError"}class Dg extends pa{constructor(a,r,i){super(a,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Lc extends pa{constructor(a){super(a,"AuthInvalidJwtError",400,"invalid_jwt")}}const kl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ug=` 	
\r=`.split(""),d_=(()=>{const l=new Array(128);for(let a=0;a<l.length;a+=1)l[a]=-1;for(let a=0;a<Ug.length;a+=1)l[Ug[a].charCodeAt(0)]=-2;for(let a=0;a<kl.length;a+=1)l[kl[a].charCodeAt(0)]=a;return l})();function zg(l,a,r){if(l!==null)for(a.queue=a.queue<<8|l,a.queuedBits+=8;a.queuedBits>=6;){const i=a.queue>>a.queuedBits-6&63;r(kl[i]),a.queuedBits-=6}else if(a.queuedBits>0)for(a.queue=a.queue<<6-a.queuedBits,a.queuedBits=6;a.queuedBits>=6;){const i=a.queue>>a.queuedBits-6&63;r(kl[i]),a.queuedBits-=6}}function Zp(l,a,r){const i=d_[l];if(i>-1)for(a.queue=a.queue<<6|i,a.queuedBits+=6;a.queuedBits>=8;)r(a.queue>>a.queuedBits-8&255),a.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Mg(l){const a=[],r=f=>{a.push(String.fromCodePoint(f))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=f=>{m_(f,i,r)};for(let f=0;f<l.length;f+=1)Zp(l.charCodeAt(f),o,c);return a.join("")}function f_(l,a){if(l<=127){a(l);return}else if(l<=2047){a(192|l>>6),a(128|l&63);return}else if(l<=65535){a(224|l>>12),a(128|l>>6&63),a(128|l&63);return}else if(l<=1114111){a(240|l>>18),a(128|l>>12&63),a(128|l>>6&63),a(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function h_(l,a){for(let r=0;r<l.length;r+=1){let i=l.charCodeAt(r);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(l.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}f_(i,a)}}function m_(l,a,r){if(a.utf8seq===0){if(l<=127){r(l);return}for(let i=1;i<6;i+=1)if((l>>7-i&1)===0){a.utf8seq=i;break}if(a.utf8seq===2)a.codepoint=l&31;else if(a.utf8seq===3)a.codepoint=l&15;else if(a.utf8seq===4)a.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");a.utf8seq-=1}else if(a.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");a.codepoint=a.codepoint<<6|l&63,a.utf8seq-=1,a.utf8seq===0&&r(a.codepoint)}}function Bs(l){const a=[],r={queue:0,queuedBits:0},i=o=>{a.push(o)};for(let o=0;o<l.length;o+=1)Zp(l.charCodeAt(o),r,i);return new Uint8Array(a)}function g_(l){const a=[];return h_(l,r=>a.push(r)),new Uint8Array(a)}function $a(l){const a=[],r={queue:0,queuedBits:0},i=o=>{a.push(o)};return l.forEach(o=>zg(o,r,i)),zg(null,r,i),a.join("")}function p_(l){return Math.round(Date.now()/1e3)+l}function v_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const a=Math.random()*16|0;return(l=="x"?a:a&3|8).toString(16)})}const Ht=()=>typeof window<"u"&&typeof document<"u",Ma={tested:!1,writable:!1},Pp=()=>{if(!Ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ma.tested)return Ma.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),Ma.tested=!0,Ma.writable=!0}catch{Ma.tested=!0,Ma.writable=!1}return Ma.writable};function y_(l){const a={},r=new URL(l);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,c)=>{a[c]=o})}catch{}return r.searchParams.forEach((i,o)=>{a[o]=i}),a}const Wp=l=>{let a;return l?a=l:typeof fetch>"u"?a=(...r)=>Gs(async()=>{const{default:i}=await Promise.resolve().then(()=>Ga);return{default:i}},void 0).then(({default:i})=>i(...r)):a=fetch,(...r)=>a(...r)},b_=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",Ls=async(l,a,r)=>{await l.setItem(a,JSON.stringify(r))},La=async(l,a)=>{const r=await l.getItem(a);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ua=async(l,a)=>{await l.removeItem(a)};class Ml{constructor(){this.promise=new Ml.promiseConstructor((a,r)=>{this.resolve=a,this.reject=r})}}Ml.promiseConstructor=Promise;function gc(l){const a=l.split(".");if(a.length!==3)throw new Lc("Invalid JWT structure");for(let i=0;i<a.length;i++)if(!r_.test(a[i]))throw new Lc("JWT not in base64url format");return{header:JSON.parse(Mg(a[0])),payload:JSON.parse(Mg(a[1])),signature:Bs(a[2]),raw:{header:a[0],payload:a[1]}}}async function w_(l){return await new Promise(a=>{setTimeout(()=>a(null),l)})}function __(l,a){return new Promise((i,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await l(c);if(!a(c,null,f)){i(f);return}}catch(f){if(!a(c,f)){o(f);return}}})()})}function x_(l){return("0"+l.toString(16)).substr(-2)}function S_(){const a=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let o="";for(let c=0;c<56;c++)o+=r.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(a),Array.from(a,x_).join("")}async function E_(l){const r=new TextEncoder().encode(l),i=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(i);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function j_(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const r=await E_(l);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rs(l,a,r=!1){const i=S_();let o=i;r&&(o+="/PASSWORD_RECOVERY"),await Ls(l,`${a}-code-verifier`,o);const c=await j_(i);return[c,i===c?"plain":"s256"]}const T_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function O_(l){const a=l.headers.get(zc);if(!a||!a.match(T_))return null;try{return new Date(`${a}T00:00:00.0Z`)}catch{return null}}function A_(l){if(!l)throw new Error("Missing exp claim");const a=Math.floor(Date.now()/1e3);if(l<=a)throw new Error("JWT has expired")}function N_(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const k_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ds(l){if(!k_.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pc(){const l={};return new Proxy(l,{get:(a,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(a,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Lg(l){return JSON.parse(JSON.stringify(l))}const Ba=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),C_=[502,503,504];async function Bg(l){var a;if(!b_(l))throw new Mc(Ba(l),0);if(C_.includes(l.status))throw new Mc(Ba(l),l.status);let r;try{r=await l.json()}catch(c){throw new Ha(Ba(c),c)}let i;const o=O_(l);if(o&&o.getTime()>=Xp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new Dg(Ba(r),l.status,((a=r.weak_password)===null||a===void 0?void 0:a.reasons)||[]);if(i==="session_not_found")throw new ca}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new Dg(Ba(r),l.status,r.weak_password.reasons);throw new l_(Ba(r),l.status||500,i)}const R_=(l,a,r,i)=>{const o={method:l,headers:(a==null?void 0:a.headers)||{}};return l==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},a==null?void 0:a.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),r))};async function me(l,a,r,i){var o;const c=Object.assign({},i==null?void 0:i.headers);c[zc]||(c[zc]=Xp["2024-01-01"].name),i!=null&&i.jwt&&(c.Authorization=`Bearer ${i.jwt}`);const f=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(f.redirect_to=i.redirectTo);const h=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",g=await D_(l,a,r+h,{headers:c,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(g):{data:Object.assign({},g),error:null}}async function D_(l,a,r,i,o,c){const f=R_(a,i,o,c);let h;try{h=await l(r,Object.assign({},f))}catch(g){throw console.error(g),new Mc(Ba(g),0)}if(h.ok||await Bg(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(g){await Bg(g)}}function rn(l){var a;let r=null;M_(l)&&(r=Object.assign({},l),l.expires_at||(r.expires_at=p_(l.expires_in)));const i=(a=l.user)!==null&&a!==void 0?a:l;return{data:{session:r,user:i},error:null}}function qg(l){const a=rn(l);return!a.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(a.data.weak_password=l.weak_password),a}function fa(l){var a;return{data:{user:(a=l.user)!==null&&a!==void 0?a:l},error:null}}function U_(l){return{data:l,error:null}}function z_(l){const{action_link:a,email_otp:r,hashed_token:i,redirect_to:o,verification_type:c}=l,f=Vs(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:a,email_otp:r,hashed_token:i,redirect_to:o,verification_type:c},g=Object.assign({},f);return{data:{properties:h,user:g},error:null}}function Hg(l){return l}function M_(l){return l.access_token&&l.refresh_token&&l.expires_in}const vc=["global","local","others"];class L_{constructor({url:a="",headers:r={},fetch:i}){this.url=a,this.headers=r,this.fetch=Wp(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(a,r=vc[0]){if(vc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vc.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:a,noResolveJson:!0}),{data:null,error:null}}catch(i){if(oe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(a,r={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:a,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:fa})}catch(i){if(oe(i))return{data:{user:null},error:i};throw i}}async generateLink(a){try{const{options:r}=a,i=Vs(a,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:z_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(oe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(a){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:a,headers:this.headers,xform:fa})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async listUsers(a){var r,i,o,c,f,h,g;try{const p={nextPage:null,lastPage:0,total:0},b=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=a==null?void 0:a.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(c=(o=a==null?void 0:a.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Hg});if(b.error)throw b.error;const w=await b.json(),_=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,O=(g=(h=b.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return O.length>0&&(O.forEach(C=>{const N=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(C.split(";")[1].split("=")[1]);p[`${S}Page`]=N}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},w),p),error:null}}catch(p){if(oe(p))return{data:{users:[]},error:p};throw p}}async getUserById(a){Ds(a);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${a}`,{headers:this.headers,xform:fa})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async updateUserById(a,r){Ds(a);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${a}`,{body:r,headers:this.headers,xform:fa})}catch(i){if(oe(i))return{data:{user:null},error:i};throw i}}async deleteUser(a,r=!1){Ds(a);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${a}`,{headers:this.headers,body:{should_soft_delete:r},xform:fa})}catch(i){if(oe(i))return{data:{user:null},error:i};throw i}}async _listFactors(a){Ds(a.userId);try{const{data:r,error:i}=await me(this.fetch,"GET",`${this.url}/admin/users/${a.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _deleteFactor(a){Ds(a.userId),Ds(a.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${a.userId}/factors/${a.id}`,{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _listOAuthClients(a){var r,i,o,c,f,h,g;try{const p={nextPage:null,lastPage:0,total:0},b=await me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=a==null?void 0:a.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(c=(o=a==null?void 0:a.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Hg});if(b.error)throw b.error;const w=await b.json(),_=(f=b.headers.get("x-total-count"))!==null&&f!==void 0?f:0,O=(g=(h=b.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return O.length>0&&(O.forEach(C=>{const N=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(C.split(";")[1].split("=")[1]);p[`${S}Page`]=N}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},w),p),error:null}}catch(p){if(oe(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(a){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:a,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _getOAuthClient(a){try{return await me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(a){try{return await me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${a}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(a){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${a}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}}function $g(l={}){return{getItem:a=>l[a]||null,setItem:(a,r)=>{l[a]=r},removeItem:a=>{delete l[a]}}}const Us={debug:!!(globalThis&&Pp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fp extends Error{constructor(a){super(a),this.isAcquireTimeout=!0}}class B_ extends Fp{}async function q_(l,a,r){Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,a);const i=new globalThis.AbortController;return a>0&&setTimeout(()=>{i.abort(),Us.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},a),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,a===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,o.name);try{return await r()}finally{Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,o.name)}}else{if(a===0)throw Us.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new B_(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(Us.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function H_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ev(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function $_(l){return parseInt(l,16)}function V_(l){const a=new TextEncoder().encode(l);return"0x"+Array.from(a,i=>i.toString(16).padStart(2,"0")).join("")}function G_(l){var a;const{chainId:r,domain:i,expirationTime:o,issuedAt:c=new Date,nonce:f,notBefore:h,requestId:g,resources:p,scheme:b,uri:w,version:_}=l;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((a=l.statement)===null||a===void 0)&&a.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const O=ev(l.address),C=b?`${b}://${i}`:i,N=l.statement?`${l.statement}
`:"",S=`${C} wants you to sign in with your Ethereum account:
${O}

${N}`;let B=`URI: ${w}
Version: ${_}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${c.toISOString()}`;if(o&&(B+=`
Expiration Time: ${o.toISOString()}`),h&&(B+=`
Not Before: ${h.toISOString()}`),g&&(B+=`
Request ID: ${g}`),p){let A=`
Resources:`;for(const R of p){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);A+=`
- ${R}`}B+=A}return`${S}
${B}`}class ot extends Error{constructor({message:a,code:r,cause:i,name:o}){var c;super(a,{cause:i}),this.__isWebAuthnError=!0,this.name=(c=o??(i instanceof Error?i.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=r}}class Cl extends ot{constructor(a,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:a}),this.name="WebAuthnUnknownError",this.originalError=r}}function Y_({error:l,options:a}){var r,i,o;const{publicKey:c}=a;if(!c)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new ot({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((r=c.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ot({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(a.mediation==="conditional"&&((i=c.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new ot({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ot({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new ot({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new ot({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return c.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new ot({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new ot({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const f=window.location.hostname;if(tv(f)){if(c.rp.id!==f)return new ot({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new ot({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function K_({error:l,options:a}){const{publicKey:r}=a;if(!r)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(a.signal instanceof AbortSignal)return new ot({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new ot({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const i=window.location.hostname;if(tv(i)){if(r.rpId!==i)return new ot({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new ot({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new ot({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new ot({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}class I_{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const a=new AbortController;return this.controller=a,a.signal}cancelCeremony(){if(this.controller){const a=new Error("Manually cancelling existing WebAuthn API call");a.name="AbortError",this.controller.abort(a),this.controller=void 0}}}const Q_=new I_;function J_(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:a,user:r,excludeCredentials:i}=l,o=Vs(l,["challenge","user","excludeCredentials"]),c=Bs(a).buffer,f=Object.assign(Object.assign({},r),{id:Bs(r.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:c,user:f});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let g=0;g<i.length;g++){const p=i[g];h.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:Bs(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function X_(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:a,allowCredentials:r}=l,i=Vs(l,["challenge","allowCredentials"]),o=Bs(a).buffer,c=Object.assign(Object.assign({},i),{challenge:o});if(r&&r.length>0){c.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const h=r[f];c.allowCredentials[f]=Object.assign(Object.assign({},h),{id:Bs(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function Z_(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const r=l;return{id:l.id,rawId:l.id,response:{attestationObject:$a(new Uint8Array(l.response.attestationObject)),clientDataJSON:$a(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function P_(l){var a;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const r=l,i=l.getClientExtensionResults(),o=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:$a(new Uint8Array(o.authenticatorData)),clientDataJSON:$a(new Uint8Array(o.clientDataJSON)),signature:$a(new Uint8Array(o.signature)),userHandle:o.userHandle?$a(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(a=r.authenticatorAttachment)!==null&&a!==void 0?a:void 0}}function tv(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function Vg(){var l,a;return!!(Ht()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator==null?void 0:navigator.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((a=navigator==null?void 0:navigator.credentials)===null||a===void 0?void 0:a.get)=="function")}async function W_(l){try{const a=await navigator.credentials.create(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Cl("Browser returned unexpected credential type",a)}:{data:null,error:new Cl("Empty credential response",a)}}catch(a){return{data:null,error:Y_({error:a,options:l})}}}async function F_(l){try{const a=await navigator.credentials.get(l);return a?a instanceof PublicKeyCredential?{data:a,error:null}:{data:null,error:new Cl("Browser returned unexpected credential type",a)}:{data:null,error:new Cl("Empty credential response",a)}}catch(a){return{data:null,error:K_({error:a,options:l})}}}const e1={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},t1={userVerification:"preferred",hints:["security-key"]};function Rl(...l){const a=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of l)if(o)for(const c in o){const f=o[c];if(f!==void 0)if(Array.isArray(f))i[c]=f;else if(r(f))i[c]=f;else if(a(f)){const h=i[c];a(h)?i[c]=Rl(h,f):i[c]=Rl(f)}else i[c]=f}return i}function n1(l,a){return Rl(e1,l,a||{})}function a1(l,a){return Rl(t1,l,a||{})}class s1{constructor(a){this.client=a,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(a){return this.client.mfa.enroll(Object.assign(Object.assign({},a),{factorType:"webauthn"}))}async _challenge({factorId:a,webauthn:r,friendlyName:i,signal:o},c){try{const{data:f,error:h}=await this.client.mfa.challenge({factorId:a,webauthn:r});if(!f)return{data:null,error:h};const g=o??Q_.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:p}=f.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${i}`),p.displayName||(p.displayName=p.name)}switch(f.webauthn.type){case"create":{const p=n1(f.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:b,error:w}=await W_({publicKey:p,signal:g});return b?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}case"request":{const p=a1(f.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:b,error:w}=await F_(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:p,signal:g}));return b?{data:{factorId:a,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:b}},error:null}:{data:null,error:w}}}}catch(f){return oe(f)?{data:null,error:f}:{data:null,error:new Ha("Unexpected error in challenge",f)}}}async _verify({challengeId:a,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:a,webauthn:i})}async _authenticate({factorId:a,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}},c){if(!r)return{data:null,error:new Xr("rpId is required for WebAuthn authentication")};try{if(!Vg())return{data:null,error:new Ha("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this.challenge({factorId:a,webauthn:{rpId:r,rpOrigins:i},signal:o},{request:c});if(!f)return{data:null,error:h};const{webauthn:g}=f;return this._verify({factorId:a,challengeId:f.challengeId,webauthn:{type:g.type,rpId:r,rpOrigins:i,credential_response:g.credential_response}})}catch(f){return oe(f)?{data:null,error:f}:{data:null,error:new Ha("Unexpected error in authenticate",f)}}}async _register({friendlyName:a,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o},c){if(!r)return{data:null,error:new Xr("rpId is required for WebAuthn registration")};try{if(!Vg())return{data:null,error:new Ha("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this._enroll({friendlyName:a});if(!f)return await this.client.mfa.listFactors().then(b=>{var w;return(w=b.data)===null||w===void 0?void 0:w.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===a&&_.status!=="unverified")}).then(b=>b?this.client.mfa.unenroll({factorId:b==null?void 0:b.id}):void 0),{data:null,error:h};const{data:g,error:p}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:o},{create:c});return g?this._verify({factorId:f.id,challengeId:g.challengeId,webauthn:{rpId:r,rpOrigins:i,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(f){return oe(f)?{data:null,error:f}:{data:null,error:new Ha("Unexpected error in register",f)}}}}H_();const r1={url:n_,storageKey:a_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:s_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Gg(l,a,r){return await r()}const zs={};class Zr{get jwks(){var a,r;return(r=(a=zs[this.storageKey])===null||a===void 0?void 0:a.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(a){zs[this.storageKey]=Object.assign(Object.assign({},zs[this.storageKey]),{jwks:a})}get jwks_cached_at(){var a,r;return(r=(a=zs[this.storageKey])===null||a===void 0?void 0:a.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(a){zs[this.storageKey]=Object.assign(Object.assign({},zs[this.storageKey]),{cachedAt:a})}constructor(a){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zr.nextInstanceID,Zr.nextInstanceID+=1,this.instanceID>0&&Ht()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},r1),a);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new L_({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Wp(o.fetch),this.lock=o.lock||Gg,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Ht()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=q_:this.lock=Gg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new s1(this)},this.persistSession?(o.storage?this.storage=o.storage:Pp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=$g(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=$g(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...a){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Jp}) ${new Date().toISOString()}`,...a),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var a;try{const r=y_(window.location.href);let i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),Ht()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:c}=await this._getSessionFromURL(r,i);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),c_(c)){const g=(a=c.details)===null||a===void 0?void 0:a.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:f,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",f,"redirect type",h),await this._saveSession(f),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return oe(r)?{error:r}:{error:new Ha("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(a){var r,i,o;try{const c=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=a==null?void 0:a.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=a==null?void 0:a.options)===null||o===void 0?void 0:o.captchaToken}},xform:rn}),{data:f,error:h}=c;if(h||!f)return{data:{user:null,session:null},error:h};const g=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(c){if(oe(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(a){var r,i,o;try{let c;if("email"in a){const{email:b,password:w,options:_}=a;let O=null,C=null;this.flowType==="pkce"&&([O,C]=await Rs(this.storage,this.storageKey)),c=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:b,password:w,data:(r=_==null?void 0:_.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:O,code_challenge_method:C},xform:rn})}else if("phone"in a){const{phone:b,password:w,options:_}=a;c=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:b,password:w,data:(i=_==null?void 0:_.data)!==null&&i!==void 0?i:{},channel:(o=_==null?void 0:_.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:rn})}else throw new El("You must provide either an email or phone number and a password");const{data:f,error:h}=c;if(h||!f)return{data:{user:null,session:null},error:h};const g=f.session,p=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(c){if(oe(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(a){try{let r;if("email"in a){const{email:c,password:f,options:h}=a;r=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:qg})}else if("phone"in a){const{phone:c,password:f,options:h}=a;r=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:qg})}else throw new El("You must provide either an email or phone number and a password");const{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Cs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(a){var r,i,o,c;return await this._handleProviderSignIn(a.provider,{redirectTo:(r=a.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=a.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=a.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=a.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(a){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(a))}async signInWithWeb3(a){const{chain:r}=a;switch(r){case"ethereum":return await this.signInWithEthereum(a);case"solana":return await this.signInWithSolana(a);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(a){var r,i,o,c,f,h,g,p,b,w,_;let O,C;if("message"in a)O=a.message,C=a.signature;else{const{chain:N,wallet:S,statement:B,options:A}=a;let R;if(Ht())if(typeof S=="object")R=S;else{const I=window;if("ethereum"in I&&typeof I.ethereum=="object"&&"request"in I.ethereum&&typeof I.ethereum.request=="function")R=I.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=S}const K=new URL((r=A==null?void 0:A.url)!==null&&r!==void 0?r:window.location.href),te=await R.request({method:"eth_requestAccounts"}).then(I=>I).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!te||te.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Q=ev(te[0]);let q=(i=A==null?void 0:A.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!q){const I=await R.request({method:"eth_chainId"});q=$_(I)}const J={domain:K.host,address:Q,statement:B,uri:K.href,version:"1",chainId:q,nonce:(o=A==null?void 0:A.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(f=(c=A==null?void 0:A.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(h=A==null?void 0:A.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(g=A==null?void 0:A.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=A==null?void 0:A.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(b=A==null?void 0:A.signInWithEthereum)===null||b===void 0?void 0:b.resources};O=G_(J),C=await R.request({method:"personal_sign",params:[V_(O),Q]})}try{const{data:N,error:S}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:O,signature:C},!((w=a.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=a.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:rn});if(S)throw S;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Cs}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:S})}catch(N){if(oe(N))return{data:{user:null,session:null},error:N};throw N}}async signInWithSolana(a){var r,i,o,c,f,h,g,p,b,w,_,O;let C,N;if("message"in a)C=a.message,N=a.signature;else{const{chain:S,wallet:B,statement:A,options:R}=a;let K;if(Ht())if(typeof B=="object")K=B;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))K=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=B}const te=new URL((r=R==null?void 0:R.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in K&&K.signIn){const Q=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),A?{statement:A}:null));let q;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")q=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)q=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)C=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),N=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${te.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(o=(i=R==null?void 0:R.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=R==null?void 0:R.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((f=R==null?void 0:R.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((h=R==null?void 0:R.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((g=R==null?void 0:R.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((p=R==null?void 0:R.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((w=(b=R==null?void 0:R.signInWithSolana)===null||b===void 0?void 0:b.resources)===null||w===void 0)&&w.length?["Resources",...R.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const Q=await K.signMessage(new TextEncoder().encode(C),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=Q}}try{const{data:S,error:B}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:$a(N)},!((_=a.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(O=a.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:rn});if(B)throw B;return!S||!S.session||!S.user?{data:{user:null,session:null},error:new Cs}:(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),{data:Object.assign({},S),error:B})}catch(S){if(oe(S))return{data:{user:null,session:null},error:S};throw S}}async _exchangeCodeForSession(a){const r=await La(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{const{data:c,error:f}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:a,code_verifier:i},xform:rn});if(await ua(this.storage,`${this.storageKey}-code-verifier`),f)throw f;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new Cs}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:f})}catch(c){if(oe(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(a){try{const{options:r,provider:i,token:o,access_token:c,nonce:f}=a,h=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:rn}),{data:g,error:p}=h;return p?{data:{user:null,session:null},error:p}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Cs}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:p})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(a){var r,i,o,c,f;try{if("email"in a){const{email:h,options:g}=a;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await Rs(this.storage,this.storageKey));const{error:w}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},create_user:(i=g==null?void 0:g.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:b},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in a){const{phone:h,options:g}=a,{data:p,error:b}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=g==null?void 0:g.data)!==null&&o!==void 0?o:{},create_user:(c=g==null?void 0:g.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(f=g==null?void 0:g.channel)!==null&&f!==void 0?f:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:b}}throw new El("You must provide either an email or phone number.")}catch(h){if(oe(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(a){var r,i;try{let o,c;"options"in a&&(o=(r=a.options)===null||r===void 0?void 0:r.redirectTo,c=(i=a.options)===null||i===void 0?void 0:i.captchaToken);const{data:f,error:h}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},a),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:rn});if(h)throw h;if(!f)throw new Error("An error occurred on token verification.");const g=f.session,p=f.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(a.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(o){if(oe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(a){var r,i,o;try{let c=null,f=null;return this.flowType==="pkce"&&([c,f]=await Rs(this.storage,this.storageKey)),await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in a?{provider_id:a.providerId}:null),"domain"in a?{domain:a.domain}:null),{redirect_to:(i=(r=a.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=a==null?void 0:a.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:a.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:f}),headers:this.headers,xform:U_})}catch(c){if(oe(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async a=>{const{data:{session:r},error:i}=a;if(i)throw i;if(!r)throw new ca;const{error:o}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}})}catch(a){if(oe(a))return{data:{user:null,session:null},error:a};throw a}}async resend(a){try{const r=`${this.url}/resend`;if("email"in a){const{email:i,type:o,options:c}=a,{error:f}=await me(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}else if("phone"in a){const{phone:i,type:o,options:c}=a,{data:f,error:h}=await me(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:h}}throw new El("You must provide either an email or phone number and a type")}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(a,r){this._debug("#_acquireLock","begin",a);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,a,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(a){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await a(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let a=null;const r=await La(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?a=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!a)return{data:{session:null},error:null};const i=a.expires_at?a.expires_at*1e3-Date.now()<hc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",a.expires_at),!i){if(this.userStorage){const f=await La(this.userStorage,this.storageKey+"-user");f!=null&&f.user?a.user=f.user:a.user=pc()}if(this.storage.isServer&&a.user){let f=this.suppressGetSessionWarning;a=new Proxy(a,{get:(g,p,b)=>(!f&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),f=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,p,b))})}return{data:{session:a},error:null}}const{data:o,error:c}=await this._callRefreshToken(a.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(a){return a?await this._getUser(a):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(a){try{return a?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:a,xform:fa}):await this._useSession(async r=>{var i,o,c;const{data:f,error:h}=r;if(h)throw h;return!(!((i=f.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ca}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:fa})})}catch(r){if(oe(r))return u_(r)&&(await this._removeSession(),await ua(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(a,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(a,r))}async _updateUser(a,r={}){try{return await this._useSession(async i=>{const{data:o,error:c}=i;if(c)throw c;if(!o.session)throw new ca;const f=o.session;let h=null,g=null;this.flowType==="pkce"&&a.email!=null&&([h,g]=await Rs(this.storage,this.storageKey));const{data:p,error:b}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},a),{code_challenge:h,code_challenge_method:g}),jwt:f.access_token,xform:fa});if(b)throw b;return f.user=p.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),{data:{user:f.user},error:null}})}catch(i){if(oe(i))return{data:{user:null},error:i};throw i}}async setSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(a))}async _setSession(a){try{if(!a.access_token||!a.refresh_token)throw new ca;const r=Date.now()/1e3;let i=r,o=!0,c=null;const{payload:f}=gc(a.access_token);if(f.exp&&(i=f.exp,o=i<=r),o){const{data:h,error:g}=await this._callRefreshToken(a.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:g}=await this._getUser(a.access_token);if(g)throw g;c={access_token:a.access_token,refresh_token:a.refresh_token,user:h.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(r){if(oe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(a){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(a))}async _refreshSession(a){try{return await this._useSession(async r=>{var i;if(!a){const{data:f,error:h}=r;if(h)throw h;a=(i=f.session)!==null&&i!==void 0?i:void 0}if(!(a!=null&&a.refresh_token))throw new ca;const{data:o,error:c}=await this._callRefreshToken(a.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(a,r){try{if(!Ht())throw new jl("No browser detected.");if(a.error||a.error_description||a.error_code)throw new jl(a.error_description||"Error in URL with unspecified error_description",{error:a.error||"unspecified_error",code:a.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Rg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!a.code)throw new Rg("No code detected.");const{data:A,error:R}=await this._exchangeCodeForSession(a.code);if(R)throw R;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:c,refresh_token:f,expires_in:h,expires_at:g,token_type:p}=a;if(!c||!h||!f||!p)throw new jl("No session defined in URL");const b=Math.round(Date.now()/1e3),w=parseInt(h);let _=b+w;g&&(_=parseInt(g));const O=_-b;O*1e3<=Ms&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${O}s, should have been closer to ${w}s`);const C=_-w;b-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,_,b):b-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,_,b);const{data:N,error:S}=await this._getUser(c);if(S)throw S;const B={provider_token:i,provider_refresh_token:o,access_token:c,expires_in:w,expires_at:_,refresh_token:f,token_type:p,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:B,redirectType:a.type},error:null}}catch(i){if(oe(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(a){return!!(a.access_token||a.error_description)}async _isPKCECallback(a){const r=await La(this.storage,`${this.storageKey}-code-verifier`);return!!(a.code&&r)}async signOut(a={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(a))}async _signOut({scope:a}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:o,error:c}=r;if(c)return{error:c};const f=(i=o.session)===null||i===void 0?void 0:i.access_token;if(f){const{error:h}=await this.admin.signOut(f,a);if(h&&!(o_(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return a!=="others"&&(await this._removeSession(),await ua(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(a){const r=v_(),i={id:r,callback:a,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(a){return await this._useSession(async r=>{var i,o;try{const{data:{session:c},error:f}=r;if(f)throw f;await((i=this.stateChangeEmitters.get(a))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",a,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(a))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",a,"error",c),console.error(c)}})}async resetPasswordForEmail(a,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Rs(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:a,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(oe(c))return{data:null,error:c};throw c}}async getUserIdentities(){var a;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(a=r.user.identities)!==null&&a!==void 0?a:[]},error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async linkIdentity(a){return"token"in a?this.linkIdentityIdToken(a):this.linkIdentityOAuth(a)}async linkIdentityOAuth(a){var r;try{const{data:i,error:o}=await this._useSession(async c=>{var f,h,g,p,b;const{data:w,error:_}=c;if(_)throw _;const O=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,a.provider,{redirectTo:(f=a.options)===null||f===void 0?void 0:f.redirectTo,scopes:(h=a.options)===null||h===void 0?void 0:h.scopes,queryParams:(g=a.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",O,{headers:this.headers,jwt:(b=(p=w.session)===null||p===void 0?void 0:p.access_token)!==null&&b!==void 0?b:void 0})});if(o)throw o;return Ht()&&!(!((r=a.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:a.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(oe(i))return{data:{provider:a.provider,url:null},error:i};throw i}}async linkIdentityIdToken(a){return await this._useSession(async r=>{var i;try{const{error:o,data:{session:c}}=r;if(o)throw o;const{options:f,provider:h,token:g,access_token:p,nonce:b}=a,w=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=c==null?void 0:c.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:g,access_token:p,nonce:b,link_identity:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:rn}),{data:_,error:O}=w;return O?{data:{user:null,session:null},error:O}:!_||!_.session||!_.user?{data:{user:null,session:null},error:new Cs}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),{data:_,error:O})}catch(o){if(oe(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(a){try{return await this._useSession(async r=>{var i,o;const{data:c,error:f}=r;if(f)throw f;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${a.identity_id}`,{headers:this.headers,jwt:(o=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(a){const r=`#_refreshAccessToken(${a.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await __(async o=>(o>0&&await w_(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:a},headers:this.headers,xform:rn})),(o,c)=>{const f=200*Math.pow(2,o);return c&&mc(c)&&Date.now()+f-i<Ms})}catch(i){if(this._debug(r,"error",i),oe(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(a){return typeof a=="object"&&a!==null&&"access_token"in a&&"refresh_token"in a&&"expires_at"in a}async _handleProviderSignIn(a,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,a,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",a,"options",r,"url",i),Ht()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:a,url:i},error:null}}async _recoverAndRefresh(){var a,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await La(this.storage,this.storageKey);if(o&&this.userStorage){let f=await La(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:o.user},await Ls(this.userStorage,this.storageKey+"-user",f)),o.user=(a=f==null?void 0:f.user)!==null&&a!==void 0?a:pc()}else if(o&&!o.user&&!o.user){const f=await La(this.storage,this.storageKey+"-user");f&&(f!=null&&f.user)?(o.user=f.user,await ua(this.storage,this.storageKey+"-user"),await Ls(this.storage,this.storageKey,o)):o.user=pc()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const c=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<hc;if(this._debug(i,`session has${c?"":" not"} expired with margin of ${hc}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:f}=await this._callRefreshToken(o.refresh_token);f&&(console.error(f),mc(f)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:h}=await this._getUser(o.access_token);!h&&(f!=null&&f.user)?(o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(i,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(a){var r,i;if(!a)throw new ca;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${a.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ml;const{data:c,error:f}=await this._refreshAccessToken(a);if(f)throw f;if(!c.session)throw new ca;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={data:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(o,"error",c),oe(c)){const f={data:null,error:c};return mc(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(a,r,i=!0){const o=`#_notifyAllSubscribers(${a})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:a,session:r});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(a,r)}catch(g){c.push(g)}});if(await Promise.all(f),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(a){this._debug("#_saveSession()",a),this.suppressGetSessionWarning=!0;const r=Object.assign({},a),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Ls(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const c=Lg(o);await Ls(this.storage,this.storageKey,c)}else{const o=Lg(r);await Ls(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await ua(this.storage,this.storageKey),await ua(this.storage,this.storageKey+"-code-verifier"),await ua(this.storage,this.storageKey+"-user"),this.userStorage&&await ua(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const a=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{a&&Ht()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",a)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const a=setInterval(()=>this._autoRefreshTokenTick(),Ms);this.autoRefreshTicker=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const a=this.autoRefreshTicker;this.autoRefreshTicker=null,a&&clearInterval(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const a=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-a)/Ms);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Ms}ms, refresh threshold is ${Uc} ticks`),o<=Uc&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(a){if(a.isAcquireTimeout||a instanceof Fp)this._debug("auto refresh token tick lock not available");else throw a}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(a){console.error("_handleVisibilityChange",a)}}async _onVisibilityChanged(a){const r=`#_onVisibilityChanged(${a})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),a||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(a,r,i){const o=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[c,f]=await Rs(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});o.push(h.toString())}if(i!=null&&i.queryParams){const c=new URLSearchParams(i.queryParams);o.push(c.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${a}?${o.join("&")}`}async _unenroll(a){try{return await this._useSession(async r=>{var i;const{data:o,error:c}=r;return c?{data:null,error:c}:await me(this.fetch,"DELETE",`${this.url}/factors/${a.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _enroll(a){try{return await this._useSession(async r=>{var i,o;const{data:c,error:f}=r;if(f)return{data:null,error:f};const h=Object.assign({friendly_name:a.friendlyName,factor_type:a.factorType},a.factorType==="phone"?{phone:a.phone}:a.factorType==="totp"?{issuer:a.issuer}:{}),{data:g,error:p}=await me(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(a.factorType==="totp"&&g.type==="totp"&&(!((o=g==null?void 0:g.totp)===null||o===void 0)&&o.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _verify(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:c}=r;if(c)return{data:null,error:c};const f=Object.assign({challenge_id:a.challengeId},"webauthn"in a?{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_response:a.webauthn.type==="create"?Z_(a.webauthn.credential_response):P_(a.webauthn.credential_response)})}:{code:a.code}),{data:h,error:g}=await me(this.fetch,"POST",`${this.url}/factors/${a.factorId}/verify`,{body:f,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:g})})}catch(r){if(oe(r))return{data:null,error:r};throw r}})}async _challenge(a){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:c}=r;if(c)return{data:null,error:c};const f=await me(this.fetch,"POST",`${this.url}/factors/${a.factorId}/challenge`,{body:a,headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});if(f.error)return f;const{data:h}=f;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:J_(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:X_(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(oe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(a){const{data:r,error:i}=await this._challenge({factorId:a.factorId});return i?{data:null,error:i}:await this._verify({factorId:a.factorId,challengeId:r.id,code:a.code})}async _listFactors(){var a;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(a=r==null?void 0:r.factors)!==null&&a!==void 0?a:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async a=>{var r,i;const{data:{session:o},error:c}=a;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=gc(o.access_token);let h=null;f.aal&&(h=f.aal);let g=h;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(w=>w.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(g="aal2");const b=f.amr||[];return{data:{currentLevel:h,nextLevel:g,currentAuthenticationMethods:b},error:null}}))}async fetchJwk(a,r={keys:[]}){let i=r.keys.find(h=>h.kid===a);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(h=>h.kid===a),i&&this.jwks_cached_at+i_>o)return i;const{data:c,error:f}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,i=c.keys.find(h=>h.kid===a),!i)?null:i}async getClaims(a,r={}){try{let i=a;if(!i){const{data:O,error:C}=await this.getSession();if(C||!O.session)return{data:null,error:C};i=O.session.access_token}const{header:o,payload:c,signature:f,raw:{header:h,payload:g}}=gc(i);r!=null&&r.allowExpired||A_(c.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!p){const{error:O}=await this.getUser(i);if(O)throw O;return{data:{claims:c,header:o,signature:f},error:null}}const b=N_(o.alg),w=await crypto.subtle.importKey("jwk",p,b,!0,["verify"]);if(!await crypto.subtle.verify(b,w,f,g_(`${h}.${g}`)))throw new Lc("Invalid JWT signature");return{data:{claims:c,header:o,signature:f},error:null}}catch(i){if(oe(i))return{data:null,error:i};throw i}}}Zr.nextInstanceID=0;const i1=Zr;class l1 extends i1{constructor(a){super(a)}}class o1{constructor(a,r,i){var o,c,f;this.supabaseUrl=a,this.supabaseKey=r;const h=t_(a);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const g=`sb-${h.hostname.split(".")[0]}-auth-token`,p={db:Qw,realtime:Xw,auth:Object.assign(Object.assign({},Jw),{storageKey:g}),global:Iw},b=e_(i??{},p);this.storageKey=(o=b.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=b.global.headers)!==null&&c!==void 0?c:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(w,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((f=b.auth)!==null&&f!==void 0?f:{},this.headers,b.global.fetch),this.fetch=Ww(r,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new nw(new URL("rest/v1",h).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),this.storage=new Gw(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),b.accessToken||this._listenForAuthEvents()}get functions(){return new Ib(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(a){return this.rest.from(a)}schema(a){return this.rest.schema(a)}rpc(a,r={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(a,r,i)}channel(a,r={config:{}}){return this.realtime.channel(a,r)}getChannels(){return this.realtime.getChannels()}removeChannel(a){return this.realtime.removeChannel(a)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var a,r;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(r=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:a,persistSession:r,detectSessionInUrl:i,storage:o,userStorage:c,storageKey:f,flowType:h,lock:g,debug:p},b,w){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new l1({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),b),storageKey:f,autoRefreshToken:a,persistSession:r,detectSessionInUrl:i,storage:o,userStorage:c,flowType:h,lock:g,debug:p,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(a){return new bw(this.realtimeUrl.href,Object.assign(Object.assign({},a),{params:Object.assign({apikey:this.supabaseKey},a==null?void 0:a.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(a,r,i){(a==="TOKEN_REFRESHED"||a==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):a==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const u1=(l,a,r)=>new o1(l,a,r);function c1(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const a=l.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}c1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const d1="https://sxkgemidgdggpvtkjqev.supabase.co",f1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN4a2dlbWlkZ2RnZ3B2dGtqcWV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjEyMDI4MzEsImV4cCI6MjA3Njc3ODgzMX0.vjWI2vgqhTkSNMhHu2JFezGLvMjF_4f-tNw5eGPexsg",se=u1(d1,f1,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storageKey:"sb-auth-whizkidanime"}}),nv=j.createContext(void 0),h1=({children:l})=>{const[a,r]=j.useState(null),[i,o]=j.useState(null),[c,f]=j.useState(!0);j.useEffect(()=>{(async()=>{try{const{data:{session:w}}=await se.auth.getSession();r(w),o((w==null?void 0:w.user)??null)}catch(w){console.error("Error getting session:",w)}finally{f(!1)}})();const{data:{subscription:b}}=se.auth.onAuthStateChange((w,_)=>{r(_),o((_==null?void 0:_.user)??null)});return()=>{b==null||b.unsubscribe()}},[]);const g={session:a,user:i,loading:c,signOut:async()=>{await se.auth.signOut()}};return v.jsx(nv.Provider,{value:g,children:!c&&l})},Bn=()=>{const l=j.useContext(nv);if(l===void 0)throw new Error("useAuth must be used within an AuthProvider");return l},yc=new Map;function Ll({key:l,initialState:a,ttl:r=600*1e3}){const i=j.useRef(!1),[o,c]=j.useState(()=>{const h=yc.get(l);if(h){if(Date.now()-h.timestamp<r)return h.data;yc.delete(l)}return a}),f=j.useCallback(()=>{yc.set(l,{data:o,timestamp:Date.now()})},[l,o]);return j.useEffect(()=>(i.current=!0,()=>{i.current=!1,f()}),[f]),[o,c,f]}const av="tab_navigation_paths",m1=1800*1e3,da={calendar:"/calendar",search:"/exercise-history",templates:"/templates",profile:"/profile",lastUpdated:Date.now()},sv=()=>{try{const l=localStorage.getItem(av);if(!l)return da;const a=JSON.parse(l);return typeof a.lastUpdated!="number"||Date.now()-a.lastUpdated>m1?da:{calendar:a.calendar??da.calendar,search:a.search??da.search,templates:a.templates??da.templates,profile:a.profile??da.profile,lastUpdated:a.lastUpdated??Date.now()}}catch{return da}},g1=(l,a)=>{try{const i={...sv(),[l]:a,lastUpdated:Date.now()};localStorage.setItem(av,JSON.stringify(i))}catch{}},Yg=l=>l.startsWith("/calendar")||l.startsWith("/workout")?"calendar":l.startsWith("/exercise-history")?"search":l.startsWith("/templates")?"templates":l.startsWith("/profile")?"profile":null,p1=()=>{const l=un(),a=en();return j.useEffect(()=>{const i=Yg(l.pathname);i&&g1(i,l.pathname)},[l.pathname]),{navigateToTab:i=>{const o=sv(),c=da[i],f=o[i]||c;Yg(l.pathname)!==i&&a(f)}}},v1=()=>{const l=un(),{navigateToTab:a}=p1(),r=j.useRef(null),i=[{key:"calendar",label:"",icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{key:"search",label:"",icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})},{key:"templates",label:"",icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})})},{key:"profile",label:"",icon:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}],o=j.useMemo(()=>{const h=l.pathname;return h.startsWith("/calendar")||h.startsWith("/workout")?0:h.startsWith("/exercise-history")?1:h.startsWith("/templates")?2:h.startsWith("/profile")?3:0},[l.pathname]),c=h=>{if(h.key!=="ArrowLeft"&&h.key!=="ArrowRight")return;h.preventDefault();const g=h.key==="ArrowRight"?1:-1,p=(o+g+i.length)%i.length;a(i[p].key)},f={"--tabs-count":i.length,"--active-index":o};return j.useLayoutEffect(()=>{const h=r.current;if(!h)return;const g=()=>{const b=h.offsetHeight;document.documentElement.style.setProperty("--dock-total-h",`${b}px`)};g();const p=new ResizeObserver(g);return p.observe(h),window.addEventListener("resize",g),window.addEventListener("orientationchange",g),()=>{p.disconnect(),window.removeEventListener("resize",g),window.removeEventListener("orientationchange",g)}},[]),v.jsx("nav",{ref:r,className:"bottom-dock-wrapper","aria-label":" ",children:v.jsx("div",{className:"bottom-dock glass-dock",role:"tablist","aria-orientation":"horizontal",onKeyDown:c,style:f,children:v.jsxs("div",{className:"dock-track",children:[v.jsx("div",{className:"dock-indicator","aria-hidden":"true"}),i.map((h,g)=>v.jsxs("button",{onClick:()=>a(h.key),className:`dock-item ${o===g?"active":""}`,role:"tab","aria-selected":o===g,children:[v.jsx("span",{className:"icon","aria-hidden":"true",children:h.icon}),v.jsx("span",{className:"label",children:h.label})]},h.key))]})})})},y1=()=>v.jsxs("div",{className:"flex flex-col h-[100svh]",children:[v.jsx("main",{className:"flex-1",style:{paddingBottom:"var(--dock-total-h, 96px)"},children:v.jsx(Eb,{})}),v.jsx(v1,{})]}),b1=({children:l})=>{const{session:a,loading:r}=Bn(),i=un();return r?v.jsx("div",{className:"flex items-center justify-center h-screen bg-background text-foreground",children:v.jsx("p",{children:"..."})}):a?l??null:v.jsx(op,{to:"/login",state:{from:i},replace:!0})},w1=()=>{const{session:l}=Bn(),a=en(),[r,i]=j.useState(!1),[o,c]=j.useState(""),[f,h]=j.useState(""),[g,p]=j.useState(!1),[b,w]=j.useState(""),[_,O]=j.useState("");j.useEffect(()=>{l&&a("/calendar",{replace:!0})},[l,a]);const C=async S=>{S.preventDefault(),p(!0),w(""),O("");const B=o.includes("@")?o:`${o}@gymlog.app`;try{if(r){const{error:A}=await se.auth.signUp({email:B,password:f});if(A)throw A;w(" !    ."),i(!1)}else{const{error:A}=await se.auth.signInWithPassword({email:B,password:f});if(A)throw A}}catch(A){O(A.message||" ")}finally{p(!1)}},N=async()=>{p(!0),O("");const S=`${window.location.origin}/GymLog/`,{error:B}=await se.auth.signInWithOAuth({provider:"google",options:{redirectTo:S}});B&&(O(B.message),p(!1))};return v.jsx("div",{className:"flex items-center justify-center min-h-screen px-4",style:{background:"#0a0a0b"},children:v.jsxs("div",{className:"w-full max-w-sm p-8 space-y-4 glass card-dark rounded-lg shadow-md",children:[v.jsx("h1",{className:"text-2xl font-bold text-center",style:{color:"#e4e4e7"},children:"GymLog"}),v.jsx("p",{className:"text-center",style:{color:"#a1a1aa"},children:r?" ":"   "}),v.jsxs("form",{onSubmit:C,className:"space-y-4",autoComplete:"off",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"nickname",className:"sr-only",children:""}),v.jsx("input",{id:"nickname",type:"text",placeholder:r?" ":" ",value:o,onChange:S=>c(S.target.value),required:!0,name:"nickname",autoComplete:"off",className:"w-full px-4 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",style:{backgroundColor:"#18181b",color:"#0a0a0a",border:"1px solid #3f3f46"}})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"sr-only",children:""}),v.jsx("input",{id:"password",type:"password",placeholder:"",value:f,onChange:S=>h(S.target.value),required:!0,minLength:6,name:r?"new-password":"current-password",autoComplete:r?"new-password":"off",className:"w-full px-4 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",style:{backgroundColor:"#18181b",color:"#0a0a0a",border:"1px solid #3f3f46"}})]}),v.jsx("button",{type:"submit",disabled:g,className:"w-full px-4 py-2 font-semibold text-white bg-blue-600 rounded-md hover:bg-blue-700 disabled:opacity-50 transition-colors",children:g?"...":r?"":""})]}),b&&v.jsx("p",{className:"text-center text-sm text-green-600",children:b}),_&&v.jsx("p",{className:"text-center text-sm text-red-500",children:_}),v.jsxs("p",{className:"text-sm text-center text-gray-600",children:[r?"  ?":" ?",v.jsx("button",{type:"button",onClick:()=>{i(!r),w(""),O("")},className:"ml-1 font-semibold text-blue-600 hover:underline",children:r?"":""})]}),v.jsxs("div",{className:"relative flex items-center py-2",children:[v.jsx("div",{className:"flex-grow border-t border-gray-300"}),v.jsx("span",{className:"flex-shrink mx-4 text-xs text-gray-500",children:""}),v.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),v.jsxs("button",{onClick:N,disabled:g,className:"w-full flex items-center justify-center px-4 py-2 font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 transition-colors",children:[v.jsx("svg",{className:"w-5 h-5 mr-2","aria-hidden":"true",focusable:"false","data-prefix":"fab","data-icon":"google",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 488 512",children:v.jsx("path",{fill:"currentColor",d:"M488 261.8C488 403.3 381.5 512 244 512 110.3 512 0 398.8 0 256S110.3 0 244 0c73 0 135.5 28.2 182.3 74.3l-64.3 62.1C337 113.4 294.3 96 244 96c-85.6 0-154.5 68.9-154.5 160s68.9 160 154.5 160c97.9 0 135-71.2 138.6-106.2H244v-75.3h236.1c2.4 12.6 3.9 26.2 3.9 41z"})}),"  Google"]})]})})},_1=l=>new Date(l.getFullYear(),l.getMonth()+1,0).getDate(),x1=l=>{const a=new Date(l.getFullYear(),l.getMonth(),1).getDay();return a===0?6:a-1},Vr=l=>{const a=l.getFullYear(),r=(l.getMonth()+1).toString().padStart(2,"0"),i=l.getDate().toString().padStart(2,"0");return`${a}-${r}-${i}`},S1=l=>l.toLocaleString("ru-RU",{month:"long",year:"numeric"}),Tl=l=>{if(!l||!/^\d{4}-\d{2}-\d{2}$/.test(l))return l;const[a,r,i]=l.split("-");return`${i}.${r}.${a}`},Hr=new Map,Kg=3e4,E1=()=>{var te,Q;const{user:l}=Bn(),a=en(),r=un(),[i,o]=Ll({key:"calendar-page",initialState:{currentDate:new Date,workouts:[],loading:!0,hasInitialData:!1},ttl:1800*1e3}),{currentDate:c,workouts:f,loading:h,hasInitialData:g}=i,p=q=>{o(J=>({...J,currentDate:q}))},b=q=>{o(J=>({...J,workouts:q}))},w=q=>{o(J=>({...J,loading:q}))},_=q=>{o(J=>({...J,hasInitialData:q}))},O=j.useCallback(async(q=!1,J=!1)=>{if(!l)return;const I=`${l.id}:${c.getFullYear()}-${c.getMonth()}`,X=Date.now();let ve=J;if(Hr.has(I)){const L=Hr.get(I),P=X-L.timestamp;if(q&&P<Kg){g||(b(L.workouts),w(!1),_(!0));return}P>=Kg&&(g||(b(L.workouts),_(!0)),ve=!0)}ve||w(!0);const Se=new Date(c.getFullYear(),c.getMonth(),1),Ne=new Date(c.getFullYear(),c.getMonth()+1,0),{data:Ee,error:Qe}=await se.from("workouts").select("id, workout_date").eq("user_id",l.id).gte("workout_date",Vr(Se)).lte("workout_date",Vr(Ne));if(Qe)console.error("Error fetching workouts:",Qe);else{const L=Ee||[];b(L),Hr.set(I,{workouts:L,timestamp:X})}w(!1),_(!0)},[l,c,g]);j.useEffect(()=>{g||O()},[c.getFullYear(),c.getMonth(),l]),j.useEffect(()=>{var I;if(!l||!((I=r.state)==null?void 0:I.removedDate))return;const J=`${l.id}:${c.getFullYear()}-${c.getMonth()}`;Hr.delete(J),O(!1,!1)},[(te=r.state)==null?void 0:te.removedDate,l,c,O]),j.useEffect(()=>{var I;if(!l||!((I=r.state)==null?void 0:I.refreshDate))return;const J=`${l.id}:${c.getFullYear()}-${c.getMonth()}`;Hr.delete(J),O(!1,!1)},[(Q=r.state)==null?void 0:Q.refreshDate,l,c,O]),j.useEffect(()=>{const q=()=>{document.visibilityState==="visible"&&O(!0)};return document.addEventListener("visibilitychange",q),()=>document.removeEventListener("visibilitychange",q)},[O]);const C=_1(c),N=x1(c),S=["","","","","","",""],B=new Date,A=q=>{const J=new Date(c.getFullYear(),c.getMonth(),q);a(`/workout/${Vr(J)}`)},R=q=>{const J=new Date(c.getFullYear(),c.getMonth()+q,1);p(J),_(!1)},K=new Set(f.map(q=>q.workout_date));return v.jsx("div",{className:"px-4 pt-4 pb-4 w-full max-w-5xl mx-auto flex flex-col items-center",children:h&&!g?v.jsx("div",{className:"fixed inset-0 flex items-center justify-center",style:{background:"transparent"},children:v.jsxs("div",{className:"flex flex-col items-center gap-4",children:[v.jsx("div",{className:"relative w-12 h-12",children:v.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-blue-500 border-r-blue-500 rounded-full animate-spin"})}),v.jsx("p",{className:"text-white text-center",children:" ..."})]})}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex justify-between items-center mb-6 glass p-2 rounded-xl w-full max-w-xl",children:[v.jsx("button",{onClick:()=>R(-1),className:"p-2 rounded-full border border-transparent text-white hover:border-white active:border-white transition-colors",children:"<"}),v.jsx("h1",{className:"text-xl font-bold text-center capitalize",children:S1(c)}),v.jsx("button",{onClick:()=>R(1),className:"p-2 rounded-full border border-transparent text-white hover:border-white active:border-white transition-colors",children:">"})]}),v.jsx("div",{className:"grid grid-cols-7 gap-3 text-center text-sm text-gray-500 mb-3 w-full max-w-xl",children:S.map(q=>v.jsx("div",{children:q},q))}),v.jsxs("div",{className:"grid grid-cols-7 gap-2 w-full max-w-xl",children:[Array.from({length:N}).map((q,J)=>v.jsx("div",{},`empty-${J}`)),Array.from({length:C},(q,J)=>J+1).map(q=>{const J=q===B.getDate()&&c.getMonth()===B.getMonth()&&c.getFullYear()===B.getFullYear(),I=Vr(new Date(c.getFullYear(),c.getMonth(),q)),X=K.has(I);return v.jsxs("div",{onClick:()=>A(q),className:"relative flex items-center justify-center h-10 w-10 sm:h-11 sm:w-11 md:h-12 md:w-12 lg:h-14 lg:w-14 rounded-full cursor-pointer mx-auto overflow-visible",children:[v.jsx("span",{className:`flex items-center justify-center h-8 w-8 sm:h-9 sm:w-9 md:h-10 md:w-10 lg:h-12 lg:w-12 rounded-full border ${J?"bg-blue-600 text-white border-transparent":"text-gray-100 border-transparent hover:border-white active:border-white"} transition-colors`,children:q}),X&&v.jsx("div",{className:"pointer-events-none absolute bottom-0 translate-y-1/2 h-1.5 w-1.5 bg-blue-500 rounded-full"})]},q)})]})]})})};function Pr(l,a){const[r,i]=j.useState(l);return j.useEffect(()=>{const o=setTimeout(()=>{i(l)},a);return()=>{clearTimeout(o)}},[l,a]),r}const j1=({set:l,onChange:a})=>{const r=`workout_set_draft:${l.id}`,[i,o]=j.useState(l.weight??""),[c,f]=j.useState(l.reps??""),[h,g]=j.useState(l.is_done),[p,b]=j.useState(!1),w=Pr(i,500),_=Pr(c,500);j.useEffect(()=>{try{const S=localStorage.getItem(r);if(!S)return;const B=JSON.parse(S),A=new Date(l.updated_at).getTime();B.updatedAt>A&&(o(B.weight===null?"":B.weight),f(B.reps??""),g(B.isDone))}catch{}},[]),j.useEffect(()=>{g(l.is_done)},[l.is_done]),j.useEffect(()=>{(async()=>{if(w!==(l.weight??"")||_!==(l.reps??"")){const B={weight:w===""?"":Number(w),reps:_===""?null:_,isDone:h,updatedAt:Date.now()};try{localStorage.setItem(r,JSON.stringify(B))}catch{}b(!0);const{error:A}=await se.from("workout_sets").update({weight:w===""?null:Number(w),reps:_===""?null:_,updated_at:new Date().toISOString()}).eq("id",l.id);if(A)console.error("Error saving set:",A);else{try{localStorage.removeItem(r)}catch{}a==null||a({...l,weight:w===""?null:Number(w),reps:_===""?null:_,is_done:h,updated_at:new Date().toISOString()})}setTimeout(()=>b(!1),500)}})()},[w,_,l.id,l.weight,l.reps,h,r]),j.useEffect(()=>{const A=w!==""&&(_!==""&&_!==null);A&&!h?g(!0):!A&&h&&g(!1)},[w,_,h]);const O=async()=>{const S=!h;g(S),b(!0);try{localStorage.setItem(r,JSON.stringify({weight:i===""?"":Number(i),reps:c===""?null:c,isDone:S,updatedAt:Date.now()}))}catch{}const{error:B}=await se.from("workout_sets").update({is_done:S,updated_at:new Date().toISOString()}).eq("id",l.id);B&&(console.error("Error updating done status:",B),g(!S));try{localStorage.removeItem(r)}catch{}setTimeout(()=>b(!1),500),a==null||a({...l,is_done:S,updated_at:new Date().toISOString()})},C=h?"bg-green-500":"bg-transparent",N=h?"text-black":"text-inherit";return v.jsxs("div",{className:`relative grid grid-cols-5 gap-2 items-center p-2 rounded-md transition-colors duration-300 ${C}`,children:[v.jsx("div",{className:`col-span-1 text-center font-medium ${N}`,children:l.set_index}),v.jsx("div",{className:"col-span-2",children:v.jsx("input",{type:"number",inputMode:"decimal",step:"0.25",placeholder:"0",value:i,onChange:S=>o(S.target.value),className:`w-full p-1 text-center rounded-md border-gray-600 shadow-sm ${N}`,style:{backgroundColor:h?"#ffffff":"#18181b",color:h?"#0a0a0a":"#fafafa"}})}),v.jsx("div",{className:"col-span-1",children:v.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",placeholder:"0",value:c,onChange:S=>f(S.target.value),className:`w-full p-1 text-center rounded-md border-gray-600 shadow-sm ${N}`,style:{backgroundColor:h?"#ffffff":"#18181b",color:h?"#0a0a0a":"#fafafa"}})}),v.jsx("div",{className:"col-span-1 flex justify-center",children:v.jsx("input",{type:"checkbox",checked:h,onChange:O,className:"h-6 w-6 rounded-sm border border-gray-300 bg-white focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-500",style:{accentColor:"#000000",color:"#0a0a0a"}})}),p&&v.jsx("div",{className:"absolute right-2 top-2 h-2 w-2 bg-blue-500 rounded-full animate-ping"})]})},T1=({restSeconds:l,exerciseId:a,onAdjustRestSeconds:r})=>{const i=a?`rest_timer:${a}`:void 0,o=j.useRef(null),c=j.useRef(l),f=j.useRef({time:l,isActive:!1,endAt:null}),[h,g]=j.useState(()=>{if(!i)return{time:l,isActive:!1,endAt:null};try{const A=localStorage.getItem(i);if(!A)return{time:l,isActive:!1,endAt:null};const R=JSON.parse(A),K=360*60*1e3;if(Date.now()-R.savedAt>K)return localStorage.removeItem(i),{time:l,isActive:!1,endAt:null};if(R.isActive&&R.endAt){const te=Math.max(0,Math.floor((R.endAt-Date.now())/1e3));return te>0?{time:te,isActive:!0,endAt:R.endAt}:(localStorage.removeItem(i),{time:R.restSeconds,isActive:!1,endAt:null})}return{time:R.restSeconds,isActive:!1,endAt:null}}catch(A){return console.error("Error restoring timer state:",A),{time:l,isActive:!1,endAt:null}}}),{time:p,isActive:b,endAt:w}=h,_=j.useCallback((A,R)=>{if(i)try{const K={endAt:A.endAt,isActive:A.isActive,restSeconds:R??f.current.time??l,savedAt:Date.now()};localStorage.setItem(i,JSON.stringify(K))}catch(K){console.error("Error persisting timer:",K)}},[i,l]),O=j.useRef(_);j.useEffect(()=>{O.current=_},[_]),j.useEffect(()=>{f.current={time:p,isActive:b,endAt:w}},[p,b,w]),j.useEffect(()=>{if(!b||!w){o.current&&(window.clearInterval(o.current),o.current=null);return}let A=!1;const R=()=>{if(A)return;const te=Date.now(),Q=Math.max(0,w-te),q=Math.floor(Q/1e3);g(J=>({...J,time:q})),q<=0&&(A=!0,g(J=>({...J,isActive:!1,endAt:null,time:l})),o.current&&(window.clearInterval(o.current),o.current=null),i&&localStorage.removeItem(i))};R();const K=window.setInterval(R,1e3);return o.current=K,()=>{A=!0,o.current&&(window.clearInterval(o.current),o.current=null)}},[b,w,i,l]),j.useEffect(()=>{!b&&l!==c.current&&g(A=>({...A,time:l})),c.current=l},[l,b]),j.useEffect(()=>()=>{o.current&&(window.clearInterval(o.current),o.current=null);const{isActive:A,endAt:R}=f.current;A&&R&&O.current({endAt:R,isActive:!0})},[]);const C=()=>{g(A=>{if(A.isActive)return _({endAt:null,isActive:!1},A.time),o.current&&(window.clearInterval(o.current),o.current=null),{time:A.time,isActive:!1,endAt:null};const R=Date.now()+A.time*1e3;return _({endAt:R,isActive:!0},A.time),{time:A.time,isActive:!0,endAt:R}})},N=()=>{g({time:l,isActive:!1,endAt:null}),o.current&&(window.clearInterval(o.current),o.current=null),i&&localStorage.removeItem(i)},S=A=>{g(R=>{const K=Math.max(0,R.time+A);if(K===0)return _({endAt:null,isActive:!1},0),o.current&&(window.clearInterval(o.current),o.current=null),{time:0,isActive:!1,endAt:null};if(R.isActive){const te=Date.now()+K*1e3;return _({endAt:te,isActive:!0},K),{time:K,isActive:!0,endAt:te}}return _({endAt:null,isActive:!1},K),{time:K,isActive:!1,endAt:null}}),r==null||r(A)},B=A=>{const R=Math.floor(A/60),K=A%60;return`${R}:${K<10?"0":""}${K}`};return v.jsxs("div",{className:"text-center",children:[v.jsxs("div",{className:"flex items-center justify-center gap-4",children:[v.jsx("button",{onClick:()=>S(-30),disabled:p<=0&&!b,className:"btn-glass btn-glass-icon-round btn-glass-secondary",children:"-"}),v.jsx("div",{className:`text-6xl font-mono font-semibold leading-none min-w-[4ch] text-center ${b?"text-white":""}`,children:B(p)}),v.jsx("button",{onClick:()=>S(30),className:"btn-glass btn-glass-icon-round btn-glass-secondary",children:"+"})]}),v.jsxs("div",{className:"mt-4 flex items-center justify-center gap-3",children:[v.jsx("button",{onClick:C,className:`btn-glass btn-glass-icon-sm ${b?"btn-glass-danger":"btn-glass-primary"}`,children:b?"":""}),v.jsx("button",{onClick:N,className:"btn-glass btn-glass-icon-sm btn-glass-secondary",children:""})]})]})},Bl=({open:l,title:a=" ",description:r,confirmText:i="",cancelText:o="",variant:c="primary",onConfirm:f,onOpenChange:h})=>{const[g,p]=j.useState(!1);if(j.useEffect(()=>{const w=_=>{l&&_.key==="Escape"&&h(!1)};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[l,h]),!l)return null;const b=async()=>{try{p(!0),await f(),h(!1)}catch{}finally{p(!1)}};return Dl.createPortal(v.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",role:"dialog","aria-modal":"true",children:[v.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>h(!1)}),v.jsxs("div",{className:"relative w-full max-w-md glass card-dark rounded-xl shadow-xl p-5",children:[v.jsxs("div",{className:"mb-3",children:[v.jsx("h2",{className:"text-lg font-semibold text-white",children:a}),r&&v.jsx("p",{className:"mt-1 text-sm",style:{color:"#a1a1aa"},children:r})]}),v.jsxs("div",{className:"mt-4 flex items-center justify-end gap-2",children:[v.jsx("button",{type:"button",className:"btn-glass btn-glass-sm btn-glass-secondary",onClick:()=>h(!1),disabled:g,children:o}),v.jsx("button",{type:"button",className:`btn-glass btn-glass-sm ${c==="danger"?"btn-glass-danger":"btn-glass-primary"}`,onClick:b,disabled:g,children:g?"...":i})]})]})]}),document.body)},O1=({exercise:l,onUpdateExercise:a,onDeleteExercise:r})=>{var te;const[i,o]=j.useState(l.name),[c,f]=j.useState(l.sets),[h,g]=j.useState(l.rest_seconds),[p,b]=j.useState(!1),w=j.useRef(null),_=Pr(i,500),O=Pr(h,500),[C,N]=j.useState(!1),S=j.useRef(l.name),B=j.useCallback(()=>{const Q=w.current;Q&&(Q.style.height="auto",Q.style.height=`${Q.scrollHeight}px`)},[]);j.useEffect(()=>{l.name!==S.current&&(o(l.name),S.current=l.name),f(l.sets),g(l.rest_seconds)},[l.id,l.sets,l.rest_seconds]),j.useLayoutEffect(()=>{B()},[B,i]),j.useLayoutEffect(()=>{if(typeof ResizeObserver>"u")return;const Q=w.current;if(!Q)return;const q=new ResizeObserver(()=>{B()});return q.observe(Q),()=>q.disconnect()},[B]),j.useEffect(()=>{(async()=>{if(!(_.trim()===""||_===l.name))try{await se.from("workout_exercises").update({name:_}).eq("id",l.id);const q={...l,name:_};S.current=_,a(q)}catch(q){console.error("Failed to update exercise name",q)}})()},[_]),j.useEffect(()=>{(async()=>{if(O!==l.rest_seconds)try{await se.from("workout_exercises").update({rest_seconds:O}).eq("id",l.id);const q={...l,rest_seconds:O};a(q)}catch(q){console.error("Failed to update rest seconds",q)}})()},[O,l,a]);const A=Q=>{g(q=>Math.max(0,q+Q))},R=async Q=>{if(!(Q<1||Q===c||p)){b(!0);try{if(Q>c){const q=Array.from({length:Q-c},(Se,Ne)=>({workout_exercise_id:l.id,set_index:c+Ne+1})),{data:J,error:I}=await se.from("workout_sets").insert(q).select();if(I)throw I;const X=[...l.workout_sets,...J||[]].sort((Se,Ne)=>Se.set_index-Ne.set_index);await se.from("workout_exercises").update({sets:Q}).eq("id",l.id);const ve={...l,sets:Q,workout_sets:X};a(ve)}else{const{error:q}=await se.from("workout_sets").delete().eq("workout_exercise_id",l.id).gt("set_index",Q);if(q)throw q;const J=l.workout_sets.filter(X=>X.set_index<=Q);await se.from("workout_exercises").update({sets:Q}).eq("id",l.id);const I={...l,sets:Q,workout_sets:J};a(I)}f(Q)}catch(q){console.error("Failed to change sets count",q),alert("    ")}finally{b(!1)}}},K=async()=>{const{error:Q}=await se.from("workout_sets").delete().eq("workout_exercise_id",l.id);if(Q){console.error("Failed to delete sets of exercise",Q),alert("    .  .");return}const{error:q}=await se.from("workout_exercises").delete().eq("id",l.id);if(q){console.error("Failed to delete exercise",q),alert("   .  .");return}r&&r(l.id)};return v.jsxs("div",{id:`exercise-${l.id}`,className:"glass card-dark p-4 exercise-card",children:[v.jsxs("div",{className:"exercise-card-header mb-3",children:[v.jsxs("div",{className:"name-wrap relative",children:[v.jsx("textarea",{value:i,onChange:Q=>o(Q.target.value),ref:w,rows:1,className:"w-full text-base sm:text-lg font-bold text-white whitespace-pre-wrap bg-white/10 hover:bg-white/15 focus:bg-white/10 border border-white/20 hover:border-white/30 focus:border-white/50 focus:ring-2 focus:ring-white/25 focus:outline-none rounded-xl px-4 pr-9 py-3 min-h-[3rem] resize-none overflow-y-hidden leading-relaxed transition-colors"}),i&&i.trim()!==""&&v.jsx("button",{type:"button",onClick:()=>{o(""),requestAnimationFrame(()=>B())},"aria-label":"",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-white/10 text-gray-300",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),v.jsx("button",{"aria-label":" ",className:"delete-btn btn-glass btn-glass-icon btn-glass-outline",onClick:()=>N(!0),type:"button",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M3 6h18"}),v.jsx("path",{d:"M8 6l1-2h6l1 2"}),v.jsx("path",{d:"M10 11v6"}),v.jsx("path",{d:"M14 11v6"}),v.jsx("path",{d:"M6 6l1 14a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2l1-14"})]})})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx("div",{className:"flex justify-center",children:v.jsx(T1,{restSeconds:h,exerciseId:l.id,onAdjustRestSeconds:A})}),v.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm py-4 sm:py-5 px-2 rounded-lg",style:{color:"#a1a1aa",backgroundColor:"rgba(255,255,255,0.02)"},children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("span",{className:"whitespace-nowrap font-medium",children:":"}),v.jsxs("div",{className:"inline-flex items-center gap-2",children:[v.jsx("button",{disabled:p||c<=1,onClick:()=>R(c-1),className:"btn-glass btn-glass-icon-round btn-glass-secondary",children:""}),v.jsx("span",{className:"min-w-[3ch] text-center text-white font-semibold text-base sm:text-lg",children:c}),v.jsx("button",{disabled:p||c>=30,onClick:()=>R(c+1),className:"btn-glass btn-glass-icon-round btn-glass-secondary",children:"+"})]})]}),((te=l.reps)==null?void 0:te.trim())&&v.jsxs("div",{className:"ml-3 flex-1 text-right whitespace-nowrap text-sm sm:text-base font-medium",children:[": ",l.reps]})]})]}),v.jsxs("div",{className:"space-y-3 pt-2",children:[v.jsxs("div",{className:"grid grid-cols-5 gap-3 text-center text-sm sm:text-base font-semibold px-3 py-3 rounded-lg",style:{color:"#a1a1aa",backgroundColor:"rgba(255,255,255,0.03)"},children:[v.jsx("div",{className:"col-span-1",children:""}),v.jsx("div",{className:"col-span-2",children:" ()"}),v.jsx("div",{className:"col-span-1",children:""}),v.jsx("div",{className:"col-span-1",children:""})]}),v.jsx("div",{className:"space-y-2",children:l.workout_sets.map(Q=>v.jsx(j1,{set:Q,onChange:q=>{const J={...l,workout_sets:l.workout_sets.map(I=>I.id===q.id?q:I)};a(J)}},Q.id))})]}),v.jsx(Bl,{open:C,onOpenChange:N,title:" ?",description:l.name?`    "${l.name}".  .`:"   .  .",confirmText:"",cancelText:"",variant:"danger",onConfirm:K})]})};function Ig(l,a,r){const i=l.slice(),[o]=i.splice(a,1);return i.splice(r,0,o),i}const A1=({open:l,items:a,onClose:r,onSave:i})=>{const[o,c]=j.useState([]),f=j.useRef(null),[h,g]=j.useState(!1),p=j.useMemo(()=>a.slice().sort((N,S)=>(N.position??0)-(S.position??0)),[a]);if(j.useEffect(()=>{l&&c(p)},[l,p]),!l)return null;const b=(N,S)=>{S<0||S>=o.length||c(B=>Ig(B,N,S))},w=N=>S=>{f.current=N,S.dataTransfer.effectAllowed="move"},_=N=>{N.preventDefault(),N.dataTransfer.dropEffect="move"},O=N=>S=>{S.preventDefault();const B=f.current;if(f.current=null,B==null||B===N)return;const A=o.findIndex(K=>K.id===B),R=o.findIndex(K=>K.id===N);A===-1||R===-1||c(K=>Ig(K,A,R))},C=async()=>{g(!0);try{await i(o.map((N,S)=>({...N,position:S+1}))),r()}finally{g(!1)}};return Dl.createPortal(v.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[v.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:r}),v.jsxs("div",{className:"relative w-full max-w-md glass card-dark rounded-xl shadow-xl p-4",children:[v.jsx("h2",{className:"text-lg font-semibold mb-3",children:" "}),v.jsx("ol",{className:"space-y-2 max-h-[55vh] overflow-y-auto pr-1",children:o.map((N,S)=>v.jsxs("li",{draggable:!0,onDragStart:w(N.id),onDragOver:_,onDrop:O(N.id),className:"rounded-lg p-2 flex items-center gap-2 hover:bg-white/5 transition-colors",children:[v.jsxs("span",{className:"select-none w-6 text-center opacity-70",children:[S+1,"."]}),v.jsx("button",{type:"button","aria-label":"",className:"cursor-grab px-2 py-1 rounded-md bg-white/5 hover:bg-white/10 active:cursor-grabbing",onMouseDown:B=>B.preventDefault(),children:""}),v.jsx("div",{className:"flex-1 truncate",children:N.name||" "}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx("button",{type:"button",className:"btn-glass btn-glass-sm btn-glass-secondary",onClick:()=>b(S,S-1),disabled:S===0,children:""}),v.jsx("button",{type:"button",className:"btn-glass btn-glass-sm btn-glass-secondary",onClick:()=>b(S,S+1),disabled:S===o.length-1,children:""})]})]},N.id))}),v.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[v.jsx("button",{className:"btn-glass btn-glass-sm btn-glass-secondary",onClick:r,disabled:h,children:""}),v.jsx("button",{className:"btn-glass btn-glass-sm btn-glass-primary",onClick:C,disabled:h,children:h?"":""})]})]})]}),document.body)},xt=new Map,Qg=3e4,N1=l=>{if(!l)return null;if(/^\d{4}-\d{2}-\d{2}$/.test(l))return l;const a=new Date(l);return Number.isNaN(a.getTime())?null:Vr(a)},k1=()=>{const{date:l}=ap(),{user:a}=Bn(),r=en(),i=un(),o=j.useMemo(()=>N1(l),[l]),c=o?`workout-page:${o}`:"workout-page",[f,h]=Ll({key:c,initialState:{workout:null,exercises:[],templates:[],loading:!0,isCreating:!1,isSelectTemplateOpen:!1,hasInitialData:!1,isAddingExercise:!1,workoutName:"",isSavingWorkoutName:!1,isCardio:!1,isSavingCardio:!1},ttl:1800*1e3}),{workout:g,exercises:p,templates:b,loading:w,isCreating:_,isSelectTemplateOpen:O,hasInitialData:C,isAddingExercise:N,workoutName:S,isSavingWorkoutName:B,isCardio:A,isSavingCardio:R}=f,[K,te]=j.useState(!1),Q=Y=>h(Z=>({...Z,workout:Y,workoutName:(Y==null?void 0:Y.name)??"",isSavingWorkoutName:!1,isCardio:(Y==null?void 0:Y.is_cardio)??!1,isSavingCardio:!1})),q=Y=>h(Z=>({...Z,exercises:typeof Y=="function"?Y(Z.exercises):Y})),J=Y=>h(Z=>({...Z,templates:typeof Y=="function"?Y(Z.templates):Y})),I=Y=>h(Z=>({...Z,loading:Y})),X=Y=>h(Z=>({...Z,isCreating:Y})),ve=Y=>h(Z=>({...Z,isSelectTemplateOpen:Y})),Se=Y=>h(Z=>({...Z,hasInitialData:Y})),Ne=Y=>h(Z=>({...Z,isAddingExercise:Y})),Ee=Y=>h(Z=>({...Z,workoutName:Y})),Qe=Y=>h(Z=>({...Z,isSavingWorkoutName:Y})),L=Y=>h(Z=>({...Z,isCardio:Y})),P=Y=>h(Z=>({...Z,isSavingCardio:Y})),[ce,ke]=j.useState(!1),[Ce,T]=j.useState(!1),[V,W]=j.useState(S),F=j.useRef(null),[fe,ge]=j.useState(!1),Te=j.useRef(null),et=j.useRef(null),[Ge,va]=j.useState(null),[Ya,Ka]=j.useState(!1),gn=`scroll:workout:${o??""}`,Rt=j.useRef(!1),pn=j.useRef(0),ya=j.useRef(!1),vn=j.useCallback(async(Y=!1,Z=!1)=>{if(!a||!o){Q(null),q([]),I(!1),Se(!0);return}const re=`${a.id}:${o}`,ie=Date.now();if(xt.has(re)){const Re=xt.get(re),He=ie-Re.timestamp;if(Y&&He<Qg){C||(Q(Re.workout),q(Re.exercises),I(!1),Se(!0));return}He>=Qg&&(C||(Q(Re.workout),q(Re.exercises),Se(!0)),Z=!0)}Z||I(!0);const{data:de,error:Ye}=await se.from("workouts").select("*").eq("user_id",a.id).eq("workout_date",o).order("created_at",{ascending:!1}).limit(1),qe=(de==null?void 0:de[0])??null;if(Ye)console.error("Error fetching workout:",Ye);else if(qe){Q(qe);const{data:Re,error:He}=await se.from("workout_exercises").select("id, name, sets, reps, rest_seconds, position, workout_id, workout_sets ( id, workout_exercise_id, set_index, weight, reps, is_done, updated_at )").eq("workout_id",qe.id).order("position");if(He)console.error("Error fetching exercises:",He);else{const bt=Re||[];bt.forEach(ht=>{ht.workout_sets&&ht.workout_sets.sort((Ze,tn)=>Ze.set_index-tn.set_index)}),q(bt),xt.set(re,{workout:qe,exercises:bt,timestamp:ie})}}else Q(null),q([]),xt.set(re,{workout:null,exercises:[],timestamp:ie});const Xe=a?`templates-cache:${a.id}`:void 0;if(Xe)try{const Re=localStorage.getItem(Xe);if(Re){const He=JSON.parse(Re);He.data&&J(He.data)}}catch{}se.from("workout_templates").select("id, name, created_at, user_id").eq("user_id",a.id).then(({data:Re,error:He})=>{if(He)console.error("Error fetching templates:",He.message);else if(J(Re||[]),Xe)try{localStorage.setItem(Xe,JSON.stringify({ts:Date.now(),data:Re}))}catch{}}),I(!1),Se(!0)},[a,o,C]);j.useEffect(()=>{vn()},[vn]),j.useEffect(()=>{const Y=()=>{document.visibilityState==="visible"&&vn(!0)};return document.addEventListener("visibilitychange",Y),()=>document.removeEventListener("visibilitychange",Y)},[vn]),j.useEffect(()=>{o&&localStorage.setItem("lastWorkoutPath",`/workout/${o}`)},[o]),j.useEffect(()=>{Ce&&F.current&&(F.current.focus(),F.current.select())},[Ce]),j.useEffect(()=>{const Y=Z=>{var Ye,qe;if(!Te.current&&!et.current)return;const re=Z.target,ie=(Ye=et.current)==null?void 0:Ye.contains(re),de=(qe=Te.current)==null?void 0:qe.contains(re);!ie&&!de&&ge(!1)};return document.addEventListener("click",Y),()=>document.removeEventListener("click",Y)},[]),j.useEffect(()=>{ya.current=!1},[o,i.key]),j.useEffect(()=>{if(!o||p.length===0)return;const Y=()=>{var He;const re=(He=i.state)==null?void 0:He.focusExerciseId;if(!re||ya.current)return!1;const ie=document.getElementById(`exercise-${re}`);if(!ie)return!1;ya.current=!0,Rt.current=!0;const de=document.querySelector(".header-container"),Ye=de?de.getBoundingClientRect().bottom:0,qe=12,Xe=ie.getBoundingClientRect(),Re=Math.max(0,window.scrollY+Xe.top-Ye-qe);return window.scrollTo({top:Re,behavior:"smooth"}),ie.animate&&ie.animate([{boxShadow:"0 0 0 rgba(59,130,246,0)"},{boxShadow:"0 0 0 4px rgba(59,130,246,0.6)"},{boxShadow:"0 0 0 rgba(59,130,246,0)"}],{duration:1200,easing:"ease-in-out"}),setTimeout(()=>{Rt.current=!1},600),!0},Z=()=>{try{const re=localStorage.getItem(gn);if(re){const ie=parseInt(re,10);Number.isNaN(ie)||(Rt.current=!0,requestAnimationFrame(()=>{requestAnimationFrame(()=>{window.scrollTo({top:ie,behavior:"auto"}),pn.current=ie,setTimeout(()=>{Rt.current=!1},100)})}))}}catch(re){console.error("Error restoring scroll:",re)}};Y()||Z()},[o,p.length,gn,i.state]),j.useEffect(()=>{if(!o)return;let Y=!1;const Z=()=>{pn.current=window.scrollY,te(window.scrollY>0),!Y&&!Rt.current&&(window.requestAnimationFrame(()=>{try{localStorage.setItem(gn,String(pn.current))}catch{}Y=!1}),Y=!0)};return window.addEventListener("scroll",Z,{passive:!0}),()=>window.removeEventListener("scroll",Z)},[o,gn]),j.useEffect(()=>()=>{if(o&&pn.current>0)try{localStorage.setItem(gn,String(pn.current))}catch{}},[o,gn]);const Fr=Y=>{h(Z=>{const re=Z.exercises.map(ie=>ie.id===Y.id?Y:ie);if(a&&o&&Z.workout){const ie=`${a.id}:${o}`;xt.set(ie,{workout:Z.workout,exercises:re,timestamp:Date.now()})}return{...Z,exercises:re}})},Ks=async()=>{if(!(!a||!o||!g||N)){Ne(!0);try{const Y=p.length>0?Math.max(...p.map(Re=>typeof Re.position=="number"?Re.position:0))+1:1,{data:Z,error:re}=await se.from("workout_exercises").insert({workout_id:g.id,name:"",sets:1,reps:"",rest_seconds:150,position:Y}).select("id, name, sets, reps, rest_seconds, position, workout_id");if(re)throw re;const ie=Z==null?void 0:Z[0];if(!ie)throw new Error("   ");const{data:de,error:Ye}=await se.from("workout_sets").insert({workout_exercise_id:ie.id,set_index:1,weight:null,reps:null,is_done:!1,updated_at:new Date().toISOString()}).select("id, workout_exercise_id, set_index, weight, reps, is_done, updated_at");if(Ye)throw Ye;const qe=de==null?void 0:de[0];if(!qe)throw new Error("   ");const Xe={...ie,workout_sets:[qe]};h(Re=>{if(!Re.workout)return Re;const He=[...Re.exercises,Xe].sort((bt,ht)=>bt.position-ht.position);if(a&&o){const bt=`${a.id}:${o}`,ht=xt.get(bt);ht&&xt.set(bt,{workout:ht.workout,exercises:He,timestamp:Date.now()})}return{...Re,exercises:He}})}catch(Y){console.error("Failed to add exercise:",Y),alert("   .  .")}finally{Ne(!1)}}},Is=async()=>{if(!(!a||!o)){X(!0);try{const{data:Y,error:Z}=await se.from("workouts").insert({user_id:a.id,workout_date:o,name:" ",template_id:null}).select().single();if(Z)throw Z;if(!Y)throw new Error("   ");Q(Y),q([]),Ee(Y.name);const re=`${a.id}:${o}`;xt.set(re,{workout:Y,exercises:[],timestamp:Date.now()})}catch(Y){console.error("Failed to create custom workout:",Y),alert("   .  .")}finally{X(!1)}}},Qs=async Y=>{if(!(!a||!o)){X(!0);try{const{data:Z}=await se.from("template_exercises").select("*").eq("template_id",Y.id),{data:re}=await se.from("workouts").insert({user_id:a.id,workout_date:o,name:Y.name,template_id:Y.id}).select().single();if(!re)throw new Error("Failed to create workout entry.");const ie=(Z||[]).map(Xe=>({workout_id:re.id,name:Xe.name,sets:Xe.sets,reps:Xe.reps,rest_seconds:Xe.rest_seconds,position:Xe.position})),{data:de}=await se.from("workout_exercises").insert(ie).select();if(!de)throw new Error("Failed to create workout exercises.");const Ye=de.flatMap(Xe=>Array.from({length:Xe.sets},(Re,He)=>({workout_exercise_id:Xe.id,set_index:He+1})));await se.from("workout_sets").insert(Ye);const qe=`${a.id}:${o}`;xt.delete(qe),await vn()}catch(Z){console.error("Failed to create workout from template:",Z),alert(`   : ${Z.message}`)}finally{X(!1)}}},ql=()=>{W(S),T(!0)},Hl=async()=>{if(!a||!o||!g)return;const Y=V.trim();if(Y.length===0){W(S),T(!1);return}if(Y===g.name){T(!1);return}Qe(!0);try{const{data:Z,error:re}=await se.from("workouts").update({name:Y}).eq("id",g.id).select().single();if(re)throw re;if(!Z)throw new Error("    ");Q(Z),W(Y),T(!1);const ie=`${a.id}:${o}`;xt.set(ie,{workout:Z,exercises:p,timestamp:Date.now()})}catch(Z){console.error("Failed to update workout name:",Z),alert("   .  .")}finally{Qe(!1)}},St=()=>{W(S),T(!1)},ei=async()=>{if(!a||!o||!g)return;const Y=!A;L(Y),P(!0);try{const{data:Z,error:re}=await se.from("workouts").update({is_cardio:Y}).eq("id",g.id).select().single();if(re)throw re;if(!Z)throw new Error("    ");Q(Z);const ie=`${a.id}:${o}`;xt.set(ie,{workout:Z,exercises:p,timestamp:Date.now()})}catch(Z){console.error("Failed to update cardio status:",Z),alert("    ."),L(!Y)}finally{P(!1)}},ti=()=>{g&&ke(!0)},ni=async Y=>{if(!a||!g)return;const Z=new Map(Y.map((ie,de)=>[ie.id,de+1]));q(ie=>{const de=ie.map(Ye=>({...Ye,position:Z.get(Ye.id)??Ye.position}));return de.sort((Ye,qe)=>(Ye.position??0)-(qe.position??0)),de});const re=Y.map((ie,de)=>({id:ie.id,position:de+1}));try{if(await Promise.all(re.map(async ie=>{const{error:de}=await se.from("workout_exercises").update({position:ie.position}).eq("id",ie.id);if(de)throw de})),a&&o){const ie=`${a.id}:${o}`,de=xt.get(ie);if(de){const Ye=[...de.exercises].map(qe=>({...qe,position:Z.get(qe.id)??qe.position})).sort((qe,Xe)=>(qe.position??0)-(Xe.position??0));xt.set(ie,{workout:de.workout,exercises:Ye,timestamp:Date.now()})}}}catch(ie){console.error("Failed to save new order:",ie),alert("   .    ."),await vn()}},Ia=async()=>{if(!g)return;const{error:Y}=await se.from("workouts").delete().eq("id",g.id);if(Y){console.error("Error deleting workout:",Y),alert("   .");return}if(a&&o){const Z=`${a.id}:${o}`;xt.delete(Z)}r("/calendar",{state:{removedDate:o}})},$l=()=>{ve(!0)},ai=async Y=>{if(!(!a||!o||!g))try{X(!0);const{data:Z,error:re}=await se.from("template_exercises").select("*").eq("template_id",Y.id);if(re)throw re;const{data:ie,error:de}=await se.from("workout_exercises").select("id").eq("workout_id",g.id);if(de)throw de;const Ye=(ie||[]).map(Ze=>Ze.id);if(Ye.length>0){const{error:Ze}=await se.from("workout_sets").delete().in("workout_exercise_id",Ye);if(Ze)throw Ze;const{error:tn}=await se.from("workout_exercises").delete().eq("workout_id",g.id);if(tn)throw tn}const{error:qe}=await se.from("workouts").update({name:Y.name,template_id:Y.id}).eq("id",g.id);if(qe)throw qe;const Xe=(Z||[]).map(Ze=>({workout_id:g.id,name:Ze.name,sets:Ze.sets,reps:Ze.reps,rest_seconds:Ze.rest_seconds,position:Ze.position})),{data:Re,error:He}=await se.from("workout_exercises").insert(Xe).select();if(He)throw He;const bt=(Re||[]).flatMap(Ze=>Array.from({length:Ze.sets},(tn,Vl)=>({workout_exercise_id:Ze.id,set_index:Vl+1})));if(bt.length>0){const{error:Ze}=await se.from("workout_sets").insert(bt);if(Ze)throw Ze}const ht=`${a.id}:${o}`;xt.delete(ht),ve(!1),await vn()}catch(Z){console.error("Failed to replace workout from template:",Z),alert(`   : ${Z.message}`)}finally{X(!1)}},si=({className:Y=""})=>v.jsx("button",{onClick:()=>r("/calendar",{state:{refreshDate:o}}),className:`inline-flex items-center justify-center p-2 rounded-full border border-transparent text-white transition-colors z-10 bg-transparent hover:border-white active:border-white focus:outline-none ${Y}`,children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})});return C?o?g?v.jsxs("div",{className:"relative px-4 space-y-4 pt-safe pb-10",children:[w&&v.jsx("div",{className:"fixed inset-0 flex items-center justify-center",style:{background:"transparent"},children:v.jsxs("div",{className:"flex flex-col items-center gap-4",children:[v.jsx("div",{className:"relative w-12 h-12",children:v.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-blue-500 border-r-blue-500 rounded-full animate-spin"})}),v.jsx("p",{className:"text-white text-center",children:" ..."})]})}),v.jsx("style",{children:`
        @keyframes slideDown {
          from {
            transform: translateY(-100%);
            opacity: 0;
          }
          to {
            transform: translateY(0);
            opacity: 1;
          }
        }
        .header-container {
          transition: all 0.3s ease-out;
          position: sticky;
          top: 1rem;
          z-index: 30;
        }
        .header-container.scrolling {
          padding: 0.35rem 1rem;
          gap: 0.7rem;
        }
        .header-container.scrolling h1 {
          font-size: 1.25rem;
          line-height: 1.2;
        }
        .header-container.scrolling input {
          font-size: 1.1rem;
          pointer-events: none;
          cursor: default;
        }
        .header-container.scrolling p {
          font-size: 0.8rem;
          line-height: 1.15;
        }
      `}),v.jsxs("div",{className:`glass card-dark p-4 flex items-center gap-4 header-container ${K?"scrolling":""}`,children:[v.jsx(si,{className:"shrink-0"}),v.jsx("div",{className:"flex-1 text-center",children:Ce?v.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[v.jsxs("div",{className:"relative",children:[v.jsx("input",{ref:F,type:"text",value:V,onChange:Y=>W(Y.target.value),disabled:B,className:"w-full bg-white/10 text-lg font-bold text-white placeholder:text-gray-500 focus:outline-none focus:bg-white/20 rounded-md px-3 pr-9 py-2 transition-colors disabled:opacity-70",placeholder:" "}),V&&v.jsx("button",{type:"button",onClick:()=>W(""),"aria-label":"",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-white/10 text-gray-300",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),v.jsxs("div",{className:"flex items-center justify-center gap-2",children:[v.jsx("button",{onClick:Hl,disabled:B,className:"shrink-0 p-1.5 rounded-full hover:bg-green-500/20 transition-colors disabled:opacity-50",title:"",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),v.jsx("button",{onClick:St,disabled:B,className:"shrink-0 p-1.5 rounded-full hover:bg-red-500/20 transition-colors disabled:opacity-50",title:"",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-red-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}):v.jsxs("div",{className:"flex items-center justify-center gap-2",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl font-bold text-white",children:S}),v.jsxs("p",{className:"text-lg transition-all duration-300",style:{color:"#a1a1aa"},children:[": ",Tl(o)]})]}),v.jsx("button",{onClick:ql,className:"shrink-0 p-1.5 rounded-full hover:bg-white/10 transition-colors",title:" ",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]})}),v.jsx("div",{className:"relative",ref:Te,children:v.jsx("button",{ref:et,type:"button","aria-label":" ",className:"inline-flex items-center justify-center p-2 rounded-full hover:bg-white/10",onClick:()=>{if(!fe&&et.current){const Y=et.current.getBoundingClientRect();va({top:Y.bottom+8,left:Y.right-192})}ge(Y=>!Y)},children:v.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[v.jsx("circle",{cx:"12",cy:"5",r:"1"}),v.jsx("circle",{cx:"12",cy:"12",r:"1"}),v.jsx("circle",{cx:"12",cy:"19",r:"1"})]})})})]}),v.jsx("div",{className:"space-y-4",children:p.map(Y=>v.jsx(O1,{exercise:Y,onUpdateExercise:Fr,onDeleteExercise:Z=>{h(re=>{const ie=re.exercises.filter(de=>de.id!==Z);if(a&&o&&re.workout){const de=`${a.id}:${o}`;xt.set(de,{workout:re.workout,exercises:ie,timestamp:Date.now()})}return{...re,exercises:ie}})}},Y.id))}),v.jsxs("div",{className:"glass card-dark p-4 rounded-md",children:[v.jsx("p",{className:"text-white text-lg font-bold mb-3 text-center",children:" ?"}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("button",{onClick:()=>{A&&(L(!1),ei())},disabled:R,className:`flex-1 py-2 px-4 rounded-lg font-medium transition-all duration-200 ease-out ${A?"bg-red-500/20 text-red-300 hover:bg-red-500/30 scale-95":"bg-red-500/80 text-white shadow-lg scale-100"} disabled:opacity-50`,children:""}),v.jsx("button",{onClick:()=>{A||(L(!0),ei())},disabled:R,className:`flex-1 py-2 px-4 rounded-lg font-medium transition-all duration-200 ease-out ${A?"bg-green-500/80 text-white shadow-lg scale-100":"bg-green-500/20 text-green-300 hover:bg-green-500/30 scale-95"} disabled:opacity-50`,children:""})]})]}),v.jsx("div",{children:v.jsx("button",{type:"button",onClick:Ks,disabled:N,className:"btn-glass btn-glass-full btn-glass-md btn-glass-primary disabled:opacity-50",children:N?"...":" "})}),O&&v.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-black/60 p-4",children:v.jsxs("div",{className:"w-full max-w-md glass card-dark rounded-xl shadow-xl p-5",children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsx("h2",{className:"text-lg font-semibold",children:" "}),v.jsx("button",{onClick:()=>ve(!1),className:"px-2 py-1 text-sm text-gray-300 hover:text-white",children:""})]}),b.length===0?v.jsx("p",{className:"text-gray-400",children:"  ."}):v.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:b.map(Y=>v.jsx("button",{onClick:()=>ai(Y),disabled:_,className:"w-full text-left px-4 py-2 rounded-md border border-white/20 text-gray-100 hover:bg-white/5 disabled:opacity-50",children:_?"...":Y.name},Y.id))})]})}),v.jsx(A1,{open:Ya,onClose:()=>Ka(!1),items:p.map(Y=>({id:Y.id,name:Y.name,position:Y.position??0})),onSave:ni}),v.jsx(Bl,{open:ce,onOpenChange:ke,title:" ?",description:`     ${Tl(o)}.  .`,confirmText:"",cancelText:"",variant:"danger",onConfirm:Ia}),fe&&Ge&&Dl.createPortal(v.jsxs("div",{className:"fixed menu-popover",style:{top:Ge.top,left:Ge.left,width:192},role:"menu",children:[v.jsx("button",{onClick:()=>{ge(!1),Ka(!0)},className:"w-full text-left px-4 py-2 hover:bg-white/10 text-gray-100 transition-colors rounded-lg",children:"  "}),v.jsx("button",{onClick:()=>{ge(!1),$l()},className:"w-full text-left px-4 py-2 hover:bg-white/10 text-gray-100 transition-colors rounded-lg",children:" "}),v.jsx("button",{onClick:()=>{ge(!1),ti()},className:"w-full text-left px-4 py-2 text-red-400 hover:bg-red-500/10 transition-colors rounded-lg",children:""})]}),document.body)]}):_?v.jsx("div",{className:"px-4 pt-safe",children:v.jsx("div",{className:"fixed inset-0 flex items-center justify-center",style:{background:"transparent"},children:v.jsxs("div",{className:"flex flex-col items-center gap-4",children:[v.jsx("div",{className:"relative w-12 h-12",children:v.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-blue-500 border-r-blue-500 rounded-full animate-spin"})}),v.jsx("p",{className:"text-white text-center",children:"..."})]})})}):v.jsxs("div",{className:"max-w-lg mx-auto px-4 pt-safe",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[v.jsx(si,{}),v.jsxs("h1",{className:"flex-1 text-xl font-bold text-center",children:["  ",Tl(o)]})]}),v.jsxs("div",{className:"mt-4 p-6 text-center",children:[b.length>0?v.jsxs(v.Fragment,{children:[v.jsx("h2",{className:"text-lg font-semibold mb-3",children:" "}),v.jsx("div",{className:"space-y-2",children:b.map(Y=>v.jsx("button",{onClick:()=>Qs(Y),disabled:_,className:"btn-glass btn-glass-primary btn-glass-full btn-glass-md disabled:opacity-50",children:Y.name},Y.id))})]}):v.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[v.jsx("p",{className:"text-gray-400",children:"  ."}),v.jsxs(up,{to:"/templates/new",className:"btn-glass btn-glass-primary btn-glass-full btn-glass-md",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})," "]})]}),v.jsx("div",{className:"mt-4",children:v.jsx("button",{type:"button",onClick:Is,disabled:_,className:"btn-dashed",children:"  "})})]})]}):null:v.jsx("div",{className:"fixed inset-0 flex items-center justify-center",style:{background:"transparent"},children:v.jsxs("div",{className:"flex flex-col items-center gap-4",children:[v.jsx("div",{className:"relative w-12 h-12",children:v.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-blue-500 border-r-blue-500 rounded-full animate-spin"})}),v.jsx("p",{className:"text-white text-center",children:" ..."})]})})};function C1(l){try{const a=JSON.stringify(l);return encodeURIComponent(btoa(unescape(encodeURIComponent(a))))}catch(a){throw console.error("Error encoding template:",a),new Error("   ")}}function rv(l){try{const a=decodeURIComponent(escape(atob(decodeURIComponent(l)))),r=JSON.parse(a);if(!r.name||!Array.isArray(r.exercises))throw new Error("Invalid template structure");for(const i of r.exercises)if(!i.name||typeof i.sets!="number"||typeof i.rest_seconds!="number")throw new Error("Invalid exercise structure");return r}catch(a){throw console.error("Error decoding template:",a),new Error("    ")}}function R1(l){const a=C1(l);return`${window.location.origin+window.location.pathname}#/templates/import?data=${a}`}function Jg(l){try{const a=/#\/templates\/import\?data=([^&\s]+)/,r=l.match(a);return!r||!r[1]?!1:(rv(r[1]),!0)}catch{return!1}}function bc(l){try{const a=/#\/templates\/import\?data=([^&\s]+)/,r=l.match(a);return!r||!r[1]?null:rv(r[1])}catch{return null}}const iv=({open:l,onOpenChange:a,onClose:r,templateName:i})=>{const[o,c]=j.useState(!1);return j.useEffect(()=>{if(l){c(!0);const f=setTimeout(()=>{a(null),r==null||r()},1500);return()=>clearTimeout(f)}else c(!1)},[l,a,r]),j.useEffect(()=>{const f=h=>{l&&h.key==="Escape"&&a(null)};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[l,a]),l?Dl.createPortal(v.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",role:"alert","aria-live":"polite",children:[v.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:()=>a(null)}),v.jsxs("div",{className:`relative w-full max-w-md glass card-dark rounded-xl shadow-xl p-6 text-center transition-all duration-300 ${o?"opacity-100 scale-100":"opacity-0 scale-95"}`,children:[v.jsx("div",{className:"flex justify-center mb-4",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),v.jsx("h2",{className:"text-xl font-semibold text-white",children:i?`  "${i}"    `:" !"})]})]}),document.body):null},D1=({id:l,name:a,onDeleted:r,onShare:i})=>{const[o,c]=Ln.useState(!1),[f,h]=Ln.useState(!1),g=async()=>{if(!o){c(!0);try{const{error:p}=await se.from("template_exercises").delete().eq("template_id",l);if(p)throw p;const{error:b}=await se.from("workout_templates").delete().eq("id",l);if(b)throw b;r(l),h(!1)}catch(p){console.error("Error deleting template",p),alert("   .")}finally{c(!1)}}};return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:()=>i(l,a),className:"text-blue-400 hover:opacity-75 transition-opacity",title:" ",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})})}),v.jsx("button",{onClick:()=>h(!0),disabled:o,className:"glass-button-danger",children:o?"...":""})]}),v.jsx(Bl,{open:f,onOpenChange:h,title:" ?",description:"      .  .",confirmText:"",cancelText:"",variant:"danger",onConfirm:g})]})},U1=()=>{const{user:l}=Bn(),a=en(),[r,i]=j.useState(!1),[o,c]=j.useState(null),[f,h]=j.useState(!1),[g,p]=j.useState(null),[b,w]=j.useState(!1),[_,O]=j.useState(null),[C,N]=Ll({key:"templates-page",initialState:{templates:[],loading:!0},ttl:1800*1e3}),{templates:S,loading:B}=C,A=J=>{N(I=>({...I,templates:J,loading:!1}))},R=J=>{N(I=>({...I,loading:J}))},K=Ln.useCallback(async()=>{if(!l)return;C.templates.length>0||R(!0);const{data:I,error:X}=await se.from("workout_templates").select("id, name, created_at, user_id").eq("user_id",l.id).order("created_at",{ascending:!1});X?console.error("Error fetching templates:",X):A(I||[])},[l,C.templates.length]),te=J=>{N(I=>({...I,templates:I.templates.filter(X=>X.id!==J)})),K()},Q=async J=>{var I;try{if((I=navigator.clipboard)!=null&&I.writeText)return await navigator.clipboard.writeText(J),{ok:!0}}catch(X){console.warn("clipboard writeText failed:",X)}try{const X=document.createElement("textarea");X.value=J,X.setAttribute("readonly",""),X.style.position="absolute",X.style.left="-9999px",document.body.appendChild(X),X.select();const ve=document.execCommand("copy");return document.body.removeChild(X),ve?{ok:!0}:{ok:!1,reason:"execCommand returned false"}}catch(X){return{ok:!1,reason:String(X)}}},q=async(J,I)=>{i(!0);try{const{data:X,error:ve}=await se.from("template_exercises").select("name, sets, reps, rest_seconds, position").eq("template_id",J).order("position");if(ve)throw ve;if(!X||X.length===0){alert("  .    ,  .");return}const Se=R1({name:I,exercises:X});p(Se),h(!0),O(I)}catch(X){console.error("Error sharing template:",X),alert("   : "+((X==null?void 0:X.message)||String(X)))}finally{i(!1)}};return j.useEffect(()=>{K()},[l,K]),j.useEffect(()=>{const J=se.channel("workout_templates_changes").on("postgres_changes",{event:"*",schema:"public",table:"workout_templates",filter:l?`user_id=eq.${l.id}`:void 0},()=>{(async()=>{if(!l)return;const{data:I}=await se.from("workout_templates").select("id, name, created_at, user_id").eq("user_id",l.id).order("created_at",{ascending:!1});A(I||[])})()}).subscribe();return()=>{se.removeChannel(J)}},[l]),v.jsxs("div",{className:"p-4 pb-24",children:[v.jsxs("div",{className:"relative flex justify-start items-center mb-4",children:[v.jsx("h1",{className:"text-3xl font-bold",children:""}),v.jsx("div",{className:"absolute right-0 -top-3 h-10 w-28","aria-hidden":"true"})]}),o&&v.jsx(iv,{open:!!o,onOpenChange:c,templateName:o}),B?v.jsx("div",{className:"fixed inset-0 flex items-center justify-center",style:{background:"transparent"},children:v.jsxs("div",{className:"flex flex-col items-center gap-4",children:[v.jsx("div",{className:"relative w-12 h-12",children:v.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-blue-500 border-r-blue-500 rounded-full animate-spin"})}),v.jsx("p",{className:"text-white text-center",children:" ..."})]})}):S.length===0?v.jsx("div",{className:"mt-4 p-8 text-center glass",children:v.jsx("p",{className:"text-gray-500",children:"    .  !"})}):v.jsx("div",{className:"space-y-3",children:S.map(J=>v.jsxs("div",{className:"p-4 glass card-dark flex items-center justify-between gap-3",children:[v.jsx("button",{onClick:()=>window.location.hash=`#/templates/${J.id}`,className:"text-left flex-1 hover:opacity-90",children:v.jsx("h2",{className:"font-semibold text-lg text-gray-100",children:J.name})}),v.jsx(D1,{id:J.id,name:J.name,onDeleted:te,onShare:q})]},J.id))}),v.jsxs("div",{className:"fixed left-1/2 -translate-x-1/2 bottom-[calc(env(safe-area-inset-bottom)+5.75rem)] z-30 flex gap-3",children:[v.jsx(up,{to:"/templates/new",className:"glass-button-create",children:""}),v.jsx("button",{onClick:()=>a("/templates/import"),className:"glass-button-create",title:" ",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})})]}),r&&v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:v.jsx("div",{className:"glass card-dark p-6 rounded-xl",children:v.jsxs("div",{className:"flex flex-col items-center gap-4",children:[v.jsx("div",{className:"relative w-12 h-12",children:v.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-blue-500 border-r-blue-500 rounded-full animate-spin"})}),v.jsx("p",{className:"text-white",children:" ..."})]})})}),f&&g&&v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:v.jsxs("div",{className:"glass card-dark p-6 rounded-xl max-w-lg w-[92%] max-h-[85vh] overflow-y-auto",children:[v.jsx("h3",{className:"text-lg font-semibold mb-2",children:" ,   "}),v.jsx("textarea",{readOnly:!0,value:g,rows:3,onFocus:J=>J.currentTarget.select(),className:"mb-4 w-full resize-none bg-black/30 text-gray-100 rounded-md p-3 font-mono text-xs leading-relaxed break-all max-h-[40vh] overflow-y-auto"}),v.jsxs("div",{className:"flex gap-2 justify-center",children:[v.jsx("button",{onClick:async()=>{if(!g)return;w(!0);const J=await Q(g);w(!1),J.ok?(c(`${_}`),setTimeout(()=>c(null),2e3),h(!1)):alert(`  .   :    .

: `+J.reason)},className:"glass-button-create",children:b?"...":""}),v.jsx("button",{onClick:()=>h(!1),className:"glass-button-danger",children:""})]})]})})]})},wc=()=>({_tempId:Date.now()+Math.random(),name:"",sets:void 0,reps:"",rest_seconds:void 0}),Xg=()=>{const{id:l}=ap(),{user:a}=Bn(),r=en(),[i,o]=j.useState(""),[c,f]=j.useState([wc()]),[h,g]=j.useState(!0),[p,b]=j.useState(!1),[w,_]=j.useState({open:!1}),[O,C]=j.useState(!1),[N,S]=j.useState(!1),B=Ln.useRef({}),A=Ln.useCallback(I=>{I&&(I.style.height="auto",I.style.height=`${I.scrollHeight}px`)},[]);Ln.useLayoutEffect(()=>{c.forEach(I=>{const X=B.current[I._tempId];X&&A(X)})},[c,A]);const R=({className:I=""})=>v.jsx("button",{type:"button",onClick:()=>r("/templates"),className:`inline-flex items-center justify-center p-2 rounded-full border border-transparent text-white transition-colors bg-transparent hover:border-white active:border-white focus:outline-none ${I}`,"aria-label":"  ",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})});j.useEffect(()=>{l?(async()=>{g(!0);const[{data:X,error:ve},{data:Se,error:Ne}]=await Promise.all([se.from("workout_templates").select("id, name").eq("id",l).single(),se.from("template_exercises").select("id, name, sets, reps, rest_seconds, position").eq("template_id",l).order("position")]);if(ve){console.error("Error fetching template",ve),r("/templates");return}if(Ne&&console.error("Error fetching exercises",Ne),X){o(X.name);const Ee=(Se||[]).map(Qe=>({...Qe,_tempId:Math.random()}));f(Ee.length>0?Ee:[wc()])}g(!1)})():g(!1)},[l,r]),j.useEffect(()=>{const I=()=>{S(window.scrollY>0)};return window.addEventListener("scroll",I,{passive:!0}),()=>window.removeEventListener("scroll",I)},[]);const K=(I,X,ve)=>{f(Se=>Se.map(Ne=>{if(Ne._tempId===I){const Ee={...Ne};if(X==="sets"||X==="rest_seconds"){const Qe=parseInt(ve,10);Ee[X]=isNaN(Qe)?"":Qe}else Ee[X]=ve;return Ee}return Ne}))},te=()=>{f([...c,wc()])},Q=I=>{_({open:!0,tempId:I})},q=I=>{f(X=>X.map(ve=>ve._tempId===I?{...ve,_state:"deleting"}:ve)),setTimeout(()=>{f(X=>X.filter(ve=>ve._tempId!==I))},300)},J=async I=>{if(I.preventDefault(),!a){alert("You must be logged in to save a template.");return}b(!0);try{const{data:X,error:ve}=await se.from("workout_templates").upsert({id:l,name:i,user_id:a.id}).select("id").single();if(ve||!X)throw ve||new Error("Failed to save template.");const Se=X.id;if(l){const{error:Ee}=await se.from("template_exercises").delete().eq("template_id",Se);if(Ee)throw Ee}const Ne=c.filter(Ee=>Ee.name&&Ee.name.trim()!=="").map((Ee,Qe)=>({template_id:Se,name:Ee.name,sets:Number(Ee.sets)||1,reps:Ee.reps||"1",rest_seconds:Number(Ee.rest_seconds)||0,position:Qe}));if(Ne.length>0){const{error:Ee}=await se.from("template_exercises").insert(Ne);if(Ee)throw Ee}C(!0)}catch(X){console.error("Error saving template:",X);try{const Se=l?se.from("workout_templates").select("id").eq("id",l).maybeSingle():se.from("workout_templates").select("id").eq("user_id",a.id).eq("name",i).order("created_at",{ascending:!1}).limit(1).maybeSingle(),{data:Ne}=await Se;if(Ne!=null&&Ne.id){const{count:Ee}=await se.from("template_exercises").select("id",{count:"exact",head:!0}).eq("template_id",Ne.id);C(!0);return}}catch{}const ve=(X.message||"").includes("invalid input syntax for type integer")?'     (, "10-12"). , ,      .  Supabase SQL Editor   ,   "reps"   TEXT.':` : ${X.message}`;alert(ve)}finally{b(!1)}};return h?v.jsx("div",{className:"fixed inset-0 flex items-center justify-center",style:{background:"transparent"},children:v.jsxs("div",{className:"flex flex-col items-center gap-4",children:[v.jsx("div",{className:"relative w-12 h-12",children:v.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-blue-500 border-r-blue-500 rounded-full animate-spin"})}),v.jsx("p",{className:"text-white text-center",children:" ..."})]})}):v.jsxs("div",{className:"relative p-4 max-w-lg mx-auto template-editor",children:[v.jsx("style",{children:`
        .header-container {
          transition: all 0.3s ease-out;
          position: sticky;
          top: 1rem;
          z-index: 30;
        }
        .header-container.scrolling {
          padding: 0.35rem 1rem;
          gap: 0.7rem;
        }
        .header-container h1 {
          overflow: visible;
          transition: font-size 0.3s ease-out, line-height 0.3s ease-out, max-height 0.3s ease-out;
          font-size: 1.25rem;
          line-height: 1.2;
          max-height: 10rem;
        }
        .header-container.scrolling h1 {
          font-size: 1.1rem;
          line-height: 1.2;
          max-height: 1.25em; /* 1  */
          overflow: hidden;
        }
        .header-container.scrolling input {
          font-size: 1.1rem;
          pointer-events: none;
          cursor: default;
        }
        .header-container.scrolling p {
          font-size: 0.8rem;
          line-height: 1.15;
        }
        /*   outline/  hover/focus     */
        .template-editor input,
        .template-editor textarea,
        .template-editor select { outline: none !important; box-shadow: none !important; }
        .template-editor input:hover,
        .template-editor textarea:hover,
        .template-editor select:hover { outline: none !important; box-shadow: none !important; border-color: #3f3f46 !important; }
        .template-editor input:focus,
        .template-editor textarea:focus,
        .template-editor select:focus,
        .template-editor input:focus-visible,
        .template-editor textarea:focus-visible,
        .template-editor select:focus-visible { outline: none !important; box-shadow: none !important; border-color: #3f3f46 !important; }
      `}),v.jsxs("div",{className:`mb-4 glass card-dark p-4 flex items-center gap-4 header-container ${N?"scrolling":""}`,children:[v.jsx(R,{className:"shrink-0"}),v.jsx("div",{className:"flex-1 min-w-0 text-center",children:v.jsx("h1",{className:"text-3xl font-bold",children:l?" ":" "})})]}),v.jsxs("form",{onSubmit:J,className:"space-y-6",style:{paddingBottom:"calc(3rem + env(safe-area-inset-bottom, 0px))"},children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"template-name",className:"block text-sm font-medium",style:{color:"#e4e4e7"},children:" "}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{id:"template-name",type:"text",value:i,onChange:I=>o(I.target.value),placeholder:", Push Day",required:!0,className:"mt-1 block w-full px-3 pr-9 py-2 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",style:{backgroundColor:"#18181b",color:"#fafafa",border:"1px solid #3f3f46"}}),i&&v.jsx("button",{type:"button",onClick:()=>o(""),"aria-label":"",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-white/10 text-gray-300",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("h2",{className:"text-xl font-semibold",children:""}),c.map(I=>v.jsx("div",{className:`exercise-card relative transition-all duration-300 ease-in-out ${I._state==="deleting"?"opacity-0 max-h-0 p-0 border-0 m-0":"glass card-dark"}`,children:v.jsxs("div",{className:`${I._state==="deleting"?"hidden":"p-4 space-y-3"}`,children:[v.jsxs("div",{className:"exercise-card-header mb-3",children:[v.jsxs("div",{className:"name-wrap relative",children:[v.jsx("textarea",{ref:X=>B.current[I._tempId]=X,placeholder:" ",value:I.name||"",onChange:X=>{K(I._tempId,"name",X.target.value),A(X.currentTarget)},rows:1,className:"w-full px-3 pr-9 py-2 rounded-md resize-none overflow-y-hidden min-h-[2.5rem] leading-relaxed",style:{backgroundColor:"#18181b",color:"#fafafa",border:"1px solid #3f3f46",fontFamily:"inherit"}}),I.name&&I.name.trim()!==""&&v.jsx("button",{type:"button",onClick:()=>{K(I._tempId,"name","");const X=B.current[I._tempId];X&&A(X)},"aria-label":"",className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 rounded hover:bg-white/10 text-gray-300",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),v.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),v.jsx("button",{type:"button",onClick:()=>Q(I._tempId),className:"delete-btn btn-glass btn-glass-icon btn-glass-outline","aria-label":" ",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M3 6h18"}),v.jsx("path",{d:"M8 6l1-2h6l1 2"}),v.jsx("path",{d:"M10 11v6"}),v.jsx("path",{d:"M14 11v6"}),v.jsx("path",{d:"M6 6l1 14a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2l1-14"})]})})]}),v.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",style:{color:"#e4e4e7"},children:""}),v.jsx("input",{type:"number",inputMode:"numeric",placeholder:"3",value:I.sets??"",onChange:X=>K(I._tempId,"sets",X.target.value),className:"w-full p-1 text-center rounded-md",style:{backgroundColor:"#18181b",color:"#fafafa",border:"1px solid #3f3f46"}})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",style:{color:"#e4e4e7"},children:""}),v.jsx("input",{type:"text",placeholder:"10-12",value:I.reps||"",onChange:X=>K(I._tempId,"reps",X.target.value),className:"w-full p-1 text-center rounded-md",style:{backgroundColor:"#18181b",color:"#fafafa",border:"1px solid #3f3f46"}})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs",style:{color:"#e4e4e7"},children:" ()"}),v.jsx("input",{type:"number",inputMode:"numeric",placeholder:"60",value:I.rest_seconds??"",onChange:X=>K(I._tempId,"rest_seconds",X.target.value),className:"w-full p-1 text-center rounded-md",style:{backgroundColor:"#18181b",color:"#fafafa",border:"1px solid #3f3f46"}})]})]})]})},I._tempId)),v.jsx("button",{type:"button",onClick:te,className:"btn-dashed",children:"+  "})]}),v.jsx("button",{type:"submit",disabled:p,className:"btn-glass btn-glass-full btn-glass-md btn-glass-primary",children:p?"...":" "})]}),v.jsx(Bl,{open:w.open,onOpenChange:I=>_({open:I}),title:" ?",description:"     .  .",confirmText:"",cancelText:"",variant:"danger",onConfirm:async()=>{w.tempId!==void 0&&q(w.tempId)}}),v.jsx(iv,{open:O,onOpenChange:C,onClose:()=>r("/templates")})]})},z1=()=>{const{user:l,signOut:a}=Bn(),r=en(),[i,o]=j.useState(!1),[c,f]=j.useState(!1),h=Ln.useRef(null);Ln.useEffect(()=>{const b=w=>{h.current&&!h.current.contains(w.target)&&f(!1)};if(c)return document.addEventListener("click",b),()=>document.removeEventListener("click",b)},[c]);const g=async()=>{try{await a(),r("/login",{replace:!0})}catch(b){console.error("Error logging out:",b)}},p=async()=>{if(!l||!l.email)return;if(prompt(`       .

    e-mail: ${l.email}`)!==l.email){alert("  .  .");return}o(!0);try{const{error:w}=await se.rpc("delete_user_account");if(w)throw w;alert("       ."),await a(),r("/login",{replace:!0})}catch(w){console.error("Error deleting account:",w),alert(`   : ${w.message}`)}finally{o(!1)}};return v.jsxs("div",{className:"p-4 space-y-4 max-w-lg mx-auto pt-safe relative",style:{background:"#0a0a0b"},children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h1",{className:"text-3xl font-bold",children:""}),v.jsxs("div",{className:"relative",ref:h,children:[v.jsx("button",{onClick:()=>f(!c),className:"p-2 text-white hover:text-gray-300 transition-colors","aria-label":"",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:v.jsx("path",{d:"M12 8c1.1 0 2-1 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 1-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 1-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"})})}),c&&v.jsx("div",{className:"absolute right-0 mt-2 w-48 menu-popover",children:v.jsx("button",{onClick:()=>{f(!1),p()},disabled:i,className:"w-full text-left px-4 py-2 text-red-400 hover:bg-red-500/10 disabled:opacity-50 transition-colors rounded-lg",children:i?"...":"    "})})]})]}),v.jsx("div",{className:"p-4 glass card-dark rounded-lg shadow",children:l&&v.jsxs("p",{children:["  : ",v.jsx("span",{className:"font-semibold",children:l.email})]})}),v.jsx("div",{className:"space-y-2",children:v.jsx("button",{onClick:g,className:"btn-glass btn-glass-logout btn-glass-full btn-glass-md",children:""})})]})},M1=()=>{const{user:l}=Bn(),a=en(),[r]=Bb(),[i,o]=j.useState(null),[c,f]=j.useState(null),[h,g]=j.useState(!1),[p,b]=j.useState(!1);j.useEffect(()=>{if(r.get("data"))try{const N=window.location.href,S=bc(N);S?o(S):f("    ")}catch(N){f(N.message||"     ")}},[r]),j.useEffect(()=>{!r.get("data")&&!i&&!c&&w()},[r,i,c]);const w=async()=>{b(!0);try{if(!navigator.clipboard||!navigator.clipboard.readText)throw new Error("Clipboard API    ");const C=await navigator.clipboard.readText();if(Jg(C)){const N=bc(C);N?o(N):f("     ")}else f("      .     .")}catch(C){C.name==="NotAllowedError"?f("    .   ."):f("    : "+C.message)}finally{b(!1)}},_=async()=>{if(!(!l||!i)){g(!0);try{const{data:C,error:N}=await se.from("workout_templates").insert({user_id:l.id,name:i.name}).select().single();if(N||!C)throw N||new Error("   ");const S=i.exercises.map(A=>({template_id:C.id,name:A.name,sets:A.sets,reps:A.reps,rest_seconds:A.rest_seconds,position:A.position})),{error:B}=await se.from("template_exercises").insert(S);if(B)throw await se.from("workout_templates").delete().eq("id",C.id),B;a("/templates",{state:{message:` "${i.name}"  !`}})}catch(C){console.error("Error importing template:",C),alert("   : "+C.message)}finally{g(!1)}}},O=()=>{const C=window.prompt("      ");if(!C)return;if(!Jg(C)){f("       ");return}const N=bc(C);N?(o(N),f(null)):f("     ")};return l?v.jsxs("div",{className:"p-4 max-w-lg mx-auto",children:[v.jsxs("div",{className:"mb-4 glass card-dark p-4 flex items-center gap-4",children:[v.jsx("button",{onClick:()=>a("/templates"),className:"shrink-0 p-2 rounded-full border border-transparent text-white hover:border-white transition-colors",children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),v.jsx("h1",{className:"text-2xl font-bold text-center flex-1",children:" "})]}),p&&v.jsx("div",{className:"glass card-dark p-8 rounded-xl",children:v.jsxs("div",{className:"flex flex-col items-center gap-4",children:[v.jsx("div",{className:"relative w-12 h-12",children:v.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-blue-500 border-r-blue-500 rounded-full animate-spin"})}),v.jsx("p",{className:"text-white text-center",children:"  ..."})]})}),c&&!p&&v.jsxs("div",{className:"glass card-dark p-6 rounded-xl mb-4",children:[v.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-400 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),v.jsx("p",{className:"text-red-300",children:c})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("button",{onClick:w,className:"btn-glass btn-glass-full btn-glass-md btn-glass-primary",children:"  "}),v.jsx("button",{onClick:O,className:"btn-glass btn-glass-full btn-glass-md btn-glass-secondary",children:"  "})]})]}),i&&!p&&v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"glass card-dark p-6 rounded-xl",children:[v.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:i.name}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("p",{className:"text-gray-300",children:[": ",v.jsx("span",{className:"font-semibold text-white",children:i.exercises.length})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2",children:":"}),v.jsx("div",{className:"space-y-2",children:i.exercises.map((C,N)=>v.jsxs("div",{className:"text-sm text-gray-300 pl-4 border-l-2 border-white/20",children:[v.jsx("div",{className:"font-medium text-white",children:C.name}),v.jsxs("div",{className:"text-xs text-gray-400",children:[C.sets,"   ",C.reps,"   : ",C.rest_seconds,""]})]},N))})]})]})]}),v.jsx("button",{onClick:_,disabled:h,className:"btn-glass btn-glass-full btn-glass-lg btn-glass-primary disabled:opacity-50",children:h?v.jsxs("div",{className:"flex items-center justify-center gap-2",children:[v.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),v.jsx("span",{children:"..."})]}):" "})]}),!i&&!c&&!p&&v.jsxs("div",{className:"glass card-dark p-8 rounded-xl text-center",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto mb-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),v.jsx("p",{className:"text-gray-400 mb-4",children:"       "}),v.jsx("button",{onClick:w,className:"btn-glass btn-glass-md btn-glass-primary",children:"  "}),v.jsx("div",{className:"mt-2",children:v.jsx("button",{onClick:O,className:"btn-glass btn-glass-md btn-glass-secondary",children:"  "})})]})]}):v.jsx("div",{className:"p-4 max-w-lg mx-auto",children:v.jsxs("div",{className:"glass card-dark p-8 rounded-xl text-center",children:[v.jsx("p",{className:"text-gray-300 mb-4",children:",   "}),v.jsx("button",{onClick:()=>a("/login"),className:"btn-glass btn-glass-md btn-glass-primary",children:""})]})})},L1=()=>{const{user:l}=Bn(),a=en(),[r,i]=Ll({key:"exercise-history-page",initialState:{searchQuery:"",results:[],loading:!1,hasSearched:!1,lastUpdated:null,lastQuery:null},ttl:1800*1e3}),{searchQuery:o,results:c,loading:f,hasSearched:h,lastUpdated:g,lastQuery:p}=r,b=Pr(o,500),w="scroll:exercise-history",_=j.useRef(!1),O=j.useRef(0),C=j.useRef(null),N=180*1e3,S=j.useCallback(async A=>{if(!l||!A.trim()){i(R=>({...R,results:[],hasSearched:!1,loading:!1,lastUpdated:null}));return}i(R=>({...R,loading:!0,hasSearched:!0}));try{const{data:R,error:K}=await se.from("workout_exercises").select(`
          id,
          name,
          workout_id,
          workout_sets (
            set_index,
            weight,
            reps,
            is_done
          ),
          workouts!inner (
            id,
            workout_date,
            name,
            user_id
          )
        `).eq("workouts.user_id",l.id).ilike("name",`%${A.trim()}%`).order("workouts(workout_date)",{ascending:!1});if(K)throw K;const te=[];R&&R.forEach(Q=>{if(!Q.workouts)return;const q=(Q.workout_sets||[]).map(J=>({setIndex:J.set_index,weight:J.weight,reps:J.reps,isDone:J.is_done})).sort((J,I)=>J.setIndex-I.setIndex);te.push({exerciseName:Q.name,exerciseId:Q.id,workoutDate:Q.workouts.workout_date,workoutName:Q.workouts.name,workoutId:Q.workouts.id,sets:q})}),i(Q=>({...Q,results:te,lastUpdated:Date.now(),lastQuery:A.trim()}))}catch(R){console.error("Error searching exercises:",R),i(K=>({...K,results:[]}))}finally{i(R=>({...R,loading:!1}))}},[l]);j.useEffect(()=>{const A=b.trim();if(!A){i(R=>({...R,results:[],hasSearched:!1,loading:!1,lastUpdated:null,lastQuery:null}));return}p===A&&g&&Date.now()-g<N||S(A)},[b,S,g,p,i]),j.useEffect(()=>{if(c.length!==0)try{const A=localStorage.getItem(w);if(A){const R=parseInt(A,10);Number.isNaN(R)||(_.current=!0,requestAnimationFrame(()=>{requestAnimationFrame(()=>{window.scrollTo({top:R,behavior:"auto"}),O.current=R,setTimeout(()=>{_.current=!1},100)})}))}}catch{}},[c.length,w]),j.useEffect(()=>{let A=!1;const R=()=>{O.current=window.scrollY,!A&&!_.current&&(window.requestAnimationFrame(()=>{try{localStorage.setItem(w,String(O.current))}catch{}A=!1}),A=!0)};return window.addEventListener("scroll",R,{passive:!0}),()=>window.removeEventListener("scroll",R)},[w]),j.useEffect(()=>()=>{if(O.current>0)try{localStorage.setItem(w,String(O.current))}catch{}},[w]),j.useEffect(()=>{const A=()=>{if(document.visibilityState==="visible"){const R=o.trim();l&&R&&(p!==R||!g||Date.now()-g>=N)&&S(R)}};return document.addEventListener("visibilitychange",A),()=>document.removeEventListener("visibilitychange",A)},[l,o,S,g,p]);const B=(A,R)=>{a(`/workout/${A}`,{state:{focusExerciseId:R}})};return v.jsxs("div",{className:"p-4 space-y-4 max-w-4xl mx-auto pt-safe",children:[v.jsx("h1",{className:"text-3xl font-bold mb-6",children:" "}),v.jsx("div",{className:"glass card-dark rounded-full px-4 py-3",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-5 w-5 text-gray-400",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-4.35-4.35m0 0A7.5 7.5 0 103.5 10.5a7.5 7.5 0 0013.15 6.15z"})}),v.jsx("input",{ref:C,type:"text",value:o,onChange:A=>i(R=>({...R,searchQuery:A.target.value})),placeholder:"","aria-label":" ",className:"flex-1 bg-transparent !bg-transparent border-0 !border-0 outline-none ring-0 focus:outline-none focus:ring-0 appearance-none text-white placeholder-gray-500 text-base shadow-none",style:{background:"transparent",backgroundColor:"transparent",border:0,boxShadow:"none",outline:"none"}}),v.jsx("button",{type:"button",onClick:()=>{var A;i(R=>({...R,searchQuery:""})),(A=C.current)==null||A.focus()},"aria-label":"","aria-hidden":!o,className:`shrink-0 w-7 h-7 grid place-items-center rounded-full text-gray-400 hover:text-gray-200 hover:bg-white/10 transition ${o?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,children:v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"h-4 w-4",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6l12 12M18 6L6 18"})})})]})}),f&&v.jsx("div",{className:"flex items-center justify-center py-12",children:v.jsxs("div",{className:"flex flex-col items-center gap-4",children:[v.jsx("div",{className:"relative w-12 h-12",children:v.jsx("div",{className:"absolute inset-0 border-4 border-transparent border-t-blue-500 border-r-blue-500 rounded-full animate-spin"})}),v.jsx("p",{className:"text-white text-center",children:"..."})]})}),!f&&h&&c.length===0&&v.jsxs("div",{className:"text-center py-12",children:[v.jsx("p",{className:"text-gray-400 text-lg",children:"  "}),v.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"  "})]}),!f&&!h&&!o&&v.jsxs("div",{className:"text-center py-12",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-600 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:v.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),v.jsx("p",{className:"text-gray-400 text-lg",children:"   "}),v.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"       "})]}),!f&&c.length>0&&v.jsx("div",{className:"space-y-4",children:c.map((A,R)=>v.jsxs("div",{className:"glass card-dark rounded-lg p-4 hover:bg-white/5 transition-colors cursor-pointer",onClick:()=>B(A.workoutDate,A.exerciseId),children:[v.jsxs("div",{className:"mb-3",children:[v.jsxs("div",{className:"flex items-baseline justify-between gap-3",children:[v.jsx("h3",{className:"text-lg font-semibold text-white leading-tight",children:A.exerciseName}),v.jsx("p",{className:"text-sm font-medium text-blue-400 shrink-0",children:Tl(A.workoutDate)})]}),v.jsx("p",{className:"text-sm text-gray-400 mt-0.5",children:A.workoutName})]}),v.jsx("div",{className:"space-y-2",children:A.sets.length>0?v.jsx("div",{className:"grid grid-cols-1 gap-2",children:A.sets.map((K,te)=>v.jsxs("div",{className:"grid grid-cols-[96px_1fr_1fr] items-center gap-2 px-3 py-2 rounded bg-gray-800/30 border border-gray-700/60",children:[v.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[K.isDone&&v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),v.jsxs("span",{className:"text-sm text-gray-400",children:[" ",K.setIndex]})]}),v.jsxs("div",{className:"text-sm flex items-baseline gap-1 whitespace-nowrap tabular-nums",children:[v.jsx("span",{className:"text-gray-400",children:":"}),v.jsx("span",{className:"text-white",children:K.weight!==null?`${K.weight} `:""})]}),v.jsxs("div",{className:"text-sm flex items-baseline gap-1 whitespace-nowrap tabular-nums",children:[v.jsx("span",{className:"text-gray-400",children:":"}),v.jsx("span",{className:"text-white",children:K.reps??""})]})]},te))}):v.jsx("p",{className:"text-sm text-gray-500",children:"   "})})]},`${A.workoutId}-${R}`))})]})},B1=()=>v.jsx(op,{to:"/calendar",replace:!0}),q1=()=>v.jsxs(Tb,{children:[v.jsx(Ft,{path:"/login",element:v.jsx(w1,{})}),v.jsxs(Ft,{path:"/",element:v.jsx(b1,{children:v.jsx(y1,{})}),children:[v.jsx(Ft,{index:!0,element:v.jsx(B1,{})}),v.jsx(Ft,{path:"calendar",element:v.jsx(E1,{})}),v.jsx(Ft,{path:"workout/:date",element:v.jsx(k1,{})}),v.jsx(Ft,{path:"templates",element:v.jsx(U1,{})}),v.jsx(Ft,{path:"templates/new",element:v.jsx(Xg,{})}),v.jsx(Ft,{path:"templates/:id",element:v.jsx(Xg,{})}),v.jsx(Ft,{path:"templates/import",element:v.jsx(M1,{})}),v.jsx(Ft,{path:"profile",element:v.jsx(z1,{})}),v.jsx(Ft,{path:"exercise-history",element:v.jsx(L1,{})})]})]}),H1=()=>v.jsx(Ub,{children:v.jsx(h1,{children:v.jsx("div",{style:{minHeight:"100svh"},children:v.jsx(q1,{})})})}),$1=async()=>{const{data:l}=await se.auth.getSession();return l.session?l.session:new Promise(a=>{const{data:{subscription:r}}=se.auth.onAuthStateChange((i,o)=>{r.unsubscribe(),a(o??null)})})};if("serviceWorker"in navigator){const l=()=>{navigator.serviceWorker.register("/GymLog/sw.js",{scope:"/GymLog/",updateViaCache:"none"}).then(r=>{let i=!1;const o=()=>{i||(i=!0,window.location.reload())},c=()=>{var f;(f=r.waiting)==null||f.postMessage("SKIP_WAITING")};if(navigator.serviceWorker.addEventListener("controllerchange",o),r.waiting){c();return}r.addEventListener("updatefound",()=>{const f=r.installing;f&&f.addEventListener("statechange",()=>{f.state==="installed"&&c()})})}).catch(r=>{console.error("Service worker registration failed:",r)})};window.addEventListener("load",l)}const lv=document.getElementById("root");if(!lv)throw new Error("Could not find root element to mount to");const ov=Cy.createRoot(lv),V1=()=>{ov.render(v.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background text-foreground",children:v.jsx("p",{children:"..."})}))},G1=async()=>{V1();try{await $1()}catch(l){console.error("   :",l)}ov.render(v.jsx(H1,{}))};G1();
