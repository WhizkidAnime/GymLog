/* Цветовые переменные и фон с эффектом liquid glass (iOS 16 style) */
:root {
  --bg: #0a0a0b;          /* zinc-950 */
  --fg: #fafafa;          /* near-white */
  --glass-bg: rgba(24,24,27,0.55);
  --glass-border: rgba(255,255,255,0.08);
  --blob-a: #1d4ed8;      /* blue-700 */
  --blob-b: #6d28d9;      /* violet-700 */
  --blob-c: #059669;      /* emerald-600 */
  --sat: env(safe-area-inset-top);
  --sab: env(safe-area-inset-bottom);
  --sal: env(safe-area-inset-left);
  --sar: env(safe-area-inset-right);
  --dock-total-h: 96px;
}

html, body, #root { height: 100%; }

body {
  margin: 0;
  min-height: 100svh;
  background: var(--bg);
  color: var(--fg);
  overscroll-behavior-x: none;
  overscroll-behavior-y: none;
  -webkit-tap-highlight-color: transparent;
}

button {
  outline: none;
}

button:focus,
button:focus-visible {
  outline: none;
}

a:focus,
a:focus-visible {
  outline: none;
}

[role="button"]:focus,
[role="button"]:focus-visible {
  outline: none;
}

svg:focus,
svg:focus-visible {
  outline: none;
}

.recharts-wrapper:focus,
.recharts-surface:focus,
.recharts-layer:focus {
  outline: none;
}

#root {
  display: flex;
  flex-direction: column;
  padding-top: var(--sat);
  padding-left: var(--sal);
  padding-right: var(--sar);
}

.pt-safe { padding-top: calc(16px + var(--sat)); }
.pb-safe { padding-bottom: calc(16px + var(--sab)); }

/* Базовые элементы форм под тёмную тему */
input[type="text"],
input[type="number"],
input[type="password"],
input[type="email"],
textarea,
select {
  background-color: #18181b; /* zinc-900 */
  color: #fafafa;            /* белый текст */
  border: 1px solid #3f3f46; /* zinc-700 */
}

.search-input {
  background-color: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
}

.search-input::placeholder {
  color: rgba(255, 255, 255, 0.7) !important;
}

.light-theme .search-input {
  background-color: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
  color: #1d1d1f;
}

.light-theme .search-input::placeholder {
  color: rgba(0, 0, 0, 0.4) !important;
}

/* Иконка архива: белая в тёмной теме, чёрная в светлой */
.archive-icon-link {
  color: inherit;
}
.archive-icon-link:hover {
  color: inherit;
}
.light-theme .archive-icon-link {
  color: inherit;
}
.light-theme .archive-icon-link:hover {
  color: inherit;
}

.archive-icon-img {
  filter: invert(1) brightness(2) contrast(1.2);
}
.archive-icon-link:hover .archive-icon-img {
  opacity: 0.8;
}
.light-theme .archive-icon-img {
  filter: invert(0);
}

input::placeholder,
textarea::placeholder {
  color: rgba(161,161,170,0.4); /* заметно более бледный placeholder */
}

input:-webkit-autofill,
textarea:-webkit-autofill {
  -webkit-box-shadow: 0 0 0 1000px #18181b inset;
  -webkit-text-fill-color: #fafafa;
}

/* Карточки/контейнеры */
.card-dark {
  background-color: #111113; /* близко к zinc-950 */
  color: var(--fg);
  border: 1px solid #27272a; /* zinc-800 */
  overflow: visible;
}

/* Хедер карточки упражнения: название + кнопка удаления */
.exercise-card-header {
  display: flex;
  align-items: center;
  gap: 8px;
}

.exercise-card-header .name-wrap { flex: 1 1 auto; }
.exercise-card .delete-btn {
  position: static;
  background: transparent;
  border: none;
  box-shadow: none;
  -webkit-backdrop-filter: none;
  backdrop-filter: none;
  margin-right: -10px; /* компенсируем внутренний паддинг кнопки для ровного края */
}

/* Жидкие цветовые пятна на фоне */
body::before {
  content: "";
  position: fixed;
  inset: -25% -25% -15% -25%;
  z-index: -1;
  pointer-events: none;
  background:
    radial-gradient(40% 40% at 20% 10%, color-mix(in oklab, var(--blob-a) 40%, transparent) 0%, transparent 60%),
    radial-gradient(35% 35% at 80% 20%, color-mix(in oklab, var(--blob-b) 45%, transparent) 0%, transparent 60%),
    radial-gradient(45% 45% at 50% 80%, color-mix(in oklab, var(--blob-c) 40%, transparent) 0%, transparent 65%);
  filter: blur(60px) saturate(140%);
  opacity: 0.45;
}

/* Универсальный класс стеклянной карточки */
.glass {
  background: var(--glass-bg);
  -webkit-backdrop-filter: saturate(160%) blur(18px);
  backdrop-filter: saturate(160%) blur(18px);
  border: 1px solid var(--glass-border);
  box-shadow: 0 10px 30px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.06);
  border-radius: 16px;
  overflow: visible;
}

/* Полупрозрачная нижняя навигация */
.glass-nav {
  background: color-mix(in oklab, var(--glass-bg) 92%, transparent);
  -webkit-backdrop-filter: saturate(160%) blur(14px);
  backdrop-filter: saturate(160%) blur(14px);
  border-top: 1px solid var(--glass-border);
}

/* Стеклянная кнопка "Создать" в стиле дока */
.glass-button-create {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 10px 18px;
  border-radius: 14px;
  color: #fff;
  text-decoration: none;
  background: color-mix(in oklab, var(--glass-bg) 90%, transparent);
  -webkit-backdrop-filter: saturate(170%) blur(16px);
  backdrop-filter: saturate(170%) blur(16px);
  border: 1px solid rgba(255,255,255,0.15);
  box-shadow: 0 10px 24px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.12);
  transition: transform .15s ease, box-shadow .2s ease, background .2s ease;
}

.glass-button-create:hover { transform: translateY(-1px); }
.glass-button-create:active { transform: translateY(0) scale(0.98); }

/* Красная версия стеклянной кнопки в стиле "создать" */
.glass-button-danger {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 10px 18px;
  border-radius: 14px;
  color: #fff;
  text-decoration: none;
  background: linear-gradient(
    180deg,
    color-mix(in oklab, #ef4444 35%, transparent),
    color-mix(in oklab, #dc2626 45%, transparent)
  );
  -webkit-backdrop-filter: saturate(170%) blur(16px);
  backdrop-filter: saturate(170%) blur(16px);
  border: 1px solid rgba(239, 68, 68, 0.35);
  box-shadow: 0 10px 24px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.12);
  transition: transform .15s ease, box-shadow .2s ease, background .2s ease;
}

.glass-button-danger:hover { transform: translateY(-1px); }
.glass-button-danger:active { transform: translateY(0) scale(0.98); }

/* --- Bottom dock (скриншот‑стиль) --- */
.bottom-dock-wrapper {
  position: fixed;
  left: 0; right: 0; bottom: 0;
  z-index: 9999;
  padding: 8px 9.6px calc(8px + var(--sab));
  display: flex;
  justify-content: center;
  pointer-events: none;
  /* iOS PWA keyboard fix */
  -webkit-transform: translate3d(0, 0, 0);
  transform: translate3d(0, 0, 0);
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  will-change: transform;
  contain: layout style;
}

.glass-dock {
  position: relative;
  width: 80%;
  max-width: 368px;
  border-radius: 32px;
  background: color-mix(in oklab, var(--glass-bg) 70%, transparent);
  -webkit-backdrop-filter: saturate(200%) blur(26px);
  backdrop-filter: saturate(200%) blur(26px);
  border: 1px solid color-mix(in oklab, var(--fg) 12%, transparent);
  box-shadow:
    0 20px 50px rgba(0,0,0,0.55),
    inset 0 1px 0 rgba(255,255,255,0.14),
    inset 0 -10px 22px rgba(0,0,0,0.3);
  pointer-events: auto;
}

.glass-dock::before {
  /* верхний блик стекла */
  content: "";
  position: absolute;
  inset: 0 10px auto 10px;
  height: 1px;
  border-radius: 999px;
  background: linear-gradient(to right, transparent, rgba(255,255,255,0.45), transparent);
  opacity: 0.75;
  pointer-events: none;
}

.glass-dock::after {
  /* мягкие неоновые пятна под табами */
  content: "";
  position: absolute;
  inset: 8px 22px;
  pointer-events: none;
  border-radius: 24px;
  background:
    radial-gradient(38% 70% at 20% 50%, rgba(56,189,248,0.16), transparent 70%),
    radial-gradient(38% 70% at 80% 50%, rgba(56,189,248,0.10), transparent 70%);
  filter: blur(18px);
  mix-blend-mode: screen;
}

.dock-track {
  position: relative;
  display: grid;
  grid-template-columns: repeat(var(--tabs-count, 3), minmax(0, 1fr));
  align-items: stretch;
  height: 64px;
  padding: 8px 9px;
  gap: 4px;
}

.dock-indicator {
  position: absolute;
  inset: 4px;
  border-radius: 999px;
  overflow: visible;
  pointer-events: none;
  z-index: 0;
}

.dock-indicator::before {
  content: "";
  position: absolute;
  inset: -20%;
  border-radius: inherit;
  background: radial-gradient(
    circle at 50% 50%,
    rgba(56, 189, 248, 0.35),
    rgba(56, 189, 248, 0.1) 50%,
    transparent 70%
  );
  filter: blur(16px);
  mix-blend-mode: screen;
  opacity: 0.8;
}

.dock-item {
  position: relative;
  z-index: 2;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 2px;
  color: rgba(248,250,252,0.7);
  text-decoration: none;
  -webkit-tap-highlight-color: transparent;
  transition:
    color .3s cubic-bezier(0.4, 0, 0.2, 1),
    transform .15s ease,
    background .35s cubic-bezier(0.4, 0, 0.2, 1);
  border-radius: 34px;
  padding: 6px 10px 10px;
  background: transparent;
}

.dock-item .icon {
  position: relative;
  display: grid;
  place-items: center;
  transform: translateY(-1px);
  transition:
    transform .35s cubic-bezier(0.22, 0.61, 0.36, 1),
    filter .35s ease,
    color .35s ease;
}

.dock-item .icon svg {
  width: 22px;
  height: 22px;
}
.dock-item .label {
  position: absolute;
  left: 50%;
  bottom: 6px;
  transform: translate(-50%, 6px);
  font-size: 10px;
  line-height: 1;
  font-weight: 500;
  opacity: 0;
  pointer-events: none;
  transition:
    opacity .3s ease,
    transform .3s ease;
}

.dock-item:hover {
  color: rgba(255,255,255,0.9);
  transform: scale(1.05);
}

.dock-item:active {
  transform: scale(0.97);
}

.dock-item.active {
  color: #f9fafb;
}

.dock-item.active .icon {
  transform: translateY(-3px);
}

.dock-item.active .icon svg {
  filter: drop-shadow(0 0 8px rgba(255,255,255,0.5));
}

.dock-item.active .label {
  opacity: 1;
  transform: translate(-50%, 0);
}

/* Fallback без backdrop-filter */
@supports not ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))) {
  .glass-dock {
    background: rgba(24,24,27,0.96);
  }
}

/* ========================================
   LIQUID GLASS BUTTON SYSTEM
   ======================================== */

/* Базовый glass-стиль для всех кнопок */
.btn-glass {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 10px 18px;
  border-radius: 14px;
  font-weight: 600;
  text-decoration: none;
  color: #fff;
  background: color-mix(in oklab, var(--glass-bg) 90%, transparent);
  -webkit-backdrop-filter: saturate(170%) blur(16px);
  backdrop-filter: saturate(170%) blur(16px);
  border: 1px solid rgba(255,255,255,0.15);
  box-shadow: 
    0 10px 24px rgba(0,0,0,0.35), 
    inset 0 1px 0 rgba(255,255,255,0.12);
  transition: transform .15s ease, box-shadow .2s ease, background .2s ease;
  cursor: pointer;
  -webkit-tap-highlight-color: transparent;
}

.btn-glass:hover {
  transform: translateY(-1px);
  box-shadow: 
    0 14px 28px rgba(0,0,0,0.4), 
    inset 0 1px 0 rgba(255,255,255,0.15);
}

.btn-glass:active {
  transform: translateY(0) scale(0.98);
  box-shadow: 
    0 6px 16px rgba(0,0,0,0.3), 
    inset 0 1px 0 rgba(255,255,255,0.1);
}

.btn-glass:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

/* Размеры кнопок */
.btn-glass-sm {
  padding: 6px 12px;
  font-size: 0.875rem;
  border-radius: 10px;
}

.btn-glass-md {
  padding: 10px 18px;
  font-size: 1rem;
  border-radius: 14px;
}

.btn-glass-lg {
  padding: 14px 24px;
  font-size: 1.125rem;
  border-radius: 16px;
}

/* Цветовые варианты */

/* Акцентная синяя кнопка */
.btn-glass-primary {
  background: linear-gradient(
    180deg,
    color-mix(in oklab, #3b82f6 50%, transparent),
    color-mix(in oklab, #2563eb 60%, transparent)
  );
  border-color: rgba(59, 130, 246, 0.4);
  color: #fff;
}

.btn-glass-primary:hover {
  background: linear-gradient(
    180deg,
    color-mix(in oklab, #3b82f6 60%, transparent),
    color-mix(in oklab, #2563eb 70%, transparent)
  );
}

/* Зелёная кнопка (успех) */
.btn-glass-success {
  background: linear-gradient(
    180deg,
    color-mix(in oklab, #10b981 50%, transparent),
    color-mix(in oklab, #059669 60%, transparent)
  );
  border-color: rgba(16, 185, 129, 0.4);
  color: #fff;
}

.btn-glass-success:hover {
  background: linear-gradient(
    180deg,
    color-mix(in oklab, #10b981 60%, transparent),
    color-mix(in oklab, #059669 70%, transparent)
  );
}

/* Красная кнопка (опасность) */
.btn-glass-danger {
  background: linear-gradient(
    180deg,
    color-mix(in oklab, #ef4444 50%, transparent),
    color-mix(in oklab, #dc2626 60%, transparent)
  );
  border-color: rgba(239, 68, 68, 0.4);
  color: #fff;
}

.btn-glass-danger:hover {
  background: linear-gradient(
    180deg,
    color-mix(in oklab, #ef4444 60%, transparent),
    color-mix(in oklab, #dc2626 70%, transparent)
  );
}

/* Серая кнопка (вторичная) */
.btn-glass-secondary {
  background: color-mix(in oklab, var(--glass-bg) 85%, transparent);
  border-color: rgba(255,255,255,0.12);
  color: rgba(255,255,255,0.9);
}

.btn-glass-secondary:hover {
  background: color-mix(in oklab, var(--glass-bg) 95%, transparent);
  border-color: rgba(255,255,255,0.18);
}

/* Полная ширина */
.btn-glass-full { width: 100%; }

/* Кнопка-иконка (квадратная) */
.btn-glass-icon { padding: 10px; aspect-ratio: 1; }

/* Кнопка с бордером (outline стиль) */
.btn-glass-outline {
  background: transparent;
  border: 2px solid rgba(255,255,255,0.2);
  -webkit-backdrop-filter: none;
  backdrop-filter: none;
  box-shadow: none;
}

.btn-glass-outline:hover {
  background: color-mix(in oklab, var(--glass-bg) 40%, transparent);
  border-color: rgba(255,255,255,0.3);
}

/* Жёлтая предупреждающая кнопка */
.btn-glass-warning {
  background: linear-gradient(
    180deg,
    color-mix(in oklab, #eab308 50%, transparent),
    color-mix(in oklab, #ca8a04 60%, transparent)
  );
  border-color: rgba(234, 179, 8, 0.4);
  color: #000;
  font-weight: 700;
}

.btn-glass-warning:hover {
  background: linear-gradient(
    180deg,
    color-mix(in oklab, #eab308 60%, transparent),
    color-mix(in oklab, #ca8a04 70%, transparent)
  );
}

/* Компактная иконка-кнопка для управления */
.btn-glass-icon-sm {
  padding: 8px;
  min-width: 36px;
  height: 36px;
  border-radius: 12px;
  font-size: 1.125rem;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Увеличенная иконка-кнопка (x1.5 от sm) */
.btn-glass-icon-lg {
  padding: 12px;
  min-width: 54px;
  height: 54px;
  border-radius: 18px;
  font-size: 1.6875rem; /* 1.125rem * 1.5 */
  font-weight: 800;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Круглая иконка-кнопка */
.btn-glass-icon-round {
  padding: 8px;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  font-size: 1.125rem;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Пунктирная прозрачная кнопка (как на скрине "+ Добавить упражнение") */
.btn-dashed {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  padding: 12px 16px;
  border-radius: 14px;
  background: transparent;
  color: rgba(255,255,255,0.9);
  border: 2px dashed rgba(255,255,255,0.35);
  -webkit-tap-highlight-color: transparent;
  transition: background .15s ease, transform .1s ease;
}

.btn-dashed:hover { background: rgba(255,255,255,0.04); }
.btn-dashed:active { transform: scale(0.99); }
.btn-dashed:disabled { opacity: .5; cursor: not-allowed; }

/* Красная glass-кнопка (logout) */
.btn-glass-logout {
  background: linear-gradient(
    180deg,
    color-mix(in oklab, #ef4444 45%, transparent),
    color-mix(in oklab, #dc2626 55%, transparent)
  );
  border-color: rgba(239, 68, 68, 0.35);
  color: #fff;
}

.btn-glass-logout:hover {
  background: linear-gradient(
    180deg,
    color-mix(in oklab, #ef4444 55%, transparent),
    color-mix(in oklab, #dc2626 65%, transparent)
  );
}

/* Универсальный класс для поповеров меню с матовым стеклом */
.menu-popover {
  background: var(--glass-bg);
  -webkit-backdrop-filter: saturate(160%) blur(18px);
  backdrop-filter: saturate(160%) blur(18px);
  border: 1px solid var(--glass-border);
  box-shadow: 0 10px 30px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.06);
  border-radius: 8px;
  z-index: 50;
  min-width: 12.5rem;
}

.menu-popover-templates {
  /* Glass-эффект для меню шаблонов, как для выпадающего списка периода */
  background: rgba(24, 24, 27, 0.95);
  -webkit-backdrop-filter: saturate(160%) blur(36px);
  backdrop-filter: saturate(160%) blur(36px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  border-radius: 12px;
}

.back-button-plain,
.back-button-plain:hover,
.back-button-plain:active,
.back-button-plain:focus {
  background: transparent !important;
  box-shadow: none !important;
  border-color: transparent !important;
}

/* Возвращаем плейсхолдер при фокусе, чтобы он оставался до первого ввода символа */
input:focus::placeholder,
textarea:focus::placeholder {
  opacity: 1;
}

/* Светлая иконка календаря в полях даты под тёмную тему */
input[type="date"]::-webkit-calendar-picker-indicator {
  filter: invert(1) brightness(1.5);
  opacity: 0.9;
}

/* ========================================
   LIGHT THEME
   ======================================== */

.light-theme {
  --bg: #f5f5f7;
  --fg: #1d1d1f;
  --glass-bg: rgba(255,255,255,0.75);
  --glass-border: rgba(0,0,0,0.08);
}

.light-theme body {
  background: var(--bg);
  color: var(--fg);
}

.light-theme body::before {
  opacity: 0.25;
}

/* Карточки */
.light-theme .card-dark {
  background-color: rgba(255,255,255,0.9);
  color: var(--fg);
  border-color: rgba(0,0,0,0.1);
}

.light-theme .glass {
  background: var(--glass-bg);
  border-color: var(--glass-border);
  box-shadow: 0 4px 20px rgba(0,0,0,0.06), inset 0 1px 0 rgba(255,255,255,0.8);
}

/* Templates archive checkbox */
.archive-checkbox {
  background: rgba(255,255,255,0.04);
  border-color: rgba(255,255,255,0.4);
}

.light-theme .archive-checkbox:not(.bg-green-500) {
  background: rgba(0,0,0,0.04);
}

.light-theme .archive-checkbox:not(.border-green-400) {
  border-color: rgba(0,0,0,0.35);
}

/* Текст */
.light-theme .text-white {
  color: #1d1d1f;
}

.calendar-day,
.calendar-day-today {
  color: #ffffff;
}

.light-theme .calendar-day {
  color: #1d1d1f;
}

.light-theme .calendar-day-today {
  color: #ffffff !important;
}

.light-theme .text-gray-100 {
  color: #3d3d3f;
}

.light-theme .text-gray-200 {
  color: #4d4d4f;
}

.light-theme .text-gray-300 {
  color: #5d5d5f;
}

.light-theme .text-gray-400 {
  color: #6d6d6f;
}

.light-theme .text-gray-500 {
  color: #8d8d8f;
}

/* Инпуты */
.light-theme input[type="text"],
.light-theme input[type="number"],
.light-theme input[type="password"],
.light-theme input[type="email"],
.light-theme input[type="date"],
.light-theme textarea,
.light-theme select {
  background-color: rgba(0,0,0,0.05);
  color: #1d1d1f;
  border-color: rgba(0,0,0,0.15);
}

.light-theme input::placeholder,
.light-theme textarea::placeholder {
  color: rgba(0,0,0,0.35);
}

.light-theme input:-webkit-autofill,
.light-theme textarea:-webkit-autofill {
  -webkit-box-shadow: 0 0 0 1000px #f5f5f7 inset;
  -webkit-text-fill-color: #1d1d1f;
}

/* Иконка календаря в светлой теме */
.light-theme input[type="date"]::-webkit-calendar-picker-indicator {
  filter: none;
  opacity: 0.7;
}

/* Кнопки glass */
.light-theme .btn-glass {
  background: rgba(255,255,255,0.8);
  border-color: rgba(0,0,0,0.1);
  color: #1d1d1f;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08), inset 0 1px 0 rgba(255,255,255,0.9);
}

.light-theme .btn-glass-primary {
  background: linear-gradient(180deg, #3b82f6, #2563eb);
  color: #fff;
  border-color: rgba(59, 130, 246, 0.5);
}

.light-theme .btn-glass-secondary {
  background: rgba(0,0,0,0.05);
  border-color: rgba(0,0,0,0.12);
  color: #3d3d3f;
}

.light-theme .btn-glass-danger,
.light-theme .btn-glass-logout {
  background: linear-gradient(180deg, #ef4444, #dc2626);
  color: #fff;
  border-color: rgba(239, 68, 68, 0.5);
}

/* Bottom dock */
.light-theme .glass-dock {
  background: rgba(255,255,255,0.85);
  border-color: rgba(0,0,0,0.1);
  box-shadow: 0 10px 40px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.9);
}

.light-theme .dock-item {
  color: rgba(0,0,0,0.5);
}

.light-theme .dock-item.active {
  color: #1d1d1f;
}

.light-theme .dock-item.active .icon svg {
  filter: drop-shadow(0 0 6px rgba(59, 130, 246, 0.4));
}

/* Меню popover */
.light-theme .menu-popover {
  background: rgba(255,255,255,0.95);
  border-color: rgba(0,0,0,0.1);
  box-shadow: 0 10px 30px rgba(0,0,0,0.12);
}

.light-theme .menu-popover button:hover {
  background: rgba(0,0,0,0.05);
}

/* Status bar blur */
.light-theme .status-bar-blur {
  background: rgba(245, 245, 247, 0.7);
}

/* Фон white/X */
.light-theme .bg-white\/5 {
  background-color: rgba(0,0,0,0.03);
}

.light-theme .bg-white\/10 {
  background-color: rgba(0,0,0,0.06);
}

.light-theme .bg-white\/20 {
  background-color: rgba(0,0,0,0.1);
}

/* Границы white/X */
.light-theme .border-white\/10 {
  border-color: rgba(0,0,0,0.08);
}

.light-theme .border-white\/20 {
  border-color: rgba(0,0,0,0.12);
}

/* Hover states */
.light-theme .hover\:bg-white\/5:hover {
  background-color: rgba(0,0,0,0.03);
}

.light-theme .hover\:bg-white\/10:hover {
  background-color: rgba(0,0,0,0.06);
}

.light-theme .hover\:text-white:hover {
  color: #1d1d1f;
}

.light-theme .cardio-warning {
  background-color: rgba(245, 158, 11, 0.14) !important;
  border-color: rgba(245, 158, 11, 0.38) !important;
}

.light-theme .cardio-warning-title {
  color: #92400e !important;
}

.light-theme .cardio-warning-text {
  color: rgba(120, 53, 15, 0.92) !important;
}

/* Loader */
.light-theme .border-t-blue-500 {
  border-top-color: #3b82f6;
}

.light-theme .border-r-blue-500 {
  border-right-color: #3b82f6;
}

/* Loader green для кардио */
.light-theme .border-t-green-500 {
  border-top-color: #059669;
}

.light-theme .border-r-green-500 {
  border-right-color: #059669;
}

/* Зелёный цвет в кардио (более насыщенный для светлой темы) */
.light-theme .text-green-400 {
  color: #059669 !important;
}

.light-theme .text-green-500 {
  color: #047857 !important;
}

.light-theme .bg-green-500\/20,
.light-theme .bg-green-500\/30 {
  background-color: rgba(5, 150, 105, 0.2) !important;
}

.light-theme .border-green-400\/40,
.light-theme .border-green-500\/30 {
  border-color: rgba(5, 150, 105, 0.4) !important;
}

/* Синий цвет */
.light-theme .text-blue-400 {
  color: #2563eb !important;
}

/* Заголовки и текст в светлой теме */
.light-theme h1,
.light-theme h2,
.light-theme h3 {
  color: #1d1d1f;
}

.light-theme .text-lg,
.light-theme .text-xl,
.light-theme .text-2xl,
.light-theme .text-3xl {
  color: #1d1d1f;
}

.light-theme .font-bold,
.light-theme .font-semibold {
  color: inherit;
}

/* Принудительное перекрашивание элементов с inline-стилями */
.light-theme .template-editor label[style],
.light-theme label[style*="color"] {
  color: #1d1d1f !important;
}

.light-theme input[style],
.light-theme textarea[style],
.light-theme .template-editor input,
.light-theme .template-editor textarea {
  background-color: rgba(0, 0, 0, 0.05) !important;
  color: #1d1d1f !important;
  border-color: rgba(0, 0, 0, 0.15) !important;
}

/* ExerciseCard поля ввода и лейблы */
.light-theme .exercise-card input,
.light-theme .exercise-card textarea {
  background-color: rgba(0, 0, 0, 0.05) !important;
  color: #1d1d1f !important;
  border-color: rgba(0, 0, 0, 0.15) !important;
}

.light-theme .exercise-card [style*="color: rgb(161, 161, 170)"],
.light-theme .exercise-card [style*="color:#a1a1aa"] {
  color: #4b5563 !important;
}

/* Карточки в светлой теме - улучшенная видимость */
.light-theme .exercise-card {
  background-color: rgba(255, 255, 255, 0.95) !important;
  border: 1px solid rgba(0, 0, 0, 0.1) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08) !important;
}

/* Фон для строк в ExerciseCard */
.light-theme .exercise-card [style*="backgroundColor: rgba(255,255,255,0.02)"],
.light-theme .exercise-card [style*="backgroundColor: rgba(255,255,255,0.03)"] {
  background-color: rgba(0, 0, 0, 0.03) !important;
}

/* Модальные окна */
.light-theme [role="dialog"] .glass.card-dark {
  background-color: rgba(255, 255, 255, 0.98) !important;
  border-color: rgba(0, 0, 0, 0.1) !important;
}

/* Description в диалогах - более контрастный */
.light-theme [role="dialog"] p[style*="color"],
.light-theme [role="dialog"] .text-sm[style] {
  color: #4b5563 !important;
}

/* Placeholder в светлой теме */
.light-theme input::placeholder,
.light-theme textarea::placeholder {
  color: rgba(0, 0, 0, 0.4) !important;
}

/* SVG иконки в кнопках */
.light-theme .btn-glass svg,
.light-theme .btn-glass-secondary svg {
  color: inherit;
}

/* Кнопка back */
.light-theme .back-button-plain {
  color: #1d1d1f;
}

/* Header container */
.light-theme .header-container {
  background-color: rgba(255, 255, 255, 0.9) !important;
  border-color: rgba(0, 0, 0, 0.08) !important;
}

/* Status bar blur для светлой темы */
.light-theme .status-bar-blur.visible {
  background: rgba(245, 245, 247, 0.85);
}

/* Dropdown меню */
.light-theme [style*="background: rgba(24,24,27"] {
  background: rgba(255, 255, 255, 0.98) !important;
}

/* Icon picker */
.light-theme .bg-white\/5 {
  background-color: rgba(0, 0, 0, 0.04) !important;
}

.light-theme .bg-white\/10 {
  background-color: rgba(0, 0, 0, 0.06) !important;
}

.light-theme .bg-white\/20 {
  background-color: rgba(0, 0, 0, 0.1) !important;
}

/* Ring для selected items */
.light-theme .ring-white\/50 {
  --tw-ring-color: rgba(0, 0, 0, 0.2);
}

/* btn-dashed */
.light-theme .btn-dashed {
  color: #4b5563;
  border-color: rgba(0, 0, 0, 0.2);
}

.light-theme .btn-dashed:hover {
  background-color: rgba(0, 0, 0, 0.05);
}

/* Template editor labels и inputs */
.template-label {
  color: #ffffff;
}

.light-theme .template-label {
  color: #1d1d1f !important;
}

.template-sublabel {
  color: #e4e4e7;
}

.light-theme .template-sublabel {
  color: #4b5563 !important;
}

.template-input {
  background-color: #18181b;
  color: #fafafa;
  border: 1px solid #3f3f46;
}

.light-theme .template-input {
  background-color: rgba(0, 0, 0, 0.05) !important;
  color: #1d1d1f !important;
  border-color: rgba(0, 0, 0, 0.15) !important;
}

/* Dialog description */
.dialog-description {
  color: #a1a1aa;
}

.light-theme .dialog-description {
  color: #4b5563 !important;
}

/* ExerciseCard row headers */
.exercise-row-header {
  color: #a1a1aa;
  background-color: rgba(255, 255, 255, 0.02);
}

.light-theme .exercise-row-header {
  color: #4b5563 !important;
  background-color: rgba(0, 0, 0, 0.03) !important;
}

.exercise-sets-header {
  color: #a1a1aa;
  background-color: rgba(255, 255, 255, 0.03);
}

.light-theme .exercise-sets-header {
  color: #4b5563 !important;
  background-color: rgba(0, 0, 0, 0.04) !important;
}

/* ExerciseCard textarea */
.light-theme .exercise-card textarea {
  background-color: rgba(0, 0, 0, 0.05) !important;
  color: #1d1d1f !important;
  border-color: rgba(0, 0, 0, 0.15) !important;
}

.light-theme .exercise-card textarea:hover {
  background-color: rgba(0, 0, 0, 0.07) !important;
  border-color: rgba(0, 0, 0, 0.2) !important;
}

.light-theme .exercise-card textarea:focus {
  background-color: rgba(0, 0, 0, 0.05) !important;
  border-color: rgba(0, 0, 0, 0.3) !important;
}

/* Last performance block */
.light-theme .exercise-card .rounded-2xl.bg-white\/5 {
  background-color: rgba(0, 0, 0, 0.04) !important;
}

/* SetRow inputs */
.light-theme .exercise-card input[type="text"],
.light-theme .exercise-card input[type="number"] {
  background-color: rgba(0, 0, 0, 0.06) !important;
  color: #1d1d1f !important;
  border-color: rgba(0, 0, 0, 0.12) !important;
}

.light-theme .exercise-card input.setrow-input-done-white {
  background-color: #ffffff !important;
  color: #000000 !important;
}

/* Profile page */
.profile-page {
  background: transparent;
}

.light-theme .profile-page {
  background: transparent;
}

/* SetRow inputs */
.setrow-input {
  background-color: #18181b;
  color: #fafafa;
}

.setrow-input-done-white {
  background-color: #ffffff !important;
  color: #000000 !important;
}

.light-theme .setrow-input {
  background-color: rgba(0, 0, 0, 0.06) !important;
  color: #1d1d1f !important;
}

.light-theme .setrow-input-done-white {
  background-color: #ffffff !important;
  color: #000000 !important;
}

/* text-white в кнопках профиля */
.light-theme .profile-page .text-white {
  color: #1d1d1f;
}

/* Меню кнопка */
.light-theme .profile-page button.text-white {
  color: #1d1d1f;
}

/* Кнопки в профиле */
.light-theme .btn-glass-secondary {
  background: rgba(0, 0, 0, 0.05) !important;
  border-color: rgba(0, 0, 0, 0.12) !important;
  color: #3d3d3f !important;
}

.light-theme .btn-glass-secondary:hover {
  background: rgba(0, 0, 0, 0.08) !important;
}

/* Email блок */
.light-theme .profile-page p {
  color: #1d1d1f;
}

/* Settings panel */
.light-theme .profile-page .glass.card-dark h2 {
  color: #1d1d1f !important;
}

/* Иконка импорта (белая SVG) - инвертируем в светлой теме */
.light-theme .glass-button-create img {
  filter: invert(1);
}

/* Кнопки создания на TemplatesPage */
.light-theme .glass-button-create {
  background: rgba(0, 0, 0, 0.05) !important;
  border-color: rgba(0, 0, 0, 0.12) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06) !important;
}

.light-theme .glass-button-create:hover {
  background: rgba(0, 0, 0, 0.08) !important;
}

.light-theme .glass-button-create svg {
  color: #1d1d1f;
}

/* Menu popover в светлой теме */
.light-theme .menu-popover {
  background: rgba(255, 255, 255, 0.98) !important;
  border-color: rgba(0, 0, 0, 0.1) !important;
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15) !important;
}

.light-theme .menu-popover button {
  color: #3d3d3f !important;
}

.light-theme .menu-popover button:hover {
  background: rgba(0, 0, 0, 0.05) !important;
}

.light-theme .menu-popover button.text-red-400 {
  color: #dc2626 !important;
}

.light-theme .menu-popover button.text-red-400:hover {
  background: rgba(220, 38, 38, 0.1) !important;
}

/* Workout page */
.light-theme .text-green-300 {
  color: #059669 !important;
}

.light-theme .text-red-300 {
  color: #dc2626 !important;
}

.light-theme .bg-green-500\/20 {
  background-color: rgba(5, 150, 105, 0.15) !important;
}

.light-theme .bg-red-500\/20 {
  background-color: rgba(220, 38, 38, 0.15) !important;
}

/* Textarea для заметок */
.light-theme textarea.bg-white\/5 {
  background-color: rgba(0, 0, 0, 0.04) !important;
  color: #1d1d1f !important;
  border-color: rgba(0, 0, 0, 0.1) !important;
}

.light-theme textarea.placeholder-gray-400::placeholder {
  color: rgba(0, 0, 0, 0.4) !important;
}

/* Кнопка меню (три точки) */
.light-theme button.text-white:not(.btn-glass-primary):not(.btn-glass-danger):not(.btn-glass-logout) {
  color: #1d1d1f !important;
}

/* p.text-white */
.light-theme p.text-white {
  color: #1d1d1f !important;
}

/* Последний рабочий вес текст */
.light-theme .exercise-card .text-white {
  color: #1d1d1f !important;
}

.light-theme .exercise-card .text-gray-300 {
  color: #4b5563 !important;
}

.light-theme .exercise-card .text-gray-400 {
  color: #6b7280 !important;
}

.light-theme .exercise-card .text-gray-500 {
  color: #9ca3af !important;
}

/* Дата в WorkoutHeader */
.workout-date-text {
  color: #a1a1aa;
}

.light-theme .workout-date-text {
  color: #4b5563 !important;
}

/* Icon picker - более контрастное выделение выбранной иконки */
.light-theme .ring-white\/50 {
  --tw-ring-color: rgba(59, 130, 246, 0.5) !important;
}

.light-theme .bg-white\/20.ring-2 {
  background-color: rgba(59, 130, 246, 0.15) !important;
}

/* Icon picker кнопки */
.icon-picker-selected {
  background-color: rgba(255, 255, 255, 0.2);
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.5);
}

.light-theme .icon-picker-selected {
  background-color: rgba(59, 130, 246, 0.15) !important;
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5) !important;
  border: 1px solid rgba(59, 130, 246, 0.3) !important;
}

.light-theme .icon-picker-btn {
  background-color: rgba(0, 0, 0, 0.04);
}

.light-theme .icon-picker-btn:hover {
  background-color: rgba(0, 0, 0, 0.08);
}

.light-theme .icon-picker-btn span {
  color: #4b5563;
}

/* Progress page dropdown меню */
.progress-dropdown-menu {
  background: rgba(24, 24, 27, 0.95);
  backdrop-filter: saturate(160%) blur(36px);
  -webkit-backdrop-filter: saturate(160%) blur(24px);
}

.light-theme .progress-dropdown-menu {
  background: rgba(255, 255, 255, 0.98) !important;
  backdrop-filter: none;
  -webkit-backdrop-filter: none;
  border-color: rgba(0, 0, 0, 0.1) !important;
}

.light-theme .progress-dropdown-menu button {
  color: #3d3d3f !important;
  border-color: rgba(0, 0, 0, 0.05) !important;
}

.light-theme .progress-dropdown-menu button:hover {
  background-color: rgba(0, 0, 0, 0.05) !important;
}

.light-theme .progress-dropdown-menu button.bg-green-500\/20 {
  background-color: rgba(5, 150, 105, 0.15) !important;
  color: #059669 !important;
}

/* Progress dropdown button */
.light-theme .progress-dropdown-btn {
  background-color: rgba(0, 0, 0, 0.04) !important;
  border-color: rgba(0, 0, 0, 0.1) !important;
  color: #3d3d3f !important;
}

.light-theme .progress-dropdown-btn:hover {
  background-color: rgba(0, 0, 0, 0.08) !important;
  border-color: rgba(0, 0, 0, 0.15) !important;
}

.light-theme .progress-dropdown-btn svg {
  color: #6b7280 !important;
}

/* Chart в светлой теме */
.light-theme .recharts-cartesian-axis-tick text {
  fill: #4b5563 !important;
}

.light-theme .recharts-cartesian-axis-line {
  stroke: rgba(0, 0, 0, 0.1) !important;
}

.light-theme .recharts-cartesian-grid-horizontal line {
  stroke: rgba(0, 0, 0, 0.08) !important;
}

.light-theme .recharts-tooltip-wrapper {
  outline: none;
}

/* Tooltip для графика */
.light-theme .glass.card-dark.recharts-tooltip {
  background-color: rgba(255, 255, 255, 0.95) !important;
  border-color: rgba(0, 0, 0, 0.1) !important;
}

.light-theme .recharts-tooltip p {
  color: #4b5563 !important;
}

.light-theme .recharts-tooltip .text-white {
  color: #1d1d1f !important;
}

.light-theme .recharts-tooltip .text-gray-300 {
  color: #4b5563 !important;
}

.light-theme .recharts-tooltip .text-gray-400 {
  color: #6b7280 !important;
}

/* Search input */
.search-input {
  background: transparent;
  color: #ffffff;
}

.light-theme .search-input {
  background: transparent !important;
  color: #1d1d1f !important;
}

.light-theme .search-input::placeholder {
  color: rgba(0, 0, 0, 0.4) !important;
}

/* Search container */
.search-container {
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.light-theme .search-container {
  background: rgba(0, 0, 0, 0.04) !important;
  border-color: rgba(0, 0, 0, 0.1) !important;
}

.light-theme .search-container svg {
  color: #6b7280 !important;
}

/* Dropset indicators */
.dropset-indicator,
.dropset-btn {
  color: #ffffff;
}

.light-theme .dropset-indicator,
.light-theme .dropset-btn {
  color: #000000;
}

/* Когда подход завершен, цвет всегда черный */
.dropset-indicator.is-done,
.dropset-btn.is-done {
  color: #000000 !important;
}

/* ========================================
   CUSTOM SCROLLBAR
   ======================================== */

/* Кастомный скроллбар для модальных окон */
.custom-scrollbar {
  scrollbar-width: thin;
  scrollbar-color: rgba(255, 255, 255, 0.15) transparent;
}

.custom-scrollbar::-webkit-scrollbar {
  width: 6px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: transparent;
  margin: 8px 0;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.15);
  border-radius: 3px;
  transition: background 0.2s ease;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.25);
}

/* На мобильных устройствах скрываем скроллбар */
@media (max-width: 768px) and (hover: none) {
  .custom-scrollbar {
    scrollbar-width: none;
  }
  
  .custom-scrollbar::-webkit-scrollbar {
    display: none;
  }
}

/* Светлая тема */
.light-theme .custom-scrollbar {
  scrollbar-color: rgba(0, 0, 0, 0.15) transparent;
}

.light-theme .custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.15);
}

.light-theme .custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.25);
}

